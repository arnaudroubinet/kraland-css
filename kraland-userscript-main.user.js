// ==UserScript==
// @name         Kraland Theme (Bundled)
// @namespace    http://www.kraland.org/
// @version      1.0.1771972873123
// @description  Injects the Kraland CSS theme (bundled) - Works with Tampermonkey & Violentmonkey
// @match        http://www.kraland.org/*
// @run-at       document-start
// @grant        none
// @grant        GM.xmlHttpRequest
// @connect      raw.githubusercontent.com
// @compatible   chrome tampermonkey
// @compatible   firefox tampermonkey
// @compatible   edge tampermonkey
// @compatible   firefox violentmonkey
// @compatible   chrome violentmonkey
// ==/UserScript==

!function(){"use strict";const t="1.0.1771972873123",e={_t0:performance.now(),_marks:[],bootTime:0,start(t){performance.mark("kr-"+t+"-start")},end(t){const e="kr-"+t+"-start",r="kr-"+t+"-end";performance.mark(r);try{const o=performance.measure("kr-"+t,e,r);this._marks.push({label:t,duration:o.duration})}catch(t){}},report(){this.bootTime=performance.now()-this._t0,this.print()},results(){return{bootTime:+this.bootTime.toFixed(1),phases:this._marks.map(t=>({phase:t.label,ms:+t.duration.toFixed(2)})),entries:performance.getEntriesByType("measure").filter(t=>t.name.startsWith("kr-")).map(t=>({name:t.name.replace("kr-",""),ms:+t.duration.toFixed(2)}))}},print(){const t=this.results(),e=("undefined"!=typeof unsafeWindow?unsafeWindow:window).console;e.group("[Kraland Perf] Boot total : "+t.bootTime+" ms"),e.table(t.phases),e.groupEnd()}};try{("undefined"!=typeof unsafeWindow?unsafeWindow:window).KralandPerf=e}catch(t){window.KralandPerf=e}function r(){return document.body&&document.body.classList&&document.body.classList.contains("mobile-mode")}const o={_callbacks:[],_listening:!1,add(t,e=200){let r;this._callbacks.push(()=>{e>0?(clearTimeout(r),r=setTimeout(t,e)):t()}),this._listening||(this._listening=!0,window.addEventListener("resize",()=>{this._callbacks.forEach(t=>t())}))}},a={_queue:[],_initialized:!1,register(t,e,r=100){this._queue.push({name:t,fn:e,priority:r})},run(){this._initialized||(this._initialized=!0,this._queue.sort((t,e)=>t.priority-e.priority),r(),e.start("InitQueue"),this._queue.forEach(({name:t,fn:r})=>{try{e.start("module:"+t),r(),e.end("module:"+t)}catch(r){e.end("module:"+t)}}),e.end("InitQueue"))}};if(function(){let t=null;function e(){return window.innerWidth<768}function r(){const r=e();document.body&&t!==r&&(t=r,r?(document.body.classList.add("mobile-mode"),document.querySelectorAll('[class*="col-"]').forEach(t=>{t.style.setProperty("padding-left","0px","important"),t.style.setProperty("padding-right","0px","important")}),document.querySelectorAll(".row").forEach(t=>{t.style.setProperty("margin-left","0px","important"),t.style.setProperty("margin-right","0px","important")}),document.querySelectorAll(".container, .container-fluid").forEach(t=>{t.style.setProperty("padding-left","0px","important"),t.style.setProperty("padding-right","0px","important")}),document.querySelectorAll(".dashboard").forEach(t=>{t.style.setProperty("margin-left","0px","important"),t.style.setProperty("margin-right","0px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("padding","0px","important")})):document.body.classList.remove("mobile-mode"))}function a(){if(!document.body)return;const t=window.location.pathname;t.includes("/kramail")?(document.body.classList.add("page-kramail"),t.match(/\/kramail\/post\/nouveau/)&&document.body.classList.add("page-kramail-compose")):t.startsWith("/forum/")?document.body.classList.add("page-forum"):"/accueil"===t&&document.body.classList.add("page-accueil")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r(),o.add(r,250),window.KralandMobile={isMobile:e,reinit:r},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}(),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;if("undefined"==typeof jQuery||void 0===jQuery.fn.collapse)return void function(){const t=document.querySelector(".navbar-toggle"),e=document.querySelector(".navbar-collapse");t&&e&&t.addEventListener("click",function(r){r.preventDefault(),e.classList.toggle("in");const o=e.classList.contains("in");t.setAttribute("aria-expanded",o),document.body.style.overflow=o?"hidden":""})}();const t=document.querySelector(".navbar-toggle"),e=document.querySelector(".navbar-collapse");if(t&&e){if(t.getAttribute("data-toggle")||t.setAttribute("data-toggle","collapse"),!t.getAttribute("data-target")){const r=e.id||"navbar-collapse-mobile";e.id=r,t.setAttribute("data-target","#"+r)}!function(){const t=document.querySelector(".navbar-collapse");if(!t)return;t.querySelectorAll("a:not(.dropdown-toggle)").forEach(e=>{e.addEventListener("click",function(){setTimeout(()=>{"undefined"!=typeof jQuery&&jQuery.fn.collapse?jQuery(t).collapse("hide"):(t.classList.remove("in"),document.body.style.overflow="")},150)})})}()}}a.register("initMobileHeader",t,10),window.KralandMobile&&(window.KralandMobile.reinitHeader=t)}(),a.register("moveHeaderButtons",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelector(".navbar-header"),e=document.querySelector(".navbar-right");if(!t||!e)return;const r=Array.from(e.querySelectorAll("li")),o=r.find(t=>t.querySelector(".fa-bell")&&!t.querySelector(".dropdown-menu")),a=r.find(t=>t.querySelector(".fa-envelope")&&!t.querySelector(".dropdown-menu")),n=r.find(t=>t.querySelector(".fa-globe")&&!t.querySelector(".dropdown-menu"));if(!o&&!a&&!n)return;if(o&&o.hasAttribute("data-moved-to-header"))return;const i=document.createElement("div");i.className="navbar-header-buttons-left",o&&(o.setAttribute("data-moved-to-header","true"),i.appendChild(o.cloneNode(!0))),a&&(a.setAttribute("data-moved-to-header","true"),i.appendChild(a.cloneNode(!0))),n&&(n.setAttribute("data-moved-to-header","true"),i.appendChild(n.cloneNode(!0))),i.children.length>0&&t.insertBefore(i,t.firstChild);const l=document.querySelector(".navbar-brand");l&&(l.style.display="none")},20),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-mini-profile"))return;const t=function(){const t=document.getElementById("player-header-section"),e=document.getElementById("player-main-panel");if(!t||!e)return null;const r=t.querySelector(".list-group-item.active"),o=r?r.textContent.replace("×","").trim():"Joueur",a=e.querySelector('.btn.alert100 img, a[href*="perso"] img, img[src*="avatar"]'),n=a?a.src:null;let i=null;const l=document.querySelectorAll("div.mini.t");for(const t of l)if(t.querySelector("i.fa.fa-coins")&&t.textContent.includes("MØ")){i=t;break}const d=i?i.textContent.trim():"0 MØ",p=document.getElementById("player-vitals-section"),m=p?p.querySelector(".c100"):null,c=(t,e)=>{if(!t)return null;const r=Array.from(t.querySelectorAll("*")).find(t=>{const r=t.textContent.trim(),o=r.startsWith(e)||r.includes(` ${e} `),a=/\d+/.test(r);return o&&a&&t.children.length<=2});if(!r)return null;const o=r.textContent.trim();if(o.match(/(\d+)\s*\/\s*(\d+)/))return function(t,e){const r=t.textContent,o=r.match(/(\d+)\s*\/\s*(\d+)|(\d+)\s+\/\s+(\d+)/);if(!o){const t=r.match(/\d+/);if(t){const r=parseInt(t[0]);return{type:e,current:r,max:r,percent:100}}return{type:e,current:0,max:1,percent:0}}const a=parseInt(o[1]||o[3]),n=parseInt(o[2]||o[4]);return{type:e,current:a,max:n,percent:Math.min(100,a/n*100)}}(r,e.toLowerCase());{const t=o.match(/\d+/);if(!t)return null;const a=parseInt(t[0]),n=r.querySelector('.progress-bar, [class*="bar"]');let i=a;if(n){const t=n.style.width;if(t&&t.includes("%")){const e=parseInt(t);e>0&&(i=Math.round(100*a/e))}}const l=i>0?Math.min(100,a/i*100):0;return{type:e.toLowerCase(),current:a,max:i,percent:l}}};return{name:o,avatar:n,money:d,clock:m?m.textContent.trim():"--:--",gauges:{pv:c(p,"PV"),pm:c(p,"PM"),pp:c(p,"PP")}}}();if(!t)return;const e=document.createElement("div");e.className="mobile-mini-profile collapsed",e.setAttribute("data-task","1.4");const r=document.createElement("div");if(r.className="mobile-mini-profile-header",t.avatar){const e=document.createElement("img");e.src=t.avatar,e.className="avatar",e.alt="Avatar",r.appendChild(e)}const o=document.createElement("div");o.className="mobile-mini-profile-info";const a=document.createElement("div");a.className="mobile-mini-profile-name-row";const n=document.createElement("div");n.className="mobile-mini-profile-name",n.textContent=t.name,a.appendChild(n);const i=document.createElement("a");i.href="#",i.className="btn btn-default alert100 mobile-mini-profile-manage-btn",i.innerHTML="<span>⚙️</span>",i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","bottom"),i.setAttribute("title","Gestion du personnage"),a.appendChild(i),o.appendChild(a);const l=document.createElement("div");l.className="mobile-mini-profile-money",l.innerHTML=`\n        <span>${t.money}</span>\n        <span class="mobile-mini-profile-clock">⏱️ ${t.clock}</span>\n      `,o.appendChild(l),r.appendChild(o),e.appendChild(r);const d=document.createElement("div");d.className="mobile-mini-profile-gauges-compact",["pv","pm","pp"].forEach(e=>{const r=t.gauges[e];if(!r)return;const o=document.createElement("div");o.className="mobile-gauge-compact",o.innerHTML=`\n          <span class="mobile-gauge-compact-label">${e.toUpperCase()}</span>\n          <div class="mobile-gauge-compact-bar">\n            <div class="mobile-gauge-compact-fill ${e}" style="width: ${r.percent}%"></div>\n          </div>\n          <span class="mobile-gauge-compact-value">${r.current}</span>\n        `,d.appendChild(o)}),e.appendChild(d);const p=document.createElement("div");p.className="mobile-mini-profile-details";const m=document.createElement("div");m.className="mobile-mini-profile-gauges-full",["pv","pm","pp"].forEach(e=>{const r=t.gauges[e];if(!r)return;const o=document.createElement("div");o.className="mobile-gauge-full",o.innerHTML=`\n          <div class="mobile-gauge-full-header">\n            <span>${e.toUpperCase()}</span>\n            <span>${r.current}/${r.max}</span>\n          </div>\n          <div class="mobile-gauge-full-bar">\n            <div class="mobile-gauge-full-fill ${e}" style="width: ${r.percent}%"></div>\n          </div>\n        `,m.appendChild(o)}),p.appendChild(m);const c=document.createElement("div");c.className="mobile-mini-profile-characteristics";const s=document.getElementById("col-leftest-stats");if(s){const t=[];for(let e=121;e<=126;e++){const r=s.querySelector(`.alert${e}`);r&&t.push(r)}t.length>0&&(t.forEach(t=>{const e=t.cloneNode(!0);e.className=t.className+" mobile-characteristic-badge",e.style.cssText="min-width: 44px; min-height: 44px; margin: 4px;",c.appendChild(e)}),p.appendChild(c))}const b=document.createElement("div");b.className="mobile-mini-profile-skills";const u=document.getElementById("skills-panel");if(u){const t=u.querySelectorAll('.ds_game[class*="alert11"]');t.length>0&&(t.forEach(t=>{const e=t.cloneNode(!0);e.className=t.className+" mobile-skill-item",e.style.cssText="min-height: 44px; margin: 4px; display: flex; align-items: center; justify-content: center;",b.appendChild(e)}),p.appendChild(b))}e.appendChild(p),e.addEventListener("click",t=>{t.target.closest(".mobile-mini-profile-avatar-btn, .mobile-characteristic-badge, .mobile-skill-item")||(e.classList.toggle("collapsed"),e.classList.toggle("expanded"))});const g=document.querySelector(".navbar"),h=document.getElementById("content")||document.body;g&&g.nextSibling?g.parentNode.insertBefore(e,g.nextSibling):h.insertBefore(e,h.firstChild)}()}a.register("initMiniProfile",t,40),window.KralandMobile&&(window.KralandMobile.initMiniProfile=t)}(),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-quick-actions"))return;if(!window.location.pathname.startsWith("/jouer/"))return;const t=document.getElementById("player-actions-section");if(!t)return;const e=t.querySelectorAll("a.btn, button.btn");if(0===e.length)return;const r=document.createElement("div");r.className="btn-group btn-group-justified mobile-quick-actions",r.setAttribute("role","group"),r.setAttribute("data-task","1.5"),e.forEach(t=>{const e=document.createElement("div");e.className="btn-group",e.setAttribute("role","group");const o=t.cloneNode(!0);o.classList.add("mobile-quick-action");const a=o.querySelector("i"),n=o.textContent.trim();if(o.innerHTML="",a){const t=a.cloneNode(!0);t.classList.add("mobile-quick-action-icon"),o.appendChild(t)}const i=document.createElement("span");i.className="mobile-quick-action-label",i.textContent=n,o.appendChild(i),e.appendChild(o),r.appendChild(e)});const o=document.querySelector(".navbar");o&&o.nextSibling?o.parentNode.insertBefore(r,o.nextSibling):document.body.insertBefore(r,document.body.firstChild)}()}a.register("initQuickActions",t,50),window.KralandMobile&&(window.KralandMobile.initQuickActions=t)}(),function(){function t(){if(!r())return;if("/"!==window.location.pathname&&"/accueil"!==window.location.pathname&&!window.location.pathname.endsWith("/"))return;const t=document.querySelector(".carousel");t&&t.remove()}a.register("removeHomepageCarousel",t,5),window.KralandMobile&&(window.KralandMobile.removeHomepageCarousel=t)}(),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-tab-bar"))return;if(!window.location.pathname.startsWith("/jouer/"))return;const t=function(){const t=[];return[{pattern:"/jouer/plateau",href:"/jouer/plateau",label:"Agir",icon:"fa-bolt"},{pattern:"/jouer/materiel",href:"/jouer/materiel",label:"Matériel",icon:"fa-cube"},{pattern:"/jouer/perso",href:"/jouer/perso",label:"Personnage",icon:"fa-user"},{pattern:"/jouer/bat",href:"/jouer/bat",label:"Bâtiments",icon:"fa-home"},{pattern:"/jouer/pnj",href:"/jouer/pnj",label:"Employés",icon:"fa-users"}].forEach(e=>{const r=document.querySelector(`a[href*="${e.pattern}"]`);t.push({href:r?r.getAttribute("href"):e.href,text:r&&r.textContent.trim()||e.label,pattern:e.pattern,icon:e.icon})}),t}();if(0===t.length)return;const e=document.createElement("ul");e.className="nav nav-tabs mobile-tab-bar",e.setAttribute("role","tablist"),t.forEach(t=>{const r=document.createElement("li");r.setAttribute("role","presentation");const o=document.createElement("a");o.href=t.href,o.setAttribute("role","tab");const a=document.createElement("i");a.className=`fa ${t.icon} mobile-tab-icon`;const n=document.createElement("span");n.className="mobile-tab-label",n.textContent=t.text,o.appendChild(a),o.appendChild(n),window.location.pathname.includes(t.pattern)?(r.classList.add("active"),o.setAttribute("aria-selected","true")):o.setAttribute("aria-selected","false"),r.appendChild(o),e.appendChild(r)});const r=document.querySelector(".navbar")||document.querySelector("header")||document.body.firstElementChild;r&&r.nextSibling?r.parentNode.insertBefore(e,r.nextSibling):document.body.insertBefore(e,document.body.firstChild),function(t){const e=()=>{const e=t.scrollLeft+t.clientWidth>=t.scrollWidth-5;t.classList.toggle("scrolled-end",e)};t.addEventListener("scroll",e,{passive:!0}),setTimeout(e,100),o.add(e,100)}(e),setTimeout(()=>function(t){const e=t.querySelector("li.active > a");if(!e)return;const r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=o.left-r.left-r.width/2+o.width/2;t.scrollTo({left:t.scrollLeft+a,behavior:"smooth"})}(e),100)}()}window.KralandMobile&&(window.KralandMobile.initTabBar=t),a.register("initTabBar",t,30)}(),function(){const t="kraland_dismissed_alerts";function e(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}function r(t){return t.id?t.id:"alert_"+function(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;return Math.abs(e).toString(36)}(t.textContent.trim().replace(/\s+/g," "))}function o(){!function(){const t=e();0!==t.length&&document.querySelectorAll(".alert.alert-dismissible").forEach(e=>{const o=r(e);t.includes(o)&&(e.style.display="none")})}(),document.querySelectorAll(".alert.alert-dismissible").forEach(o=>{const a=o.querySelector('.close, [data-dismiss="alert"]');a&&a.addEventListener("click",function(){!function(r){try{const o=e();o.includes(r)||(o.push(r),localStorage.setItem(t,JSON.stringify(o)))}catch(t){}}(r(o))})})}function a(){if(!window.location.pathname.includes("/profil/interface"))return;const r=setInterval(()=>{const o=document.querySelector("#kr-tamper-theme-form");if(!o)return;clearInterval(r);const a=document.createElement("div");a.className="form-group",a.style.marginTop="20px",a.style.paddingTop="15px",a.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";const n=document.createElement("label");n.className="col-sm-3 control-label",n.style.paddingLeft="0px",n.style.paddingRight="0px",n.textContent="Alertes";const i=document.createElement("div");i.className="col-sm-9",i.style.paddingLeft="0px";const l=document.createElement("button");l.type="button",l.className="btn btn-warning kr-reset-alerts-btn",l.style.width="33.333%",l.style.display="inline-block";const d=document.createElement("span");d.className="glyphicon glyphicon-refresh",d.style.marginRight="5px";const p=document.createTextNode("Réinitialiser les alertes fermées");l.appendChild(d),l.appendChild(p),l.addEventListener("click",function(){const r=e().length;0!==r?confirm(`Voulez-vous vraiment réinitialiser ${r} alerte(s) fermée(s) ? Elles réapparaîtront lors du prochain chargement de page.`)&&(localStorage.removeItem(t),d.className="glyphicon glyphicon-ok",l.textContent="",l.appendChild(d),l.appendChild(document.createTextNode(" "+(1===r?"1 alerte réinitialisée !":`${r} alertes réinitialisées !`))),l.className="btn btn-success kr-reset-alerts-btn",c(),setTimeout(()=>{d.className="glyphicon glyphicon-refresh",l.textContent="",l.appendChild(d),l.appendChild(document.createTextNode(" Réinitialiser les alertes fermées")),l.className="btn btn-warning btn-block"},3e3)):alert("Aucune alerte fermée à réinitialiser.")});const m=document.createElement("p");function c(){var t;m.textContent=0===(t=e().length)?"Aucune alerte actuellement masquée":1===t?"1 alerte actuellement masquée":`${t} alertes actuellement masquées`}m.className="help-block",m.style.display="inline-block",m.style.marginTop="0",m.style.marginLeft="10px",m.style.verticalAlign="middle",m.style.fontSize="12px",m.style.opacity="0.7",c(),i.appendChild(l),i.appendChild(m),a.appendChild(n),a.appendChild(i),o.parentNode.insertBefore(a,o.nextSibling)},100)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",o),document.addEventListener("DOMContentLoaded",a)):(o(),a()),window.KralandMobile&&(window.KralandMobile.clearDismissedAlerts=function(){localStorage.removeItem(t)})}(),function(){function t(){const t=window.location.pathname;if("/"!==t&&"/accueil"!==t&&!t.startsWith("/accueil"))return;const e=Array.from(document.querySelectorAll("h4.list-group-item-heading.count")).find(t=>{const e=t.textContent.trim();return!/^\d+$/.test(e)&&e.length>0});if(!e)return;const r=e.textContent.trim();r.startsWith("Bienvenu")||(e.textContent="Bienvenu "+r)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(),a.register("Homepage:RightColumn",function(){if(document.body.classList.contains("page-accueil")){var t=document.querySelector(".container > .row > .col-md-3:last-child");if(t){for(var e=t.querySelectorAll("hr"),r=0;r<e.length;r++)e[r].remove();var o=t.querySelector(".ds_user");if(o){var a=document.createElement("a");a.href="/jouer/plateau",a.className="accueil-play-btn",a.innerHTML='<i class="fa fa-play"></i> Jouer',o.insertAdjacentElement("afterend",a)}var n=t.querySelector(":scope > h4"),i=t.querySelectorAll(":scope > .ds_forum");if(n&&i.length){var l=document.createElement("div");l.className="accueil-forum-section",n.parentNode.insertBefore(l,n),l.appendChild(n);for(var d=0;d<i.length;d++)l.appendChild(i[d])}}}},85),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;document.querySelectorAll(".dashboard-section").forEach(t=>{const e=t.querySelector(".dashboard-section-header"),r=t.querySelector(".dashboard-group-title");if(e&&r){const e=t.classList.contains("dashboard-section-mygroup");!function(t,e){const r=t.querySelector(".dashboard-section-header"),o=t.querySelector(".dashboard-cards-grid");if(!r||!o)return;r.classList.add("dashboard-section-header-accordion");const a=e;o.classList.toggle("collapsed",!a),r.classList.toggle("expanded",a);const n=document.createElement("i");n.className="fa fa-chevron-down accordion-icon",r.appendChild(n),r.style.cursor="pointer",r.addEventListener("click",t=>{if(t.target.closest(".dashboard-group-buttons"))return;const e=!o.classList.contains("collapsed");o.classList.toggle("collapsed",e),r.classList.toggle("expanded",!e)})}(t,e)}})}window.KralandMobile&&(window.KralandMobile.initGroupsAccordion=t),a.register("initGroupsAccordion",t,70)}(),a.register("Commerce Accordion",function(){if(!window.location.href.includes("jouer/plateau"))return;const t=["Nourriture","Repas","Boissons","Bons d'état / Loterie","Services"],e=[];document.querySelectorAll("h4.list-group-item-heading").forEach(r=>{const o=r.textContent.trim();if(t.includes(o)){const t=r.parentElement;t&&t.classList.contains("list-group-item")&&e.push({name:o,div:t,h4:r})}}),0!==e.length&&e.forEach((t,e)=>{const r=[];let o=t.div.nextElementSibling;for(;o;)if(o.classList){if(o.classList.contains("ds_forum")&&o.querySelector("h4.list-group-item-heading"))break;"A"===o.tagName&&o.classList.contains("ds_game")&&r.push(o),o=o.nextElementSibling}else o=o.nextElementSibling;const a=document.createElement("div");if(a.className="commerce-products-container",r.forEach(t=>{a.appendChild(t)}),!t.div||!t.div.parentElement||!t.h4)return;t.div.parentElement.insertBefore(a,t.div.nextSibling),t.div.classList.add("commerce-category-header"),0===e?t.div.classList.add("expanded"):(a.classList.add("collapsed"),t.div.classList.add("collapsed"));const n=document.createElement("i");n.className="fa fa-chevron-down accordion-icon",t.h4&&t.h4.appendChild&&t.h4.appendChild(n),t.div.style.cursor="pointer",t.div.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const r=!a.classList.contains("collapsed");a.classList.toggle("collapsed",r),t.div.classList.toggle("collapsed",r),t.div.classList.toggle("expanded",!r)})})}),a.register("Building Collapse",function(){if(!r())return;const t=Array.from(document.querySelectorAll("h3.panel-title")).find(t=>t.textContent.includes("Bâtiment"));if(!t)return;const e=t.parentElement;if(!e)return;const o=e.nextElementSibling;if(!o||!o.classList.contains("panel-body"))return;e.classList.add("building-section-header"),o.classList.add("building-section-content");const a=document.createElement("i");a.className="fa fa-chevron-down accordion-icon",e.appendChild(a),e.classList.add("expanded"),e.style.cursor="pointer",e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const r=!o.classList.contains("collapsed");o.classList.toggle("collapsed",r),e.classList.toggle("collapsed",r),e.classList.toggle("expanded",!r)})}),a.register("initNavigationRow",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelector(".navbar");if(!t)return;const e=document.querySelector('img[alt="Sortir"]');if(!e||!e.parentElement)return;const r=e.parentElement,o=r.querySelector('map[name="exitmap"]'),a=Array.from(document.querySelectorAll('img[src*="/bat/bat"]'));if(0===a.length)return;const n=a.filter(t=>{let e=t;for(;e&&e!==document.body;){if(e.classList&&e.classList.contains("kr-navigation-row"))return!1;e=e.parentElement}return!0});if(n.sort((t,e)=>parseInt(t.src.match(/bat(\d+)\.gif/)?.[1]||"999")-parseInt(e.src.match(/bat(\d+)\.gif/)?.[1]||"999")),0===n.length)return;const i=r.closest(".row.center");i&&(i.style.display="none");const l=n.map(t=>t.closest("a")).filter(t=>null!==t);if(0===l.length)return;const d=document.createElement("div");if(d.className="kr-navigation-row",d.setAttribute("role","group"),e&&o){const t=document.createElement("div");t.className="btn-group kr-direction-cross",t.setAttribute("role","group");const r=document.createElement("div");r.className="btn btn-default alert11 mini kr-direction-link";const a=e.cloneNode(!0);a.style.width="60px",a.style.height="60px",a.style.display="block";const n=o.cloneNode(!0);r.addEventListener("click",t=>{const e=r.getBoundingClientRect(),o=t.clientX-e.left,a=t.clientY-e.top,i=n.querySelectorAll("area");for(const e of i)if("rect"===e.shape){const r=e.coords.split(",").map(t=>parseInt(t)),[n,i,l,d]=r;if(o>=n&&o<=l&&a>=i&&a<=d){t.preventDefault(),t.stopPropagation();const r=e.href;return void(r&&"#"!==r&&(window.location.href=r))}}}),r.appendChild(a),r.appendChild(n),t.appendChild(r),d.appendChild(t)}l.forEach(t=>{const e=document.createElement("div");e.className="btn-group kr-room-access-card",e.setAttribute("role","group");const r=t.cloneNode(!0);r.className="btn btn-default alert11 mini kr-room-link",r.addEventListener("click",t=>{t.stopPropagation();const e=r.href;e&&"#"!==e&&(window.location.href=e)}),e.appendChild(r),d.appendChild(e)}),t.parentNode.insertBefore(d,t.nextSibling)},60),window.innerWidth<768&&window.location.hash&&"#top"!==window.location.hash){const t=history.scrollRestoration;history.scrollRestoration="manual";const e=window.location.pathname+window.location.search;history.replaceState(null,"",e);const r=()=>window.scrollTo(0,0);r(),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r),setTimeout(()=>{history.scrollRestoration=t},500)}a.register("initNewsToggle",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.getElementById("slide-submenu"),e=document.getElementById("player-header-section");if(t&&e){function r(e){t.innerHTML=e?"▼":"×",t.setAttribute("aria-label",e?"Déplier les nouvelles":"Replier les nouvelles"),t.setAttribute("title",e?"Déplier":"Replier")}const o="true"===localStorage.getItem("kr-news-collapsed");o&&e.classList.add("kr-news-collapsed"),r(o),t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.classList.toggle("kr-news-collapsed");const o=e.classList.contains("kr-news-collapsed");localStorage.setItem("kr-news-collapsed",o),r(o)},{capture:!0})}},80);const n={BUNDLED_CSS:'@keyframes kr-bell-swing{0%,80%,to{transform:rotate(0deg)}10%{transform:rotate(14deg)}20%{transform:rotate(-12deg)}30%{transform:rotate(10deg)}40%{transform:rotate(-8deg)}50%{transform:rotate(5deg)}60%{transform:rotate(-3deg)}70%{transform:rotate(1deg)}}:root{--kr-primary:#8b0f0e;--kr-primary-dark:#700b09;--kr-gold:#C69100;--kr-highlight:#c41e3a;--kr-highlight-reverse:#f9d9de;--kr-surface:#fff;--kr-text:#0f1724;--kr-muted:#6b7280;--kr-navbar-bg:#111315;--kr-radius:.5rem;--kr-avatar-size:120px;--kr-bg-page:#f5f5f5;--kr-bg-surface:#fff;--kr-bg-elevated:#fff;--kr-bg-hover:rgb(0,0,0,0.02);--kr-bg-active:rgb(0,0,0,0.05);--kr-text-primary:#0f1724;--kr-text-secondary:#6b7280;--kr-text-muted:#9ca3af;--kr-text-inverse:#fff;--kr-border-default:rgb(0,0,0,0.08);--kr-border-strong:rgb(0,0,0,0.15);--kr-shadow-sm:0 1px 2px rgb(0,0,0,0.05);--kr-shadow-md:0 4px 6px rgb(0,0,0,0.07);--kr-shadow-lg:0 10px 15px rgb(0,0,0,0.1);--kr-white:#fff;--kr-focus-ring:rgb(164,18,13,0.22);--kr-focus-ring-light:rgb(164,18,13,0.18);--kr-alert-info-bg:rgb(164,18,13,0.06);--kr-alert-info-border:rgb(164,18,13,0.14);--kr-btn-shadow:rgb(165,18,13,0.12);--kr-badge-danger:#dc3545;--kr-badge-danger-border:#bd2130;--kr-badge-pnj:#d9534f;--kr-bootstrap-blue:#337ab7;--kr-nation-1:#C41E3A;--kr-nation-2:#C69100;--kr-nation-3:#FF0;--kr-nation-4:#0033A0;--kr-nation-5:#0B6623;--kr-nation-6:#6A0DAD;--kr-nation-7:#6B7280;--kr-nation-8:#0A6B2D;--kr-nation-9:#a70;--kr-nation-bg-1:rgb(255, 128, 128);--kr-nation-bg-2:rgb(170, 112, 0);--kr-nation-bg-3:rgb(255, 255, 128);--kr-nation-bg-4:rgb(128, 128, 255);--kr-nation-bg-5:rgb(128, 255, 128);--kr-nation-bg-6:rgb(204, 128, 255);--kr-nation-bg-7:rgb(170, 170, 170);--kr-nation-bg-8:rgb(115, 151, 115);--kr-nation-bg-9:rgb(170, 170, 68);--kr-nation-bg-10:rgb(204, 255, 255);--mobile-tab-bar-height:48px;--mobile-touch-target:44px;--mobile-spacing-xs:4px;--mobile-spacing-sm:8px;--mobile-spacing-md:12px;--mobile-spacing-lg:16px;--mobile-spacing-xl:24px;--mobile-radius:8px;--mobile-radius-lg:16px;--z-header:1000;--z-tab-bar:999;--z-bottom-sheet:998;--z-drawer:1001;--transition-fast:0.15s ease;--transition-normal:0.3s ease;--transition-slow:0.5s ease;--kr-gauge-pv:#28a745;--kr-gauge-pm:#007bff;--kr-gauge-pp:#ffc107;--kr-overlay-light-10:rgba(255, 255, 255, 0.1);--kr-overlay-light-05:rgba(255, 255, 255, 0.05);--kr-overlay-light-20:rgba(255, 255, 255, 0.2);--kr-overlay-dark-20:rgba(0, 0, 0, 0.2);--kr-overlay-dark-30:rgba(0, 0, 0, 0.3);--kr-overlay-dark-125:rgba(0, 0, 0, 0.125)}html.kr-theme-variant-empire-brun{--kr-primary:#5E3B2D;--kr-highlight:#C69100}html.kr-theme-variant-paladium{--kr-primary:#D4AF37;--kr-highlight:#044c17}html.kr-theme-variant-theocratie-seelienne{--kr-primary:#0033A0;--kr-highlight:#2d5fcb}html.kr-theme-variant-paradigme-vert{--kr-primary:#0B6623;--kr-highlight:#063803}html.kr-theme-variant-khanat-elmerien{--kr-primary:#6A0DAD;--kr-highlight:#7b4c9c}html.kr-theme-variant-confederation-libre{--kr-primary:#6B7280;--kr-highlight:#475369}html.kr-theme-variant-royaume-ruthvenie{--kr-primary:#0A6B2D;--kr-highlight:#C41E3A}html[class*=-dark]{color-scheme:dark;--kr-bg-hover:rgba(255, 255, 255, 0.03);--kr-bg-active:rgba(255, 255, 255, 0.06);--kr-border-default:rgb(255,255,255,0.08);--kr-border-strong:rgb(255,255,255,0.15);--kr-shadow-sm:0 1px 3px rgb(0,0,0,0.4);--kr-shadow-md:0 4px 8px rgb(0,0,0,0.5);--kr-shadow-lg:0 10px 20px rgb(0,0,0,0.6);--kr-nation-1:#ff8080;--kr-nation-3:#ffe066;--kr-nation-9:#c4b958}html.kr-theme-variant-empire-brun-dark{--kr-primary:#7a5240;--kr-primary-dark:#5E3B2D;--kr-highlight:#d4a574;--kr-highlight-reverse:#1a0f0a;--kr-bg-page:#12100d;--kr-bg-surface:#1e1a15;--kr-bg-elevated:#2a251f;--kr-text-primary:#f5f1ed;--kr-text-secondary:#b8a997;--kr-text-muted:#8a7968;--kr-text-inverse:#12100d;--kr-form-bg:#3a332b;--kr-form-bg-focus:#423a31;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff}html.kr-theme-variant-empire-brun-dark,html.kr-theme-variant-paladium-dark,html.kr-theme-variant-theocratie-seelienne-dark{--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-paladium-dark{--kr-primary:#e6c76e;--kr-primary-dark:#D4AF37;--kr-highlight:#4a9d5f;--kr-highlight-reverse:#021a0a;--kr-bg-page:#0f0e0a;--kr-bg-surface:#1a1810;--kr-bg-elevated:#252015;--kr-text-primary:#f5f3e8;--kr-text-secondary:#c4b896;--kr-text-muted:#938567;--kr-text-inverse:#0f0e0a;--kr-form-bg:#3a3420;--kr-form-bg-focus:#43392a;--kr-nation-2:#e6c76e;--kr-nation-4:#74b9ff}html.kr-theme-variant-theocratie-seelienne-dark{--kr-primary:#5a8fd9;--kr-primary-dark:#2d5fcb;--kr-highlight:#80b3ff;--kr-highlight-reverse:#000d1f;--kr-bg-page:#0a0e15;--kr-bg-surface:#12182a;--kr-bg-elevated:#1a2438;--kr-text-primary:#e8f0ff;--kr-text-secondary:#9db5d6;--kr-text-muted:#6b7f9e;--kr-text-inverse:#0a0e15;--kr-form-bg:#2a3447;--kr-form-bg-focus:#323d54;--kr-nation-2:#d4a574;--kr-nation-4:#80b3ff}html.kr-theme-variant-khanat-elmerien-dark,html.kr-theme-variant-paradigme-vert-dark{--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-paradigme-vert-dark{--kr-primary:#4d9c61;--kr-primary-dark:#2a7a3d;--kr-highlight:#70c784;--kr-highlight-reverse:#021508;--kr-bg-page:#0a120d;--kr-bg-surface:#0f1a13;--kr-bg-elevated:#1a2820;--kr-text-primary:#e8f5ed;--kr-text-secondary:#a0c4ab;--kr-text-muted:#6d8a75;--kr-text-inverse:#0a120d;--kr-form-bg:#2a3d30;--kr-form-bg-focus:#324539;--kr-nation-5:#70c784;--kr-nation-6:#a29bfe}html.kr-theme-variant-khanat-elmerien-dark{--kr-primary:#96c;--kr-primary-dark:#7b4c9c;--kr-highlight:#b794d9;--kr-highlight-reverse:#1a0425;--kr-bg-page:#0f0a15;--kr-bg-surface:#1a121f;--kr-bg-elevated:#251a2d;--kr-text-primary:#f0e8ff;--kr-text-secondary:#bba0d6;--kr-text-muted:#857299;--kr-text-inverse:#0f0a15;--kr-form-bg:#3a2f47;--kr-form-bg-focus:#443854;--kr-nation-5:#55efc4;--kr-nation-6:#b794d9}html.kr-theme-variant-confederation-libre-dark{--kr-primary:#9ca3af;--kr-primary-dark:#6b7280;--kr-highlight:#c2c9d6;--kr-highlight-reverse:#0f1115;--kr-bg-page:#0e1013;--kr-bg-surface:#16181c;--kr-bg-elevated:#1f2228;--kr-text-primary:#e8eaed;--kr-text-secondary:#b8bcc4;--kr-text-muted:#7e8591;--kr-text-inverse:#0e1013;--kr-form-bg:#2d3139;--kr-form-bg-focus:#363a43;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#c2c9d6;--kr-nation-8:#81c784}html.kr-theme-variant-royaume-ruthvenie-dark{--kr-primary:#4a9d61;--kr-primary-dark:#2a7a3d;--kr-highlight:#ff6b85;--kr-highlight-reverse:#1a0408;--kr-bg-page:#0d1210;--kr-bg-surface:#141a16;--kr-bg-elevated:#1d2621;--kr-text-primary:#ecf5f0;--kr-text-secondary:#a5c4b0;--kr-text-muted:#708a79;--kr-text-inverse:#0d1210;--kr-form-bg:#2d3d33;--kr-form-bg-focus:#36463b;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#70c784}#top,hr[style*="border-top: 1px solid"][style*="337ab7"],html.kr-hide-footer-quote .footer-quote{display:none!important}body,html,nav.navbar{height:auto!important}body{min-height:100vh!important;display:flex;flex-direction:column;margin:0!important;padding-top:60px}nav.navbar{position:fixed!important;top:0!important;left:0!important;right:0!important;z-index:1030!important;max-height:60px!important}#content{flex:1 0 auto}footer{flex-shrink:0;width:100%}.container{max-width:1608px!important;width:100%!important}@media (min-width:1920px){.container{max-width:1860px!important}}@media (min-width:2560px){.container{max-width:2400px!important}}@media (min-width:3840px){.container{max-width:3200px!important}}@media (min-width:2560px){#col-leftest{width:6%!important}#col-left{width:20%!important}#col-right{width:74%!important}}@media (min-width:3840px){#col-leftest{width:4%!important}#col-left{width:16%!important}#col-right{width:80%!important}}@media (min-width:768px){#col-right .container-fluid center>img.img-responsive{max-height:200px;width:auto;object-fit:contain;margin:0 auto;display:block}}@media (min-width:3840px){.panel-heading h3{font-size:16px}.panel-body .list-group-item h4{font-size:15px}.panel-body .list-group-item p{font-size:12px}#player-main-panel{font-size:14px}#player-actions-section .btn{font-size:13px;padding:8px 14px}#player-main-panel .btn-group .btn{font-size:13px}}#skills-panel{display:block!important;border:1px solid rgb(0,0,0,.06)!important;border-radius:5px!important;background-color:var(--kr-white)!important}.navbar-brand{display:flex!important;align-items:center!important;padding-top:0!important;padding-bottom:0!important}.navbar-brand img.kr-logo{height:28px;vertical-align:middle}.navbar-nav>li>a{color:var(--kr-white)!important}.form-control.form-control{border-radius:.4rem;border:1px solid rgb(0,0,0,.08);padding:.6rem .8rem;font-size:.95rem}.form-control:focus{box-shadow:0 0 0 .18rem var(--kr-focus-ring);border-color:var(--kr-primary);outline:0}textarea.form-control.form-control{font-size:1.4rem!important;line-height:1.6!important}.form-group label{color:var(--kr-text);font-weight:600}input[type=checkbox],input[type=radio]{accent-color:var(--kr-primary)!important}input[type=checkbox]:focus,input[type=radio]:focus{outline:0;box-shadow:0 0 0 .12rem var(--kr-focus-ring-light)!important}input[type=checkbox]:checked{border-color:var(--kr-primary)!important}.badge,.label{border-color:var(--kr-primary-dark)}.badge,.bg-info,.label{background-color:var(--kr-primary);color:var(--kr-white)}.badge-danger,.navbar-header-buttons-left a[href*=kramail] .badge:not(:empty),.navbar-header-buttons-left a[href=kramail] .badge:not(:empty),.navbar-right a[href=kramail] .badge:not(:empty){background-color:var(--kr-badge-danger)!important;color:var(--kr-white)!important;border-color:var(--kr-badge-danger-border)!important}.navbar-right .fa-bell,.navbar-right .fa-envelope{display:inline-block;transform-origin:50%0}.navbar-right a:has(.badge-danger:not(:empty)) .fa-bell,.navbar-right a:has(.badge:not(:empty)) .fa-envelope{animation:kr-bell-swing 1.5s ease-in-out infinite}@media (max-width:767px){.navbar-header-buttons-left .fa-bell,.navbar-header-buttons-left .fa-envelope{display:inline-block;transform-origin:50%0}.navbar-header-buttons-left a:has(.badge-danger:not(:empty)) .fa-bell,.navbar-header-buttons-left a:has(.badge:not(:empty)) .fa-envelope{animation:kr-bell-swing 1.5s ease-in-out infinite}}.alert.alert-info{background-color:var(--kr-alert-info-bg);border-color:var(--kr-alert-info-border)}.alert p,.alert strong,.alert.alert-info{color:var(--kr-text)}.list-group-item{border:0;padding:.6rem .75rem}.list-group-item.btn{border:0!important}.list-group-item.active,.list-group-item.active a,.list-group-item.active:focus,.list-group-item.active:hover{background-color:var(--kr-primary)!important;border-color:var(--kr-primary-dark)!important;color:var(--kr-surface)!important}.list-group-item:hover{color:var(--kr-primary-dark);background-color:rgb(0,0,0,.02)}.img-circle{width:var(--kr-avatar-size);height:var(--kr-avatar-size);min-width:var(--kr-avatar-size);min-height:var(--kr-avatar-size);object-fit:cover;display:inline-block;border-radius:50%}.img-circle.img-responsive,.img-circle.img-thumbnail{max-width:none!important;width:var(--kr-avatar-size);height:var(--kr-avatar-size)}.col-md-2.sidebar .avatar,.col-md-3.sidebar .avatar{margin-bottom:.5rem}.list-group a.list-group-item.ds_user,.list-group-item.ds_user{position:relative;min-height:var(--kr-avatar-size)!important;padding-right:calc(var(--kr-avatar-size) + 1rem)!important;display:flex!important;align-items:center!important}.list-group-item.ds_user .pull-right{position:absolute!important;right:.75rem!important;top:50%!important;transform:translateY(-50%)!important}#player-header-section .nopadding,#player-header-section .nopadding-right,#player-main-panel .nopadding,#player-main-panel .nopadding-right,#player-vitals-section .nopadding,#player-vitals-section .nopadding-right{padding-left:15px!important;padding-right:15px!important}#player-main-panel>.row>.nopadding:first-child{padding-left:10px!important;padding-right:10px!important}#player-vitals-section[style*=padding-left]{padding-left:0!important}#player-actions-section{display:flex;flex-wrap:wrap;gap:.5rem;padding:0 15px!important}.kr-quick-access-buttons .col-xs-6{margin-bottom:10px}#player-actions-section hr{width:100%;margin:.5rem 0}.carousel-caption{background:linear-gradient(180deg,rgb(0,0,0,.55),rgb(0,0,0,.35));padding:1.4rem;padding-bottom:56px;border-radius:.6rem;color:var(--kr-white)}.item img[class*=-slide]{display:block;margin:0 auto;max-width:100%;height:auto}a.carousel-control.left,a.carousel-control.right{background-image:none}.modal{display:flex!important;position:fixed!important;align-items:flex-start;justify-content:center;pointer-events:auto;padding-top:30px}.modal,.modal.in{overflow-y:hidden!important}.modal-content,.modal-dialog{display:flex;flex-direction:column}.modal-dialog{width:900px;max-width:90vw;margin:0 auto 30px;max-height:calc(100vh - 60px);pointer-events:auto;overflow-y:auto}.modal-content{max-height:100%;overflow:hidden}.modal-body{overflow-y:auto;flex:1 1 auto}.modal-footer,.modal-header{flex-shrink:0}@media (max-width:767px){.bootbox-confirm .modal-body>select:first-of-type,.bootbox-confirm select.form-control{min-height:var(--mobile-touch-target);font-size:16px!important;padding:8px 12px;margin-bottom:var(--mobile-spacing-lg);border-radius:var(--mobile-radius)}.bootbox-confirm .panel-heading ul.nav-tabs{display:grid!important;grid-template-columns:repeat(2,1fr);gap:var(--mobile-spacing-md)!important;padding-left:0;margin-bottom:var(--mobile-spacing-md);border-bottom:none!important}.bootbox-confirm .panel-heading ul.nav-tabs>li{margin:0!important;padding:0;display:block;float:none!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a{display:flex;align-items:center;justify-content:center;min-height:var(--mobile-touch-target);padding:12px 16px;text-align:center;background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;font-weight:500;font-size:.95rem;text-decoration:none;transition:all var(--transition-fast);margin:0!important}.bootbox-confirm .panel-heading ul.nav-tabs>li.active>a{background:var(--kr-primary);color:#fff;border-color:var(--kr-primary)!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a:focus,.bootbox-confirm .panel-heading ul.nav-tabs>li>a:hover{background:var(--kr-bg-hover);text-decoration:none;transform:translateY(-1px);box-shadow:var(--kr-shadow-sm);border-color:var(--kr-primary)!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a:active{transform:translateY(0);background:var(--kr-bg-active)}.bootbox-confirm .list-inline>li>a>.fa,.bootbox-confirm .list-inline>li>a>.glyphicon{margin-right:6px;font-size:1.1em}.bootbox-confirm .panel-actions{padding:var(--mobile-spacing-md);background:var(--kr-bg-surface);border-radius:var(--mobile-radius)}.bootbox-confirm .panel-actions::before{content:"Actions";display:block;font-weight:600;font-size:.8125rem;color:var(--kr-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--mobile-spacing-sm);padding-bottom:var(--mobile-spacing-sm);border-bottom:1px solid var(--kr-border-default)}.bootbox-confirm .panel-actions .row.form-group{display:grid!important;grid-template-columns:44px 1fr 60px 70px;gap:0;padding:0!important;margin:0 0 2px!important;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.08);border-radius:4px;overflow:hidden;transition:all .2s ease}.bootbox-confirm .panel-actions .row.form-group:hover{background:rgba(212,165,116,.05);border-color:rgba(212,165,116,.3);transform:translateX(2px)}.bootbox-confirm .panel-actions .row.form-group:has(input[type=radio]:checked){background:rgba(212,165,116,.12);border-color:var(--kr-primary);box-shadow:0 0 0 1px rgba(212,165,116,.2)}.bootbox-confirm .panel-actions .row.form-group>div{padding:8px 6px!important;margin:0!important;display:flex!important;align-items:center;min-height:44px;border-right:1px solid rgba(255,255,255,.05)}.bootbox-confirm .panel-actions .row.form-group>div:last-child{border-right:none}.bootbox-confirm .panel-actions .row.form-group>div:nth-child(1){justify-content:center;background:rgba(0,0,0,.1)}.bootbox-confirm .panel-actions .row.form-group>div:nth-child(2){padding-left:12px!important}.bootbox-confirm .panel-actions .row.form-group>div:nth-child(3),.bootbox-confirm .panel-actions .row.form-group>div:nth-child(4){justify-content:center;font-weight:600;font-size:.875rem;color:var(--kr-text-secondary);background:rgba(0,0,0,.15)}.bootbox-confirm .panel-actions input[type=radio]{width:20px!important;height:20px!important;min-width:20px!important;min-height:20px!important;cursor:pointer;accent-color:var(--kr-primary);margin:0!important;flex-shrink:0}.bootbox-confirm .panel-actions label{cursor:pointer;margin:0!important;font-size:.9375rem;font-weight:500;color:var(--kr-text-primary);transition:color .2s ease;user-select:none}.bootbox-confirm .panel-actions label:hover{color:var(--kr-primary)}.bootbox-confirm table{width:100%;margin-bottom:var(--mobile-spacing-lg);border-collapse:separate;border-spacing:0}.bootbox-confirm table td,.bootbox-confirm table th{padding:12px 8px;vertical-align:middle;border-bottom:1px solid var(--kr-border-default)}.bootbox-confirm table th{font-weight:600;font-size:.875rem;color:var(--kr-text-secondary);background:var(--kr-bg-elevated)}.bootbox-confirm input[type=checkbox]{width:20px;height:20px;min-width:20px;min-height:20px;cursor:pointer;accent-color:var(--kr-primary);margin:0}.bootbox-confirm .form-group:has(input[type=checkbox]),.bootbox-confirm .form-group:has(select[name=bonus]){display:inline-flex;align-items:center;gap:12px;min-height:44px;width:auto;margin-right:var(--mobile-spacing-md);margin-bottom:var(--mobile-spacing-md)}.bootbox-confirm .modal-body label{cursor:pointer;display:inline-flex;align-items:center;gap:8px;min-height:44px;margin-bottom:0;padding:10px 0}.bootbox-confirm select[name=bonus]{min-height:44px;padding:10px 12px;font-size:.9375rem;border:1px solid var(--kr-border-default);border-radius:8px;background:var(--kr-bg-surface);color:var(--kr-text-primary);cursor:pointer}.bootbox-confirm .form-group{margin-bottom:var(--mobile-spacing-lg)}.bootbox-confirm .btn-toolbar{display:flex;flex-wrap:wrap;gap:4px;margin-bottom:var(--mobile-spacing-md)}.bootbox-confirm .btn-toolbar .btn-group{margin-right:0;margin-bottom:4px}.bootbox-confirm .btn-toolbar .btn{min-height:var(--mobile-touch-target);min-width:var(--mobile-touch-target);padding:8px 12px;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.bootbox-confirm .btn-toolbar .btn:hover{background:var(--kr-bg-hover);border-color:var(--kr-primary)}.bootbox-confirm textarea.form-control{min-height:120px;font-size:16px!important;line-height:1.5;resize:vertical}@media (max-width:768px){.bootbox-confirm>.modal-dialog{display:block!important}.bootbox-confirm .modal-content{display:flex!important;flex-direction:column!important;max-height:90vh!important}.bootbox-confirm .kraland-character-title,.bootbox-confirm .kraland-modal-header{position:sticky!important;top:0!important;z-index:110!important;background:#fff!important;flex-shrink:0!important}.bootbox-confirm .kraland-modal-header{padding:12px 16px 8px!important;border-bottom:1px solid #e0e0e0!important}.bootbox-confirm .kraland-character-title{padding:8px 16px!important;margin:0!important;font-size:18px!important}.bootbox-confirm .kraland-actions-zone{position:sticky!important;top:0!important;z-index:100!important;background:#fff!important;padding:12px 16px!important;border-bottom:2px solid #f0f0f0!important}.bootbox-confirm .modal-body{flex:1!important;overflow:hidden auto!important;padding:0!important}.bootbox-confirm .kraland-form-zone{padding:16px!important}.bootbox-confirm .kraland-action-footer{position:sticky!important;bottom:72px!important;z-index:90!important;background:#f8f8f8!important;padding:12px 16px!important;border-top:1px solid #e0e0e0!important}.bootbox-confirm .kraland-action-footer p{margin:0!important;font-size:13px!important;color:#666!important}.bootbox-confirm .kraland-modal-footer{position:sticky!important;bottom:0!important;z-index:110!important;background:#fff!important;flex-shrink:0!important;padding:12px 16px!important;border-top:2px solid #e0e0e0!important;display:flex!important;gap:12px!important}.bootbox-confirm .kraland-modal-footer .btn{flex:1!important;min-height:56px!important;font-size:16px!important;border-radius:8px!important}.bootbox-confirm .nav.nav-tabs li a{font-size:15px!important;font-weight:500!important;box-shadow:0 1px 3px rgba(0,0,0,.1)!important;transition:all .2s ease!important}.bootbox-confirm .nav.nav-tabs li a:hover{background:#f0f8ff!important;text-decoration:none!important}.bootbox-confirm .nav.nav-tabs li.active a{background:#428bca!important;border-color:#428bca!important;color:#fff!important}.bootbox-confirm .form-group,.bootbox-confirm .panel-info .panel-body,.bootbox-confirm .panel-info .panel-footer,.bootbox-confirm .panel-info .panel-heading,.bootbox-confirm .row,.bootbox-confirm .tab-content,.bootbox-confirm [class*=col-]{display:block!important}.bootbox-confirm .panel-info .panel-body .row,.bootbox-confirm .panel-info .panel-heading .row{align-items:center!important}.bootbox-confirm .panel-info .panel-body .row,.bootbox-confirm .panel-info .panel-footer .row,.bootbox-confirm .panel-info .panel-heading .row{display:flex!important;flex-flow:row nowrap!important;margin-left:0!important;margin-right:0!important}.bootbox-confirm .panel-info .row>[class*=col-]{flex-shrink:0!important}.bootbox-confirm .panel-info .panel-body .row>.col-sm-1,.bootbox-confirm .panel-info .panel-heading .row>.col-sm-1{flex:0 0 0%!important;max-width:0%!important;padding:0!important;overflow:hidden!important;width:0!important}.bootbox-confirm .panel-info .panel-body .row>.col-sm-7,.bootbox-confirm .panel-info .panel-heading .row>.col-sm-7{flex:0 0 46%!important;max-width:46%!important}.bootbox-confirm .panel-info .panel-body .row>.col-sm-2:nth-child(3),.bootbox-confirm .panel-info .panel-body .row>.col-sm-2:nth-child(4),.bootbox-confirm .panel-info .panel-heading .row>.col-sm-2:nth-child(3),.bootbox-confirm .panel-info .panel-heading .row>.col-sm-2:nth-child(4){flex:0 0 27%!important;max-width:27%!important}.bootbox-confirm .panel-info .panel-body .row>[class*=col-]:not(.col-sm-1),.bootbox-confirm .panel-info .panel-heading .row>[class*=col-]:not(.col-sm-1){padding-left:8px!important;padding-right:8px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-1{flex:0 0 15%!important;max-width:15%!important;padding-left:8px!important;padding-right:4px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-7{flex:0 0 25%!important;max-width:25%!important;padding-left:0!important;padding-right:12px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-2:nth-child(3){flex:0 0 20%!important;max-width:20%!important;padding-left:12px!important;padding-right:4px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-2:nth-child(4){flex:0 0 40%!important;max-width:40%!important;padding-left:0!important;padding-right:8px!important}.bootbox-confirm .panel-info .panel-footer .row{align-items:center!important}.bootbox-confirm .panel-info .panel-footer input[type=checkbox],.bootbox-confirm .panel-info .panel-footer label,.bootbox-confirm .panel-info .panel-footer select{vertical-align:middle!important}.bootbox-confirm table{display:table!important;width:100%!important;table-layout:auto!important}.bootbox-confirm table tbody{display:table-row-group!important}.bootbox-confirm table tr{display:table-row!important}.bootbox-confirm table td,.bootbox-confirm table th{display:table-cell!important;vertical-align:middle!important}.bootbox-confirm .kraland-modal-header select{width:100%!important;height:48px!important;font-size:16px!important;border-radius:8px!important}.bootbox-confirm .kraland-character-title img{width:60px!important;height:60px!important;border-radius:8px!important;object-fit:cover!important;margin-right:12px!important}.bootbox-confirm .kraland-form-zone .panel{border-radius:8px!important;margin-bottom:16px!important}.bootbox-confirm .kraland-form-zone input[type=text],.bootbox-confirm .kraland-form-zone select,.bootbox-confirm .kraland-form-zone textarea{font-size:16px!important;border-radius:6px!important}.bootbox-confirm .kraland-form-zone textarea{min-height:120px!important}}.bootbox-confirm textarea.form-control:focus{border-color:var(--kr-primary);box-shadow:0 0 0 3px var(--kr-focus-ring);outline:0}@media (max-width:768px){.bootbox-confirm .kr-alert-collapsible{padding:0!important;margin-bottom:12px!important;border-radius:8px!important;overflow:hidden!important}.bootbox-confirm .kr-alert-toggle{width:100%!important;padding:12px 16px!important;background:#e3f2fd!important;border:0!important;color:#1565c0!important;font-size:15px!important;font-weight:600!important;text-align:left!important;display:flex!important;align-items:center!important;gap:8px!important;cursor:pointer!important;transition:background .2s ease!important}.bootbox-confirm .kr-alert-toggle:active{background:#bbdefb!important}.bootbox-confirm .kr-alert-toggle i{font-size:18px!important}.bootbox-confirm .kr-alert-content{padding:12px 16px!important;background:#fff!important;border-top:1px solid #e0e0e0!important;animation:slide-down .2s ease!important}@keyframes slide-down{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.bootbox-confirm .nav.nav-tabs li.active a{background:linear-gradient(135deg,#428bca 0,#3071a9 100%)!important;border-color:#428bca!important;color:#fff!important;font-weight:600!important;box-shadow:0 2px 8px rgba(66,139,202,.4)!important;transform:translateY(-1px)!important}.bootbox-confirm .nav.nav-tabs li a:active{transform:translateY(0)!important;box-shadow:0 1px 3px rgba(0,0,0,.2)!important}.bootbox-confirm .kraland-form-zone textarea#message{min-height:160px!important;resize:vertical!important;font-size:16px!important;line-height:1.5!important;padding:12px!important}.bootbox-confirm .kr-action-badges{display:flex!important;flex-wrap:wrap!important;gap:8px!important;align-items:center!important}.bootbox-confirm .kr-badge{display:inline-flex!important;align-items:center!important;gap:6px!important;padding:6px 12px!important;border-radius:16px!important;font-size:13px!important;font-weight:500!important;white-space:nowrap!important}.bootbox-confirm .kr-badge i{font-size:14px!important}.bootbox-confirm .kr-badge-cost{background:#fff3cd!important;color:#856404!important;border:1px solid #ffeaa7!important}.bootbox-confirm .kr-badge-duration{background:#d1ecf1!important;color:#0c5460!important;border:1px solid #b8daff!important}.bootbox-confirm .kr-badge-potential{background:#f8d7da!important;color:#721c24!important;border:1px solid #f5c6cb!important}.bootbox-confirm .kr-btn-primary-enhanced{background:linear-gradient(135deg,#5cb85c 0,#449d44 100%)!important;border-color:#449d44!important;color:#fff!important;font-weight:700!important;font-size:18px!important;box-shadow:0 4px 12px rgba(92,184,92,.4)!important;transition:all .2s ease!important}.bootbox-confirm .kr-btn-primary-enhanced:active{transform:translateY(2px)!important;box-shadow:0 2px 6px rgba(92,184,92,.3)!important}.bootbox-confirm .kr-btn-secondary-subtle{background:#f5f5f5!important;border-color:#ddd!important;color:#666!important;font-weight:500!important}.bootbox-confirm .kr-btn-secondary-subtle:active{background:#e0e0e0!important}.bootbox-confirm .kraland-modal-header select optgroup{font-weight:700!important;font-size:14px!important;color:#428bca!important;padding:8px 0!important}.bootbox-confirm .kraland-modal-header select option{padding:8px 12px!important;font-size:15px!important}}.bootbox-confirm .alert{font-size:.875rem;padding:12px;margin-bottom:var(--mobile-spacing-lg);border-radius:var(--mobile-radius);background:var(--kr-alert-info-bg);border:1px solid var(--kr-alert-info-border)}.bootbox-confirm .alert .close{font-size:1.5rem;line-height:1;opacity:.5}.bootbox-confirm .modal-footer{position:sticky;bottom:0;background:var(--kr-bg-surface);border-top:2px solid var(--kr-border-strong);padding:var(--mobile-spacing-lg);z-index:100;box-shadow:0-4px 8px rgba(0,0,0,.05);display:flex;flex-direction:column;gap:var(--mobile-spacing-md)}.bootbox-confirm .modal-footer p{font-size:.9rem;font-weight:600;color:var(--kr-text-primary);margin-bottom:0;padding:var(--mobile-spacing-sm) var(--mobile-spacing-md);background:var(--kr-bg-elevated);border-radius:var(--mobile-radius);border-left:3px solid var(--kr-primary)}.bootbox-confirm .modal-footer .btn{min-height:var(--mobile-touch-target);min-width:100px;font-size:1rem;padding:10px 24px;border-radius:var(--mobile-radius);font-weight:500}.bootbox-confirm .modal-footer>div{display:flex;gap:var(--mobile-spacing-md);justify-content:flex-end}}.pagination>li.active>a{color:var(--kr-surface);background-color:var(--kr-primary-dark);border-color:var(--kr-primary-dark)}.pagination>li>a,.pagination>li>a:hover{color:var(--kr-primary)}.pagination>li.active>a:hover{color:var(--kr-surface);background-color:var(--kr-primary);border-color:var(--kr-primary)}.bg-primary{background-color:var(--kr-primary)!important;color:var(--kr-surface)!important}a:link,a:visited{color:var(--kr-highlight);text-decoration:none;transition:color .12s ease,opacity .12s ease}a:focus,a:hover{color:var(--kr-primary-dark);text-decoration:underline;outline:0}a.btn-primary,button.btn-primary{background-color:var(--kr-primary);border-color:var(--kr-primary-dark);color:var(--kr-highlight-reverse);box-shadow:0 6px 18px var(--kr-btn-shadow)}a.btn-primary:focus,a.btn-primary:hover,button.btn-primary:focus,button.btn-primary:hover{background-color:var(--kr-primary-dark)}footer .container.white{position:relative}.container.white .kraland-back-to-top{position:fixed;right:20px;bottom:20px;z-index:1000;transform:none}.dashboard-card-actions>div,.dashboard.dashboard-flex{display:flex;flex-direction:column;gap:15px}.dashboard-section{background:var(--kr-surface);border-radius:8px;overflow:hidden;box-shadow:0 2px 4px rgb(0,0,0,.08)}.dashboard-section-header{background:var(--kr-primary);color:var(--kr-white);padding:3px 8px;font-size:9px;font-weight:600;display:flex;align-items:center;gap:5px}.dashboard-group-buttons{display:flex;gap:6px}.dashboard-group-buttons .btn{background-color:rgb(255,255,255,.15);border:1px solid rgb(255,255,255,.25);color:var(--kr-white);padding:4px 8px;font-size:12px;border-radius:4px;transition:all .2s ease}.dashboard-group-buttons .btn:hover{background-color:rgb(255,255,255,.25);border-color:rgb(255,255,255,.4);transform:scale(1.05)}.dashboard-group-buttons .btn i{font-size:12px}.dashboard-group-title{flex:1;text-transform:uppercase;letter-spacing:.5px}.dashboard-cards-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;padding:12px}.dashboard-cards-large{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.dashboard-card{background:var(--kr-white);border:1px solid rgb(0,0,0,.08);border-radius:6px;overflow:hidden;transition:all .2s ease;position:relative;display:flex;flex-direction:column}.dashboard-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgb(0,0,0,.12);border-color:var(--kr-primary)}.dashboard-card-large{min-height:90px}.dashboard-card-link{display:flex;flex-direction:column;text-decoration:none;color:inherit;flex:1}.dashboard-card-link:hover{text-decoration:none}.dashboard-card-header{display:flex;align-items:center;background:rgb(0,0,0,.02)}.dashboard-card-avatar-wrapper{position:relative;width:82px;height:82px;flex-shrink:0;display:flex;align-items:center;justify-content:center}.dashboard-card-hp-circle{position:absolute;top:0;left:0;width:82px;height:82px;pointer-events:none;z-index:1}.dashboard-card-avatar{width:70px;height:70px;border-radius:50%;object-fit:cover;border:2px solid var(--kr-primary);flex-shrink:0;position:relative;z-index:2}.dashboard-card-large .dashboard-card-avatar{width:70px;height:70px}.dashboard-card-name-container{display:flex;align-items:center;gap:6px;flex:1;min-width:0}.dashboard-card-world{width:20px;height:10px;object-fit:contain;flex-shrink:0}.dashboard-card-name{font-size:11px;font-weight:600;color:var(--kr-text);line-height:1.2;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;flex:1}.dashboard-card-large .dashboard-card-name{font-size:13px}.dashboard-card-body{padding:0 8px 5px;display:flex;flex-direction:column;gap:3px;flex:1;min-height:0}.dashboard-card-status{font-size:9px;color:var(--kr-muted);line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}.dashboard-card-large .dashboard-card-status{font-size:11px;white-space:normal;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.dashboard-card-hp{height:6px;background:rgb(0,0,0,.08);position:relative;margin:0}.dashboard-card-hp-fill{height:100%;transition:width .3s ease,background-color .3s ease;border-radius:0}.dashboard-card-pnj{position:absolute;top:8px;right:8px;background:var(--kr-badge-pnj);color:var(--kr-white);font-size:8px;font-weight:600;padding:2px 5px;border-radius:3px;text-transform:uppercase;letter-spacing:.3px;z-index:1}.dashboard-card-actions{position:absolute;bottom:4px;right:4px;display:flex;flex-direction:row;align-items:center;gap:4px;opacity:.7;transition:opacity .2s ease;z-index:2}.dashboard-card:hover .dashboard-card-actions{opacity:1}.dashboard-card-actions>div{gap:2px}.dashboard-card-actions>div,.dashboard-card-actions>div>div{margin:0!important;padding:0!important;height:auto!important}.dashboard-card-actions a{display:inline-flex;align-items:center;justify-content:center;padding:4px 6px!important;background-color:rgb(0,0,0,.6);border-radius:3px;transition:background-color .2s ease;min-width:24px;height:24px}.dashboard-card-actions a:hover{background-color:rgb(0,0,0,.8)}.dashboard-card-actions a i{color:var(--kr-white);font-size:12px;margin:0}@media (max-width:768px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px}.dashboard-cards-large{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}}@media (min-width:1920px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;padding:14px}}@media (min-width:2560px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:14px}.dashboard-card-avatar{width:76px;height:76px}.dashboard-card-avatar-wrapper,.dashboard-card-hp-circle{width:88px;height:88px}.dashboard-card-name{font-size:12px}}@media (min-width:3840px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}.dashboard-card-avatar{width:84px;height:84px}.dashboard-card-avatar-wrapper,.dashboard-card-hp-circle{width:96px;height:96px}.dashboard-card-name{font-size:14px}.dashboard-section-header{font-size:11px;padding:5px 10px}}.btn-toolbar .btn:not(.dropdown-menu *){background-color:var(--kr-surface)!important;background-image:none!important;color:var(--kr-primary)!important;border:1px solid rgb(0,0,0,.06)!important;box-shadow:none!important}.btn-toolbar .btn:not(.dropdown-menu *) .fa,.btn-toolbar .btn:not(.dropdown-menu *) .far,.btn-toolbar .btn:not(.dropdown-menu *) .fas,.btn-toolbar .btn:not(.dropdown-menu *) i{color:inherit!important}html[class*=-dark] body{background-color:var(--kr-bg-page);color:var(--kr-text-primary)}html[class*=-dark] .panel,html[class*=-dark] .panel-default,html[class*=-dark] .panel-heading{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .panel-heading{background-color:var(--kr-bg-elevated);color:var(--kr-text-primary)}html[class*=-dark] .panel-body{background-color:var(--kr-bg-surface);color:var(--kr-text-primary)}html[class*=-dark] .panel-footer,html[class*=-dark] .well{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default)}html[class*=-dark] .form-group label,html[class*=-dark] .kr-tamper-theme h4,html[class*=-dark] .kr-tamper-theme label,html[class*=-dark] .well,html[class*=-dark] label{color:var(--kr-text-primary)}html[class*=-dark] .kr-tamper-theme .control-label{color:var(--kr-text-secondary)}html[class*=-dark] .modal-content{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .form-control,html[class*=-dark] .modal-body,html[class*=-dark] .modal-footer,html[class*=-dark] .modal-header{background-color:var(--kr-bg-surface);color:var(--kr-text-primary);border-color:var(--kr-border-default)}html[class*=-dark] .form-control{background-color:var(--kr-form-bg)}html[class*=-dark] .form-control::placeholder{color:var(--kr-text-muted)}html[class*=-dark] .form-control:focus{background-color:var(--kr-form-bg-focus);border-color:var(--kr-primary);color:var(--kr-text-primary)}html[class*=-dark] .input-group-addon{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .btn-primary{background-color:var(--kr-primary);border-color:var(--kr-primary-dark);color:var(--kr-text-primary)}html[class*=-dark] .btn-primary:active,html[class*=-dark] .btn-primary:focus,html[class*=-dark] .btn-primary:hover{background-color:var(--kr-primary-dark);border-color:var(--kr-primary-dark);color:var(--kr-text-primary)}html[class*=-dark] .btn-default,html[class*=-dark] .table>tbody>tr>th,html[class*=-dark] .table>tfoot>tr>th,html[class*=-dark] .table>thead>tr>th{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .btn-default:hover{background-color:var(--kr-bg-active);border-color:var(--kr-border-strong)}html[class*=-dark] .btn-default:active,html[class*=-dark] .btn-default:focus{background-color:var(--kr-bg-hover);border-color:var(--kr-border-strong);color:var(--kr-text-primary)}html[class*=-dark] .list-group-item{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .list-group-item:hover{background-color:var(--kr-bg-hover)}html[class*=-dark] .list-group-item-heading{color:var(--kr-text-primary)}html[class*=-dark] .list-group-item-text{color:var(--kr-text-secondary)}html[class*=-dark] .dropdown-menu>li>a,html[class*=-dark] .nav-tabs>li>a,html[class*=-dark] .table{color:var(--kr-text-primary)}html[class*=-dark] .table>tbody>tr>td{border-color:var(--kr-border-default)}html[class*=-dark] .table-striped>tbody>tr:nth-of-type(odd){background-color:var(--kr-bg-hover)}html[class*=-dark] .table.table-striped>tbody>tr{background-color:var(--kr-bg-page)}html[class*=-dark] .table.table-striped>tbody>tr:nth-of-type(odd){background-color:var(--kr-bg-elevated)}html[class*=-dark] .table-hover>tbody>tr:hover{background-color:var(--kr-bg-active)}html[class*=-dark] .dropdown-menu{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-strong)}html[class*=-dark] .dropdown-menu>li>a:focus,html[class*=-dark] .dropdown-menu>li>a:hover{background-color:var(--kr-bg-hover);color:var(--kr-text-primary)}html[class*=-dark] .dropdown-menu>.active>a,html[class*=-dark] .dropdown-menu>.active>a:focus,html[class*=-dark] .dropdown-menu>.active>a:hover{background-color:var(--kr-primary);color:var(--kr-text-inverse)}.btn-toolbar .dropdown-menu table img,.dropdown-menu table img{width:32px!important;height:32px!important;object-fit:contain!important;display:block!important;flex-shrink:0!important}html[class*=-dark] .nav-tabs{border-color:var(--kr-border-default)}html[class*=-dark] .nav-tabs>li>a:hover{background-color:var(--kr-bg-hover);border-color:var(--kr-border-default)}html[class*=-dark] .nav-tabs>li.active>a,html[class*=-dark] .nav-tabs>li.active>a:focus,html[class*=-dark] .nav-tabs>li.active>a:hover{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default) var(--kr-border-default) transparent;color:var(--kr-text-primary)}html[class*=-dark] .alert{border-color:var(--kr-border-default);color:var(--kr-text-primary)!important}html[class*=-dark] .alert *{color:inherit!important}html[class*=-dark] .alert a{color:var(--kr-primary)!important;text-decoration:underline}html[class*=-dark] .alert-info{background-color:rgb(122,82,64,.15);border-color:rgb(122,82,64,.3);color:var(--kr-text-primary)}html[class*=-dark] .alert-success{background-color:rgb(34,197,94,.15);border-color:rgb(34,197,94,.3);color:var(--kr-text-primary)}html[class*=-dark] .alert-warning{background-color:rgb(245,158,11,.15);border-color:rgb(245,158,11,.3);color:var(--kr-text-primary)}html[class*=-dark] .alert-danger{background-color:rgb(239,68,68,.15);border-color:rgb(239,68,68,.3);color:var(--kr-text-primary)}html[class*=-dark] #flap,html[class*=-dark] .progress{background-color:var(--kr-bg-elevated)}html[class*=-dark] .dashboard-card{background:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .dashboard-card:hover{box-shadow:var(--kr-shadow-md)}html[class*=-dark] .dashboard-card-header{background:var(--kr-bg-hover)}html[class*=-dark] .dashboard-card-name{color:var(--kr-text-primary)}html[class*=-dark] .dashboard-card-status{color:var(--kr-text-muted)}html[class*=-dark] .dashboard-section{background:var(--kr-bg-surface)}html[class*=-dark] .dashboard-card-hp{background:var(--kr-bg-elevated)}html[class*=-dark] .chat li{border-bottom-color:var(--kr-border-default)}html[class*=-dark] .map-box,html[class*=-dark] .panel-body-scroll{background-color:var(--kr-bg-surface)}html[class*=-dark] #flap a.closed,html[class*=-dark] #flap a.open{background:var(--kr-bg-elevated);color:var(--kr-text-primary)}html[class*=-dark] .map-box{border-color:var(--kr-border-default)}html[class*=-dark] .map-box-title{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] .map-box-content{color:var(--kr-text-primary)}html[class*=-dark] .map-box-bottom{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] .f1{color:var(--kr-nation-1)}html[class*=-dark] .f2{color:var(--kr-nation-2)}html[class*=-dark] .f3{color:var(--kr-nation-3)}html[class*=-dark] .f4{color:var(--kr-nation-4)}html[class*=-dark] .f5{color:var(--kr-nation-5)}html[class*=-dark] .f6{color:var(--kr-nation-6)}html[class*=-dark] .f7{color:var(--kr-nation-7)}html[class*=-dark] .f8{color:var(--kr-nation-8)}html[class*=-dark] .f9{color:var(--kr-nation-9)}html[class*=-dark] .c1{background-color:var(--kr-nation-bg-1)}html[class*=-dark] .c2{background-color:var(--kr-nation-bg-2)}html[class*=-dark] .c3{background-color:var(--kr-nation-bg-3)}html[class*=-dark] .c4{background-color:var(--kr-nation-bg-4)}html[class*=-dark] .c5{background-color:var(--kr-nation-bg-5)}html[class*=-dark] .c6{background-color:var(--kr-nation-bg-6)}html[class*=-dark] .c7{background-color:var(--kr-nation-bg-7)}html[class*=-dark] .c8{background-color:var(--kr-nation-bg-8)}html[class*=-dark] .c9{background-color:var(--kr-nation-bg-9)}html[class*=-dark] .c10{background-color:var(--kr-nation-bg-10)}html[class*=-dark] font[color="#f4ac00"],html[class*=-dark] font[color=f4ac00]{color:#ffbe33!important}html[class*=-dark] font[color="#f77400"],html[class*=-dark] font[color=f77400]{color:#f83!important}html[class*=-dark] font[color="#ed6161"],html[class*=-dark] font[color=ed6161]{color:#ff7a7a!important}html[class*=-dark] .red,html[class*=-dark] font[color="#d50000"],html[class*=-dark] font[color=d50000]{color:#f33!important}html[class*=-dark] font[color=olive]{color:#b3b333!important}html[class*=-dark] font[color="#219c5a"],html[class*=-dark] font[color="219c5a"]{color:#3c7!important}html[class*=-dark] font[color="#006f00"],html[class*=-dark] font[color="006f00"]{color:#0b0!important}html[class*=-dark] font[color=teal]{color:#3cc!important}html[class*=-dark] font[color="#5577bc"],html[class*=-dark] font[color="5577bc"]{color:#79d!important}html[class*=-dark] font[color="#2b2be4"],html[class*=-dark] font[color="2b2be4"]{color:#55f!important}html[class*=-dark] font[color=navy]{color:#55c!important}html[class*=-dark] font[color=purple]{color:#c5c!important}html[class*=-dark] font[color="#4B0082"],html[class*=-dark] font[color="4B0082"],html[class*=-dark] font[color="4b0082"]{color:#85c!important}html[class*=-dark] font[color=maroon]{color:#c55!important}html[class*=-dark] font[color="#5e432d"],html[class*=-dark] font[color="5e432d"]{color:#a75!important}html[class*=-dark] font[color=gray]{color:#aaa!important}html[class*=-dark] font[color="#5a5a5a"],html[class*=-dark] font[color="5a5a5a"]{color:#999!important}html[class*=-dark] font[color="#000000"],html[class*=-dark] font[color="000000"]{color:#ccc!important}html[class*=-dark] .blue{color:#38f!important}html[class*=-dark] [style*="background-color: #f4ac00"],html[class*=-dark] [style*="background-color:#f4ac00"]{background-color:#ffbe33!important}html[class*=-dark] [style*="background-color: #f77400"],html[class*=-dark] [style*="background-color:#f77400"]{background-color:#f83!important}html[class*=-dark] [style*="background-color: #ed6161"],html[class*=-dark] [style*="background-color:#ed6161"]{background-color:#ff7a7a!important}html[class*=-dark] [style*="background-color: #d50000"],html[class*=-dark] [style*="background-color:#d50000"]{background-color:#f33!important}html[class*=-dark] [style*="background-color: #808000"],html[class*=-dark] [style*="background-color:#808000"]{background-color:#b3b333!important}html[class*=-dark] [style*="background-color: #219c5a"],html[class*=-dark] [style*="background-color:#219c5a"]{background-color:#3c7!important}html[class*=-dark] [style*="background-color: #006f00"],html[class*=-dark] [style*="background-color:#006f00"]{background-color:#0b0!important}html[class*=-dark] [style*="background-color: #008080"],html[class*=-dark] [style*="background-color:#008080"]{background-color:#3cc!important}html[class*=-dark] [style*="background-color: #5577bc"],html[class*=-dark] [style*="background-color:#5577bc"]{background-color:#79d!important}html[class*=-dark] [style*="background-color: #2b2be4"],html[class*=-dark] [style*="background-color:#2b2be4"]{background-color:#55f!important}html[class*=-dark] [style*="background-color: #000080"],html[class*=-dark] [style*="background-color:#000080"]{background-color:#55c!important}html[class*=-dark] [style*="background-color: #800080"],html[class*=-dark] [style*="background-color:#800080"]{background-color:#c5c!important}html[class*=-dark] [style*="background-color: #4B0082"],html[class*=-dark] [style*="background-color: #4b0082"],html[class*=-dark] [style*="background-color:#4B0082"],html[class*=-dark] [style*="background-color:#4b0082"]{background-color:#85c!important}html[class*=-dark] [style*="background-color: #800000"],html[class*=-dark] [style*="background-color:#800000"]{background-color:#c55!important}html[class*=-dark] [style*="background-color: #5e432d"],html[class*=-dark] [style*="background-color:#5e432d"]{background-color:#a75!important}html[class*=-dark] [style*="background-color: #808080"],html[class*=-dark] [style*="background-color:#808080"]{background-color:#aaa!important}html[class*=-dark] [style*="background-color: #5a5a5a"],html[class*=-dark] [style*="background-color:#5a5a5a"]{background-color:#999!important}html[class*=-dark] [style*="background-color: #000000"],html[class*=-dark] [style*="background-color:#000000"]{background-color:#ccc!important}html[class*=-dark] ::-webkit-scrollbar-track{background-color:var(--kr-bg-page)}html[class*=-dark] ::-webkit-scrollbar-thumb{background-color:var(--kr-text-muted)}html[class*=-dark] ::-webkit-scrollbar-thumb:hover{background-color:var(--kr-text-secondary)}html[class*=-dark] ::selection{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] footer{background-color:var(--kr-bg-elevated);border-top:1px solid var(--kr-border-default)}html[class*=-dark] .dataTables_filter label,html[class*=-dark] .dataTables_length label,html[class*=-dark] .footer-quote{color:var(--kr-text-secondary)}html[class*=-dark] #skills-panel{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}body.mobile-mode .commerce-products-container>a.list-group-item p i,body>map,html[class*=-dark] hr{display:none}html[class*=-dark] .carousel-control{color:var(--kr-primary);opacity:.7}html[class*=-dark] .carousel-control:focus,html[class*=-dark] .carousel-control:hover{color:var(--kr-highlight);opacity:.9}html[class*=-dark] .carousel-indicators li{background-color:var(--kr-border-default);border-color:var(--kr-border-default)}html[class*=-dark] .carousel-indicators .active{background-color:var(--kr-primary);border-color:var(--kr-primary)}html[class*=-dark] a:link,html[class*=-dark] a:visited{color:var(--kr-highlight)}html[class*=-dark] a:focus,html[class*=-dark] a:hover{color:var(--kr-primary)}html[class*=-dark] a.next,html[class*=-dark] a.prev{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] a.next:hover,html[class*=-dark] a.prev:hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-highlight)!important}html[class*=-dark] .btn-warning{background-color:var(--kr-primary)!important;border-color:var(--kr-primary-dark)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .btn-warning:hover{background-color:var(--kr-highlight)!important;border-color:var(--kr-primary)!important}html[class*=-dark] img[src*="/bat/bat"],html[class*=-dark] img[src*="/mat/94/"],html[class*=-dark] img[src*="/voc/"]{filter:none;opacity:.85}html[class*=-dark] img[src*="/bat/bat"]:hover,html[class*=-dark] img[src*="/mat/94/"]:hover,html[class*=-dark] img[src*="/voc/"]:hover{filter:none;opacity:1}.c100{width:80px!important;height:80px!important;border-radius:50%!important;background-color:var(--kr-bg-elevated, #f5f5f5)!important;display:flex!important;align-items:center!important;justify-content:center!important;overflow:visible!important}.c100 .bar,.c100 .fill,.c100 .slice,.mobile-mode table[data-mobile-hidden=true],body.page-kramail .editeur-text #results hr,body.page-kramail .editeur-text .form-group hr{display:none!important}.c100>span,html[class*=-dark] .c100>span{font-size:20px!important;font-weight:600!important}.c100,.c100>span{position:relative!important}.c100>span{z-index:10!important;color:var(--kr-text-primary, #333)!important;text-align:center!important}.c100::after,.c100::before{content:""!important;position:absolute!important;border-radius:50%!important}.c100::after{top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important;width:68px!important;height:68px!important;background-color:var(--kr-bg-elevated, #f5f5f5)!important;z-index:5!important}.c100::before{top:0!important;left:0!important;width:100%!important;height:100%!important;background:conic-gradient(var(--clock-color, #8B0000) 0deg,var(--clock-color, #8B0000) calc(var(--clock-deg, 0)*1deg),transparent calc(var(--clock-deg, 0)*1deg),transparent 360deg)!important;z-index:1!important;transition:none!important}.c100[data-second-lap=true]::before{box-shadow:0 0 0 1px var(--kr-bg-elevated, #f5f5f5),0 0 0 5px var(--clock-color, #32CD32),inset 0 0 0 2px var(--clock-color, #32CD32)!important}.c100.p0{--clock-deg:0}.c100.p1{--clock-deg:3.6}.c100.p2{--clock-deg:7.2}.c100.p3{--clock-deg:10.8}.c100.p4{--clock-deg:14.4}.c100.p5{--clock-deg:18}.c100.p6{--clock-deg:21.6}.c100.p7{--clock-deg:25.2}.c100.p8{--clock-deg:28.8}.c100.p9{--clock-deg:32.4}.c100.p10{--clock-deg:36}.c100.p11{--clock-deg:39.6}.c100.p12{--clock-deg:43.2}.c100.p13{--clock-deg:46.8}.c100.p14{--clock-deg:50.4}.c100.p15{--clock-deg:54}.c100.p16{--clock-deg:57.6}.c100.p17{--clock-deg:61.2}.c100.p18{--clock-deg:64.8}.c100.p19{--clock-deg:68.4}.c100.p20{--clock-deg:72}.c100.p21{--clock-deg:75.6}.c100.p22{--clock-deg:79.2}.c100.p23{--clock-deg:82.8}.c100.p24{--clock-deg:86.4}.c100.p25{--clock-deg:90}.c100.p26{--clock-deg:93.6}.c100.p27{--clock-deg:97.2}.c100.p28{--clock-deg:100.8}.c100.p29{--clock-deg:104.4}.c100.p30{--clock-deg:108}.c100.p31{--clock-deg:111.6}.c100.p32{--clock-deg:115.2}.c100.p33{--clock-deg:118.8}.c100.p34{--clock-deg:122.4}.c100.p35{--clock-deg:126}.c100.p36{--clock-deg:129.6}.c100.p37{--clock-deg:133.2}.c100.p38{--clock-deg:136.8}.c100.p39{--clock-deg:140.4}.c100.p40{--clock-deg:144}.c100.p41{--clock-deg:147.6}.c100.p42{--clock-deg:151.2}.c100.p43{--clock-deg:154.8}.c100.p44{--clock-deg:158.4}.c100.p45{--clock-deg:162}.c100.p46{--clock-deg:165.6}.c100.p47{--clock-deg:169.2}.c100.p48{--clock-deg:172.8}.c100.p49{--clock-deg:176.4}.c100.p50{--clock-deg:180}.c100.p51{--clock-deg:183.6}.c100.p52{--clock-deg:187.2}.c100.p53{--clock-deg:190.8}.c100.p54{--clock-deg:194.4}.c100.p55{--clock-deg:198}.c100.p56{--clock-deg:201.6}.c100.p57{--clock-deg:205.2}.c100.p58{--clock-deg:208.8}.c100.p59{--clock-deg:212.4}.c100.p60{--clock-deg:216}.c100.p61{--clock-deg:219.6}.c100.p62{--clock-deg:223.2}.c100.p63{--clock-deg:226.8}.c100.p64{--clock-deg:230.4}.c100.p65{--clock-deg:234}.c100.p66{--clock-deg:237.6}.c100.p67{--clock-deg:241.2}.c100.p68{--clock-deg:244.8}.c100.p69{--clock-deg:248.4}.c100.p70{--clock-deg:252}.c100.p71{--clock-deg:255.6}.c100.p72{--clock-deg:259.2}.c100.p73{--clock-deg:262.8}.c100.p74{--clock-deg:266.4}.c100.p75{--clock-deg:270}.c100.p76{--clock-deg:273.6}.c100.p77{--clock-deg:277.2}.c100.p78{--clock-deg:280.8}.c100.p79{--clock-deg:284.4}.c100.p80{--clock-deg:288}.c100.p81{--clock-deg:291.6}.c100.p82{--clock-deg:295.2}.c100.p83{--clock-deg:298.8}.c100.p84{--clock-deg:302.4}.c100.p85{--clock-deg:306}.c100.p86{--clock-deg:309.6}.c100.p87{--clock-deg:313.2}.c100.p88{--clock-deg:316.8}.c100.p89{--clock-deg:320.4}.c100.p90{--clock-deg:324}.c100.p91{--clock-deg:327.6}.c100.p92{--clock-deg:331.2}.c100.p93{--clock-deg:334.8}.c100.p94{--clock-deg:338.4}.c100.p95{--clock-deg:342}.c100.p96{--clock-deg:345.6}.c100.p97{--clock-deg:349.2}.c100.p98{--clock-deg:352.8}.c100.p99{--clock-deg:356.4}.c100.p100{--clock-deg:360}html[class*=-dark] .c100,html[class*=-dark] .dataTables_filter input,html[class*=-dark] .dataTables_length select,html[class*=-dark] .pagination>li>a,html[class*=-dark] .pagination>li>span,html[class*=-dark] table.dataTable thead td,html[class*=-dark] table.dataTable thead th{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] .c100::after,html[class*=-dark] table.dataTable thead th.sorting,html[class*=-dark] table.dataTable thead th.sorting_asc,html[class*=-dark] table.dataTable thead th.sorting_desc{background-color:var(--kr-bg-elevated)!important}html[class*=-dark] .c100>span{color:var(--kr-text-primary)!important;line-height:80px!important;width:80px!important;height:80px!important}html[class*=-dark] .c100 .slice{border-color:var(--kr-bg-elevated)!important}html[class*=-dark] .c100 .bar{border-color:var(--kr-primary)!important}html[class*=-dark] .c100 .fill{border-color:var(--kr-bg-elevated)!important}html[class*=-dark] .dataTables_paginate,html[class*=-dark] .pagination{background-color:transparent!important}html[class*=-dark] .pagination>li.disabled>a,html[class*=-dark] .pagination>li.disabled>span{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-muted)!important;opacity:.6!important}html[class*=-dark] .pagination>li>a:hover,html[class*=-dark] .pagination>li>span:hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-primary)!important}html[class*=-dark] .dataTables_paginate .paginate_button.current,html[class*=-dark] .pagination>.active>a,html[class*=-dark] .pagination>.active>a:hover,html[class*=-dark] .pagination>.active>span,html[class*=-dark] .pagination>.active>span:hover{background-color:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .dataTables_paginate .paginate_button{background-color:var(--kr-bg-elevated)!important;border:1px solid var(--kr-border-default)!important;color:var(--kr-text-primary)!important;background-image:none!important;box-shadow:none!important}html[class*=-dark] .dataTables_paginate .paginate_button.disabled,html[class*=-dark] .dataTables_paginate .paginate_button.disabled:hover{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-muted)!important;opacity:.6!important;cursor:not-allowed!important}html[class*=-dark] .dataTables_paginate .paginate_button:not(.disabled):hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-primary)!important}html[class*=-dark] .dataTables_paginate .paginate_button.current:hover{background-color:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .dataTables_wrapper{color:var(--kr-text-primary)}html[class*=-dark] .dataTables_filter,html[class*=-dark] .dataTables_info,html[class*=-dark] .dataTables_length{color:var(--kr-text-secondary)!important}html[class*=-dark] .dataTables_filter input:focus,html[class*=-dark] .dataTables_length select:focus{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-primary)!important;outline:0!important}html[class*=-dark] table.dataTable{background-color:transparent!important;color:var(--kr-text-primary)!important}html[class*=-dark] table.dataTable tbody tr,html[class*=-dark] table.dataTable tbody tr.odd{background-color:var(--kr-bg-surface)!important}html[class*=-dark] table.dataTable tbody tr.even,html[class*=-dark] table.dataTable thead th.sorting:hover,html[class*=-dark] table.dataTable thead th.sorting_asc:hover,html[class*=-dark] table.dataTable thead th.sorting_desc:hover{background-color:var(--kr-bg-hover)!important}html[class*=-dark] table.dataTable tbody tr:hover{background-color:var(--kr-bg-active)!important}html[class*=-dark] table.dataTable tbody td{border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] table.dataTable tbody td.dataTables_empty{background-color:var(--kr-bg-surface)!important;color:var(--kr-text-secondary)!important}html[class*=-dark] table.dataTable tfoot td,html[class*=-dark] table.dataTable tfoot th{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}body>div:has([id^=c]){display:block;position:relative;min-height:550px}@media (max-width:767px){html{overflow-anchor:none!important}.container{max-width:100%!important;width:100%!important;padding-left:15px!important;padding-right:15px!important}.navbar-brand,.navbar-header,.navbar-toggle{display:flex!important;align-items:center!important}.navbar-header{justify-content:center!important;width:100vw!important;position:relative!important;margin-left:calc(-50vw + 50%)!important;margin-right:calc(-50vw + 50%)!important;padding-left:0!important;padding-right:0!important;height:60px!important}.navbar-brand,.navbar-toggle{float:none!important;margin:0!important;padding:15px!important}.navbar-toggle{position:absolute!important;right:15px!important;top:50%!important;transform:translateY(-50%)!important;padding:8px!important;min-width:48px!important;min-height:48px!important;width:48px!important;height:48px!important;border-radius:12px!important;border:0!important;background:rgba(255,255,255,.15)!important;backdrop-filter:blur(10px)!important;flex-direction:column!important;justify-content:center!important;gap:4px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;box-shadow:0 2px 8px rgba(0,0,0,.15)!important}.navbar-toggle:focus,.navbar-toggle:hover{background:rgba(255,255,255,.25)!important;box-shadow:0 4px 12px rgba(0,0,0,.2)!important;transform:translateY(-50%) scale(1.05)!important}.navbar-toggle:active{transform:translateY(-50%) scale(.98)!important}.navbar-toggle .icon-bar{width:22px!important;height:2px!important;border-radius:2px!important;background-color:#fff!important;display:block!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important}.navbar-toggle:hover .icon-bar:nth-child(2){width:18px!important;margin-left:4px!important}.navbar-toggle:hover .icon-bar:nth-child(4){width:18px!important}.navbar-collapse{width:100%!important;border-top:1px solid rgba(255,255,255,.1)!important;box-shadow:inset 0 1px 0 rgba(255,255,255,.1)!important}.navbar-collapse.in{overflow-y:auto!important;max-height:calc(100vh - 60px)!important}.navbar-nav>li>a{padding:15px 20px!important;font-size:16px!important}.navbar-nav.navbar-right>li>a{padding:15px 12px!important}.navbar-brand img.kr-logo{height:24px!important}body.mobile-mode .container:not(.bootbox)>.row>[class*=col-md-],body.mobile-mode .container:not(.bootbox)>.row>[class*=col-sm-],body.mobile-mode>.container>.row>[class*=col-md-],body.mobile-mode>.container>.row>[class*=col-sm-]{width:100%!important;float:none!important;padding-left:10px!important;padding-right:10px!important;margin-bottom:15px!important}.carousel{margin-bottom:20px!important}.carousel .carousel-caption{position:relative!important;left:0!important;right:0!important;bottom:0!important;background:rgba(0,0,0,.7)!important;padding:15px!important}.carousel .carousel-caption h1{font-size:1.5rem!important;line-height:1.3!important}.carousel .carousel-caption p{font-size:.95rem!important}.carousel-inner>.item>img{width:100%!important;height:auto!important}#player-header-section.kr-news-collapsed .panel.panel-default,a.list-group-item.ds_characters,a.list-group-item.ds_online,a.list-group-item.ds_users{display:none!important}.panel-body.panel-news ul.demo li.news-item:nth-child(n+2){display:none!important}.panel-default ul.pagination.pull-right>li>a{font-size:12px!important;padding:6px 10px!important;min-width:32px!important;min-height:32px!important;line-height:1.2!important}.list-group-item.active{display:flex!important;justify-content:space-between!important;align-items:center!important;padding:10px 15px!important}#slide-submenu{flex-shrink:0!important;margin-left:10px!important;cursor:pointer!important;font-size:18px!important;line-height:1!important;padding:4px 8px!important;background:0 0!important;border:0!important;color:inherit!important;transition:opacity .2s ease!important}#slide-submenu:hover{opacity:.7!important}.dashboard-cards-grid{grid-template-columns:repeat(3,1fr)!important;gap:8px!important}.dashboard-card{padding:10px!important}.dashboard-card h4,h4{font-size:1.1rem!important}.panel{margin-bottom:15px!important}.panel-heading,.panel-heading .pull-right{display:flex!important;align-items:center!important}.panel-heading{padding:10px 15px!important;flex-wrap:wrap!important;gap:10px!important}.panel-heading .pull-right{float:none!important;margin-left:auto!important}.panel-body{padding:15px!important}.pagination{margin:10px 0!important}.pagination>li>a,.pagination>li>span{width:44px!important;height:44px!important;min-width:44px!important;min-height:44px!important;max-width:44px!important;max-height:44px!important;line-height:1!important;box-sizing:border-box!important;padding:12px 16px!important;font-size:16px!important}.panel-body>div,h1.page-header{margin-bottom:10px!important}a[name^=msg]{position:absolute!important;width:0!important;height:0!important;margin:0!important;padding:0!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.alert,.well{padding:15px!important;margin-bottom:15px!important}.alert{padding:12px 15px!important}#flap,#skills-panel{position:fixed!important;top:0!important;width:85%!important;max-width:320px!important;height:100vh!important;z-index:1050!important;overflow-y:auto!important;background:var(--kr-bg-surface)!important}#flap{right:-100%!important;transition:right .3s ease!important;box-shadow:-2px 0 10px rgba(0,0,0,.3)!important}#flap.mobile-open{right:0!important}.pagination>li>a,.pagination>li>span,a[href*="#flap"]{display:flex!important;align-items:center!important;justify-content:center!important}a[href*="#flap"]{position:fixed!important;bottom:20px!important;right:20px!important;z-index:1000!important;background:var(--kr-primary)!important;color:#fff!important;border-radius:50%!important;width:56px!important;height:56px!important;text-align:center!important;box-shadow:var(--kr-shadow-lg)!important;font-size:18px!important;font-weight:700!important;text-decoration:none!important}#skills-panel{left:-100%!important;transition:left .3s ease!important;box-shadow:2px 0 10px rgba(0,0,0,.3)!important;padding:15px!important}#skills-panel.mobile-open{left:0!important}.col-md-1:has(#skills-panel){position:static!important;width:0!important;padding:0!important;margin:0!important}#skills-panel .grid-transformed{display:grid!important;grid-template-columns:repeat(2,1fr)!important;gap:8px!important}body.mobile-mode>.container>.row>.col-md-1,body.mobile-mode>.container>.row>.col-md-3,body.mobile-mode>.container>.row>.col-md-6,body.mobile-mode>.container>.row>.col-md-8{width:100%!important;float:none!important;padding-left:15px!important;padding-right:15px!important}.panel-heading img{max-width:60px!important;max-height:60px!important}.progress{height:24px!important;margin-bottom:8px!important}.progress-bar{font-size:12px!important;line-height:24px!important}.panel-body:has([id^=c]),.panel-body:has(map){overflow-x:auto!important;-webkit-overflow-scrolling:touch!important;padding:10px!important}body>div:has([id^=c]){min-height:400px!important}[id^=c] img,map+img{max-width:none!important;height:auto!important}.list-group{margin-bottom:15px!important}.list-group-item{padding:10px 12px!important;min-height:44px!important;justify-content:space-between!important;display:flex!important;align-items:center!important;gap:10px!important}.list-group-item img,.panel-body a img{width:40px!important;height:40px!important;flex-shrink:0!important}.list-group-item-heading,.panel-body a{font-size:14px!important;margin-bottom:4px!important}.list-group-item-text{font-size:12px!important}.panel-body h4{font-size:1rem!important;margin-top:15px!important;margin-bottom:10px!important}.panel-body a{display:flex!important;align-items:center!important;padding:8px!important;gap:10px!important;margin-bottom:5px!important;border-radius:4px!important}.panel-body a:hover{background-color:var(--kr-bg-hover)!important}.panel-body a img{width:32px!important;height:32px!important}.table-responsive{overflow-x:auto!important;-webkit-overflow-scrolling:touch!important;margin-bottom:15px!important}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px!important;font-size:13px!important}.btn,a:not(.list-group-item),button,input[type=button],input[type=reset],input[type=submit]{min-height:44px!important;display:inline-flex!important;align-items:center!important;justify-content:center!important}.btn{padding:12px 20px!important;font-size:16px!important}.btn-sm,.btn-xs{min-height:32px!important;padding:6px 12px!important;font-size:14px!important}.btn-sm{min-height:38px!important;padding:8px 16px!important}.btn-lg{min-height:50px!important;padding:14px 24px!important;font-size:18px!important}.form-control{font-size:16px!important;padding:10px 12px!important}textarea.form-control{height:auto!important;min-height:100px!important}.form-control,select.form-control{height:44px!important}input[type=checkbox],input[type=radio]{width:20px!important;height:20px!important;margin:4px!important}label{display:inline-block!important;padding:5px 0!important;cursor:pointer!important}.btn+.btn{margin-top:8px!important;margin-left:0!important}.btn-group-vertical>.btn{margin-top:0!important;margin-bottom:8px!important}.btn-group{display:flex!important;flex-direction:column!important;width:100%!important}.btn-group>.btn{width:100%!important;margin-bottom:8px!important}.breadcrumb{padding:10px 15px!important;font-size:14px!important}.dropdown-menu>li>a,.nav-tabs>li>a{padding:12px 16px!important;font-size:16px!important}.dropdown-menu>li>a{padding:12px 20px!important}.modal-dialog{width:auto!important;margin:10px!important}.modal-content{border-radius:8px!important}.modal-body,.modal-footer,.modal-header{padding:15px!important}.popover{max-width:calc(100vw - 40px)!important}.footer,.tooltip{font-size:14px!important}.footer{padding:15px!important}h1{font-size:1.75rem!important}h2{font-size:1.5rem!important}h3{font-size:1.25rem!important}h5{font-size:1rem!important}h6{font-size:.9rem!important}.row{margin-left:-10px!important;margin-right:-10px!important}.hidden-xs{display:none!important}.visible-xs,.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}.kr-mobile-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1040;opacity:0;transition:opacity .3s ease}.kr-mobile-overlay.active{display:block;opacity:1}.kr-mobile-close{position:absolute;top:10px;right:10px;width:40px;height:40px;background:var(--kr-primary);color:#fff;border:0;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;font-size:20px}.kr-mobile-close:hover{background:var(--kr-primary-dark)}.kr-mobile-skills-toggle{position:fixed!important;bottom:90px!important;right:20px!important;z-index:1000!important;width:56px!important;height:56px!important;border-radius:50%!important;padding:0!important;display:none!important;box-shadow:var(--kr-shadow-lg)!important}@media (max-width:767px){.kr-mobile-skills-toggle{display:flex!important;align-items:center!important;justify-content:center!important}body.mobile-mode .desktop-only,body.mobile-mode .mobile-hidden{display:none}}@media (min-width:768px){body.mobile-mode .mobile-only{display:none}}@media (max-width:767px){.visible-xs-block{display:block}.visible-xs-inline{display:inline}.visible-xs-inline-block{display:inline-block}.hidden-xs{display:none}}.commerce-category-header{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;position:relative;transition:background-color var(--transition-fast)}.commerce-category-header:hover,body.mobile-mode .building-section-header:hover{background-color:var(--kr-bg-hover)}.commerce-category-header:active,body.mobile-mode .building-section-header:active{background-color:var(--kr-bg-active)}.commerce-category-header .accordion-icon,body.mobile-mode .building-section-header .accordion-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);transition:transform var(--transition-normal);font-size:14px;color:var(--kr-text-secondary)}.commerce-category-header.expanded .accordion-icon,body.mobile-mode .building-section-header.expanded .accordion-icon{transform:translateY(-50%) rotate(-180deg)}.commerce-products-container{max-height:5000px;opacity:1;overflow:hidden;transition:max-height var(--transition-normal),opacity var(--transition-normal)}.commerce-products-container.collapsed,body.mobile-mode .building-section-content.collapsed{max-height:0!important;opacity:0}body.mobile-mode .commerce-products-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px;padding:8px 0}body.mobile-mode .commerce-products-container>a.list-group-item{display:flex!important;flex-direction:column;padding:8px!important;min-height:120px;border-radius:8px;background-color:var(--kr-bg-surface);border:1px solid var(--kr-border-default);transition:transform var(--transition-fast),box-shadow var(--transition-fast)}body.mobile-mode .commerce-products-container>a.list-group-item:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.3)}body.mobile-mode .commerce-products-container>a.list-group-item .mention{position:absolute;top:4px;right:4px;float:none!important;font-size:10px;line-height:1.2;text-align:right;background-color:rgba(0,0,0,.6);padding:2px 4px;border-radius:4px}body.mobile-mode .commerce-products-container>a.list-group-item .mention .xmini{font-size:9px;opacity:.8}body.mobile-mode .commerce-products-container>a.list-group-item img{float:none!important;display:block;margin:0 auto 8px;width:40px;height:40px}body.mobile-mode .commerce-products-container>a.list-group-item h4{font-size:11px;line-height:1.3;margin:0 0 4px;text-align:center;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-break:break-all}body.mobile-mode .commerce-products-container>a.list-group-item p{font-size:9px;line-height:1.2;margin:0;text-align:center;color:var(--kr-text-secondary);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}body.mobile-mode .building-section-header{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;position:relative;transition:background-color var(--transition-fast)}body.mobile-mode .building-section-content{max-height:5000px;opacity:1;overflow:hidden;transition:max-height var(--transition-normal),opacity var(--transition-normal)}body.mobile-mode .kr-navigation-row{display:table!important;width:100%;table-layout:fixed;margin-bottom:5px;border-collapse:separate;border-spacing:0}body.mobile-mode .kr-navigation-row+.container{padding-top:10px!important}body.mobile-mode .kr-navigation-row>.btn-group{display:table-cell!important;width:1%;vertical-align:middle;float:none!important}body.mobile-mode .kr-direction-link,body.mobile-mode .kr-room-link{display:flex!important;flex-direction:column;align-items:center;justify-content:center;width:100%;height:60px!important;padding:0!important;text-align:center}body.mobile-mode .kr-direction-link{position:relative}body.mobile-mode .kr-direction-link img,body.mobile-mode .kr-room-link img{width:60px;height:60px;display:block}body.mobile-mode .kr-direction-link map{position:absolute;top:0;left:0;width:100%;height:100%}body.mobile-mode .kr-room-link{font-size:10px;line-height:1.2}body.mobile-mode .kr-navigation-row>.btn-group:first-child .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:first-child .kr-room-link{border-radius:4px 0 0 4px}body.mobile-mode .kr-navigation-row>.btn-group:last-child .kr-room-link{border-radius:0 4px 4px 0}body.mobile-mode .kr-navigation-row>.btn-group:not(:first-child) .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:not(:first-child) .kr-room-link{border-left:none}body.mobile-mode .kr-navigation-row>.btn-group:only-child .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:only-child .kr-room-link{border-radius:4px}@media (max-width:767px){body.mobile-mode .container,body.mobile-mode .container-fluid,body.mobile-mode [class*=col-]{padding-left:0!important;padding-right:0!important}body.mobile-mode .dashboard,body.mobile-mode .row{margin-left:0!important;margin-right:0!important}body.mobile-mode .dashboard{width:100%!important;padding:0!important}.panel-group{border:1px solid var(--kr-border-default)!important;border-left:none!important;border-right:none!important;margin-bottom:5px!important;margin-left:-15px!important;margin-right:-15px!important;width:calc(100% + 30px)!important}.panel-group .panel{background:0 0!important;border:0!important;border-radius:0!important;margin-bottom:0!important;box-shadow:none!important}.panel-group .panel+.panel{border-top:1px solid var(--kr-border-default)!important}.panel-group,.panel-group .panel-heading{background:var(--kr-bg-surface)!important;border-radius:0!important}.panel-group .panel-heading{border:0!important;padding:12px 0!important;margin:0!important;align-items:center!important;transition:background-color var(--transition-fast)!important}.panel-group .panel-heading:active{background:var(--kr-bg-hover)!important}.panel-group .panel-collapse{border:0!important}.panel-group .panel-body{background:var(--kr-bg-surface)!important;border:0!important;padding:10px 0!important}.panel-group .panel-title,body.mobile-mode .modal-body .nav-tabs>li>a{font-size:14px!important;font-weight:500!important;color:var(--kr-text-primary)!important}.panel-group .panel-title a{display:block!important;text-decoration:none!important}.panel-group .panel-title a,.panel-group .panel-title a:hover{color:var(--kr-text-primary)!important}body.mobile-mode .modal-backdrop{background-color:rgba(0,0,0,.6)!important}body.mobile-mode .modal-dialog{width:100%!important;max-width:calc(100vw - 20px)!important;margin:10px!important;max-height:calc(100vh - 20px)!important}body.mobile-mode .modal-content{border-radius:8px!important}.navbar-collapse .navbar-nav>li>a,body.mobile-mode .modal-header{padding:15px!important}body.mobile-mode .modal-header h3{font-size:18px!important;margin:0!important}body.mobile-mode .bootbox-close-button,body.mobile-mode .modal-header .close{width:44px!important;height:44px!important;padding:10px!important;font-size:28px!important;line-height:24px!important;opacity:.7!important}body.mobile-mode .modal-body{padding:15px!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch!important}body.mobile-mode .modal-body select{width:100%!important;height:44px!important;font-size:16px!important;padding:10px!important;margin-bottom:15px!important;border-radius:6px!important}body.mobile-mode .modal-body .nav-tabs{display:flex!important;flex-wrap:wrap!important;gap:10px!important;border:0!important;margin-bottom:20px!important}body.mobile-mode .modal-body .nav-tabs>li{flex:1 1 calc(50% - 5px)!important;min-width:0!important;margin:0!important;border:0!important}body.mobile-mode .modal-body .nav-tabs>li>a{display:flex!important;align-items:center!important;justify-content:center!important;min-height:44px!important;padding:12px 10px!important;font-size:15px!important;border:1px solid var(--kr-border-default)!important;border-radius:6px!important;background:var(--kr-bg-secondary)!important;text-align:center!important;overflow-wrap:break-word!important;transition:all .2s ease!important}body.mobile-mode .modal-body .nav-tabs>li.active>a,body.mobile-mode .modal-body .nav-tabs>li>a:focus,body.mobile-mode .modal-body .nav-tabs>li>a:hover{background:var(--kr-primary)!important;color:var(--kr-surface)!important;border-color:var(--kr-primary)!important}body.mobile-mode .modal-body .form-group{margin-bottom:20px!important}body.mobile-mode .modal-body label{font-size:15px!important;font-weight:500!important;margin-bottom:8px!important;display:block!important}body.mobile-mode .modal-body input[type=number],body.mobile-mode .modal-body input[type=text],body.mobile-mode .modal-body textarea{width:100%!important;min-height:44px!important;font-size:16px!important;padding:10px!important;border-radius:6px!important}body.mobile-mode .modal-body textarea{min-height:120px!important;resize:vertical!important}body.mobile-mode .modal-body input[type=checkbox],body.mobile-mode .modal-body input[type=radio]{width:20px!important;height:20px!important;margin-right:10px!important}body.mobile-mode .modal-body .checkbox label,body.mobile-mode .modal-body .radio label{display:flex!important;align-items:center!important;min-height:44px!important;padding:8px 0!important;cursor:pointer!important}body.mobile-mode .modal-body table{font-size:14px!important}body.mobile-mode .modal-body table td,body.mobile-mode .modal-body table th{padding:10px 8px!important}body.mobile-mode .modal-body table th{text-align:center!important}body.mobile-mode .modal-footer{padding:15px!important;display:flex!important;gap:10px!important;border-top:1px solid var(--kr-border-default)!important;background:var(--kr-bg-surface)!important}body.mobile-mode .modal-footer .btn{flex:1!important;min-height:48px!important;max-height:48px!important;font-size:16px!important;font-weight:600!important;border-radius:6px!important;padding:12px 20px!important;box-sizing:border-box!important;line-height:1.2!important}body.mobile-mode .modal-footer .btn-primary{order:2!important}body.mobile-mode .modal-footer .btn-default{order:1!important}body.mobile-mode .modal-body .alert{padding:12px!important;font-size:14px!important;line-height:1.5!important;margin-bottom:15px!important;border-radius:6px!important}body.mobile-mode .modal-header img{max-width:60px!important;max-height:60px!important;border-radius:4px!important}body.mobile-mode .bootbox.modal select[name=top].form-control{min-height:56px!important;font-size:16px!important;padding:12px 16px!important;border-radius:8px!important;border:2px solid var(--kr-border-default)!important;background-color:var(--kr-bg-elevated)!important;transition:border-color .2s ease!important}body.mobile-mode .bootbox.modal select[name=top].form-control:focus,body.mobile-mode .bootbox.modal textarea#message:focus,body.mobile-mode .bootbox.modal textarea.form-control:focus{border-color:var(--kr-primary)!important;outline:0!important;box-shadow:0 0 0 3px rgba(66,153,225,.1)!important}body.mobile-mode .bootbox.modal .row:has(>.col-md-6>select[name=top]),body.mobile-mode .bootbox.modal select[name=top].form-control+br{margin-bottom:16px!important}body.mobile-mode .bootbox.modal h3{display:flex!important;align-items:center!important;gap:12px!important;padding:12px 16px!important;margin:0 0 16px!important;background:var(--kr-bg-surface)!important;border-radius:8px!important;font-size:18px!important;line-height:1.3!important}body.mobile-mode .bootbox.modal h3 img[width="80"]{width:48px!important;height:48px!important;max-width:48px!important;max-height:48px!important;border-radius:6px!important;flex-shrink:0!important;order:-1!important}body.mobile-mode .bootbox.modal h3 .pull-right{float:none!important;order:-1!important;margin:0!important}body.mobile-mode .bootbox.modal h3 .mini.center{display:flex!important;gap:8px!important;margin:0!important;justify-content:flex-start!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu table td a,body.mobile-mode .bootbox.modal h3 .mini.center a{min-width:44px!important;min-height:44px!important;display:inline-flex!important;align-items:center!important;justify-content:center!important}body.mobile-mode .bootbox.modal h3 .btn.btn-xs{min-width:44px!important;min-height:44px!important;padding:8px!important;margin-left:auto!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .panel-heading{display:flex!important;flex-flow:row nowrap!important;overflow:hidden auto!important;-webkit-overflow-scrolling:touch!important;scrollbar-width:none!important;-ms-overflow-style:none!important;border-bottom:2px solid var(--kr-border-default)!important;padding:0!important;margin:0!important;background:var(--kr-bg-surface)!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs::-webkit-scrollbar,body.mobile-mode .bootbox.modal .panel.with-nav-tabs .panel-heading::-webkit-scrollbar{display:none!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs{display:flex!important;flex-wrap:nowrap!important;flex-shrink:0!important;border:0!important;padding:0!important;gap:0!important;margin:0!important;background:0 0!important;position:relative!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li{flex:0 0 auto!important;min-width:88px!important;width:auto!important;height:44px!important;margin:0!important;border:0!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li>a{padding:10px 16px!important;min-height:44px!important;height:44px!important;font-size:14px!important;font-weight:500!important;line-height:1.2!important;white-space:nowrap!important;border-radius:0!important;border:0!important;border-bottom:3px solid transparent!important;background:0 0!important;color:var(--kr-text-secondary)!important;transition:all .2s ease!important;display:flex!important;align-items:center!important;justify-content:center!important;text-align:center!important;margin:0!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a,body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a:focus,body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a:hover{background:var(--kr-bg-elevated)!important;color:var(--kr-primary)!important;border:0!important;border-bottom:3px solid var(--kr-primary)!important;font-weight:600!important;height:44px!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li>a:active{transform:scale(.96)!important;background:var(--kr-bg-active)!important}body.mobile-mode .bootbox.modal .panel-body.panel-order{padding:16px!important}body.mobile-mode .bootbox.modal .merged-columns{padding:12px!important;font-size:14px!important;line-height:1.6!important}body.mobile-mode .bootbox.modal .panel-heading{background:var(--kr-bg-elevated)!important;border-bottom:2px solid var(--kr-border-default)!important;padding:0!important;font-weight:600!important}body.mobile-mode .bootbox.modal .panel-heading .merged-columns{font-size:13px!important;color:var(--kr-text-secondary)!important;text-transform:uppercase!important;letter-spacing:.5px!important}body.mobile-mode .bootbox.modal .panel-footer{background:var(--kr-bg-elevated)!important;border-top:1px solid var(--kr-border-default)!important;padding:0!important;display:flex!important;gap:6px!important;border:0!important}body.mobile-mode .bootbox.modal .panel-footer label{margin:0!important;font-size:14px!important}body.mobile-mode .bootbox.modal .panel-footer select{padding:6px 8px!important;border-radius:6px!important;border:1px solid var(--kr-border-default)!important;font-size:14px!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group{margin:0 0 8px!important;background:var(--kr-bg-elevated)!important;border:2px solid var(--kr-border-default)!important;border-radius:8px!important;min-height:56px!important;transition:all .2s ease!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group:has(input[type=radio]:checked){border-color:var(--kr-primary)!important;background:var(--kr-alert-info-bg)!important;box-shadow:0 0 0 3px rgba(66,153,225,.1)!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group:active{transform:scale(.98)!important;background:var(--kr-bg-active)!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div{padding:0 8px!important;display:flex!important;align-items:center!important;justify-content:center!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div.col-sm-1,body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div.col-sm-7{justify-content:flex-start!important}body.mobile-mode .bootbox.modal .panel-actions input[type=radio]{position:absolute!important;opacity:0!important;width:0!important;height:0!important}body.mobile-mode .bootbox.modal .panel-actions label{cursor:pointer!important;font-weight:400!important;font-size:15px!important;margin:0!important;padding:14px 0!important;display:block!important;width:100%!important}body.mobile-mode .bootbox.modal .panel-actions input[type=radio]:checked+label{font-weight:600!important}body.mobile-mode .bootbox.modal .panel-actions .center{font-size:14px!important;font-weight:600!important}body.mobile-mode .bootbox.modal .btn-toolbar{display:grid!important;grid-template-columns:repeat(6,1fr)!important;gap:4px!important;margin:0 0 16px!important;padding:0!important;width:100%!important;max-width:100%!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn-group{display:contents!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn-group::after,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group::before,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown::after,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown::before,body.mobile-mode .bootbox.modal .btn-toolbar span.dropdown::after,body.mobile-mode .bootbox.modal .btn-toolbar span.dropdown::before,body.mobile-mode .bootbox.modal .btn-toolbar::after,body.mobile-mode .bootbox.modal .btn-toolbar::before{content:none!important;display:none!important;width:0!important;height:0!important;margin:0!important;padding:0!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>.dropdown,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>a.btn,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>button.btn,body.mobile-mode .bootbox.modal .btn-toolbar>.btn{min-width:44px!important;max-width:none!important;width:100%!important;min-height:44px!important;max-height:44px!important;height:44px!important;padding:8px!important;margin:0!important;font-size:18px!important;line-height:1!important;border-radius:4px!important;border-width:1px!important;display:grid!important;place-items:center!important;transition:all .2s ease!important;box-sizing:border-box!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown{display:contents!important;position:relative!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle>.btn{min-width:44px!important;width:100%!important;min-height:44px!important;height:44px!important;margin:0!important;display:flex!important;align-items:center!important;justify-content:center!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle{padding:0!important;border:0!important;background:0 0!important;text-decoration:none!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle>.btn{padding:8px!important;font-size:18px!important;line-height:1!important;border-radius:4px!important;border-width:1px!important;box-sizing:border-box!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>a.btn:active,body.mobile-mode .bootbox.modal .btn-toolbar .btn:active,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle:active,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle>.btn:active{transform:scale(.95)!important;background:var(--kr-bg-active)!important;opacity:.8!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown .dropdown-menu,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu{max-width:90vw!important;max-height:50vh!important;overflow-y:auto!important;padding:12px!important;position:absolute!important;z-index:10000!important;bottom:100%!important;top:auto!important;margin-bottom:4px!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown.open .dropdown-menu,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown:has([aria-expanded=true]) .dropdown-menu{display:block!important}body.mobile-mode .bootbox.modal .modal-body,body.mobile-mode .bootbox.modal .modal-content,body.mobile-mode .bootbox.modal .modal-dialog{transform:none!important;filter:none!important;perspective:none!important;will-change:auto!important;contain:none!important;z-index:auto!important}body.mobile-mode .bootbox.modal .btn-toolbar,body.mobile-mode .bootbox.modal .dropdown,body.mobile-mode .bootbox.modal .modal-footer{transform:none!important;filter:none!important;perspective:none!important;will-change:auto!important;contain:none!important}body.mobile-mode .bootbox.modal .btn-toolbar,body.mobile-mode .bootbox.modal .dropdown{z-index:auto!important}body.mobile-mode .bootbox.modal .modal-body,body.mobile-mode .bootbox.modal .modal-content,body.mobile-mode .bootbox.modal .panel-body{overflow:visible!important}body.mobile-mode .bootbox.modal{z-index:1050!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu table{width:100%!important}body.mobile-mode .bootbox.modal .dropdown-backdrop{z-index:1049!important}body.mobile-mode .bootbox.modal textarea#message,body.mobile-mode .bootbox.modal textarea.form-control{font-size:16px!important;line-height:1.5!important;padding:12px!important;border-radius:8px!important;min-height:120px!important;border:2px solid var(--kr-border-default)!important;transition:border-color .2s ease!important}body.mobile-mode .bootbox.modal #car,body.mobile-mode .bootbox.modal .pull-right:has(#car){font-size:13px!important;font-weight:500!important;color:var(--kr-text-secondary)!important;margin-top:4px!important}body.mobile-mode .bootbox.modal .modal-footer{position:sticky!important;bottom:0!important;display:flex!important;gap:10px!important;padding:12px 16px!important;padding-bottom:max(12px,env(safe-area-inset-bottom))!important;background:var(--kr-bg-surface)!important;border-top:1px solid var(--kr-border-default)!important;box-shadow:0-2px 8px rgba(0,0,0,.08)!important;flex-shrink:0!important;margin:0!important;z-index:100!important}body.mobile-mode .bootbox.modal .modal-footer .btn{margin:0!important;min-height:50px!important;font-size:16px!important;font-weight:600!important;border-radius:8px!important;transition:all .2s ease!important;border:0!important}body.mobile-mode .bootbox.modal .modal-footer .btn-default{flex:1!important;order:1!important}body.mobile-mode .bootbox.modal .modal-footer .btn-primary{flex:2!important;order:2!important;min-height:52px!important}body.mobile-mode .bootbox.modal .modal-footer .btn:active{transform:scale(.97)!important}body.mobile-mode #kr-tamper-theme-form .form-group{margin-bottom:20px}body.mobile-mode #kr-tamper-theme-form .form-group>div[style*=padding-left]{display:grid!important;grid-template-columns:1fr!important;gap:12px!important;padding:0!important}body.mobile-mode #kr-tamper-theme-form .form-group>div>div{display:flex!important;flex-direction:column!important;align-items:flex-start!important;gap:8px!important;padding:12px!important;background:rgba(255,255,255,.05)!important;border-radius:8px!important;border:1px solid rgba(255,255,255,.1)!important}body.mobile-mode #kr-tamper-theme-form .form-group .lefticon,body.mobile-mode .panel-default .table>thead{display:none!important}body.mobile-mode #kr-tamper-theme-form .form-group img{width:100%!important;height:auto!important;display:block!important;border-radius:4px!important;margin:0!important}body.mobile-mode #kr-tamper-theme-form .form-group label{display:flex!important;align-items:center!important;gap:8px!important;width:100%!important;margin:0!important;cursor:pointer!important;font-size:14px!important;line-height:1.4!important}body.mobile-mode #kr-tamper-theme-form .form-group input[type=checkbox],body.mobile-mode #kr-tamper-theme-form .form-group input[type=radio]{position:static!important;flex-shrink:0!important;margin:0!important;width:20px!important;height:20px!important}body.mobile-mode #kr-tamper-theme-form .form-group>label.control-label{font-size:16px!important;font-weight:600!important;margin-bottom:12px!important;display:block!important;width:100%!important}body.mobile-mode .panel-default{background:0 0!important;border:0!important;box-shadow:none!important}body.mobile-mode .panel-default>.panel-heading{background:var(--kr-bg-surface)!important;border:0!important;border-radius:var(--mobile-radius)!important;padding:var(--mobile-spacing-lg)!important;margin-bottom:var(--mobile-spacing-md)!important;align-items:center!important}body.mobile-mode .panel-default>.panel-heading h3{font-size:20px!important;font-weight:700!important;margin:0!important;color:var(--kr-text-primary)!important}body.mobile-mode .panel-default .table>tbody{display:flex!important;flex-direction:column!important;gap:4px!important}body.mobile-mode .panel-default .table>tbody>tr{display:grid!important;grid-template-columns:1fr!important;grid-template-rows:auto!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:8px!important;padding:6px!important;box-shadow:var(--kr-shadow-sm)!important;transition:all var(--transition-fast)!important;position:relative!important;min-height:auto!important}body.mobile-mode .panel-default .table>tbody>tr:active{background:var(--kr-bg-hover)!important;transform:scale(.98)!important}body.mobile-mode .panel-default .table>tbody>tr>td{display:block!important;border:0!important;padding:0!important;width:100%!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child{display:flex!important;flex-direction:column!important;grid-row:1!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2),body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3){grid-row:2!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4){grid-row:4!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child{order:1!important;margin:0!important;font-size:0!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child>a{font-size:15px!important;font-weight:700!important;color:var(--kr-text-primary)!important;text-decoration:none!important;line-height:1.1!important;display:block!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child>a:active{color:var(--kr-primary)!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum{order:2!important;margin:0!important;font-size:11px!important;color:var(--kr-text-secondary)!important;line-height:1.2!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum>.lefticon{display:none!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum a{color:var(--kr-text-secondary)!important;text-decoration:none!important;font-weight:500!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-description-wrapper>p,body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:nth-child(2){order:999!important;font-size:12px!important;color:var(--kr-text-secondary)!important;line-height:1.2!important;margin:0!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-description-wrapper{margin:0 0 6px!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2),body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3){display:inline!important;font-size:11px!important;color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;padding:0!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper{margin:0 0 2px!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td:first-child::after,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2)::after{content:" sujets · "!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td:nth-child(2)::after,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3)::after{content:" messages"!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4){order:5!important;padding-top:3px!important;border-top:1px solid var(--kr-border-default)!important;margin-top:0!important;font-size:11px!important;color:var(--kr-text-secondary)!important;display:block!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child::before,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)::before{content:"→ "!important;color:var(--kr-text-secondary)!important;font-weight:400!important;margin-right:4px!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a{font-size:12px!important;font-weight:500!important;color:var(--kr-text-primary)!important;text-decoration:none!important;display:inline!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a:active,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a::after,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a::after{content:" · "!important;color:var(--kr-text-muted)!important;font-weight:400!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p{display:inline!important;margin:0!important;font-size:13px!important;color:var(--kr-text-secondary)!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a{color:var(--kr-text-secondary)!important;text-decoration:none!important;display:inline-flex!important;align-items:center!important;background:0 0!important;border:0!important;padding:0!important;box-shadow:none!important;min-width:20px!important;min-height:20px!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a:active,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a:active{color:var(--kr-primary)!important}body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a .glyphicon,body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a .glyphicon{display:inline-block!important;width:20px!important;height:20px!important;font-size:14px!important;line-height:20px!important;vertical-align:middle!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4) img{vertical-align:middle!important;margin:0 2px!important;max-height:16px!important}.navbar-collapse .dropdown.open>.dropdown-menu{display:block!important;position:static!important;float:none!important;width:100%!important;margin:0!important;padding:0!important;border:0!important;box-shadow:none!important;background-color:transparent!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a{display:block!important;padding:10px 15px 10px 25px!important;clear:both!important;font-weight:400!important;line-height:1.4286!important;color:var(--kr-text-primary)!important;white-space:nowrap!important;background-color:transparent!important;border-left:4px solid transparent!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a:focus,.navbar-collapse .dropdown.open>.dropdown-menu>li>a:hover{color:var(--kr-text-primary)!important;background-color:rgba(0,0,0,.05)!important;border-left-color:var(--kr-primary)!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a:active{color:var(--kr-primary)!important;background-color:rgba(0,0,0,.08)!important;border-left-color:var(--kr-primary)!important}.navbar-collapse .dropdown.open>.dropdown-menu>.divider{height:1px!important;margin:9px 0!important;background-color:var(--kr-border-default)!important}.navbar-collapse .dropdown.open>.dropdown-menu>.dropdown-header{display:block!important;padding:3px 15px 3px 25px!important;font-size:12px!important;line-height:1.4286!important;color:var(--kr-text-muted)!important;white-space:nowrap!important;text-transform:uppercase!important;font-weight:600!important}.navbar-collapse .dropdown.open>.dropdown-menu>.active>a,.navbar-collapse .dropdown.open>.dropdown-menu>.active>a:focus,.navbar-collapse .dropdown.open>.dropdown-menu>.active>a:hover{color:var(--kr-primary)!important;background-color:rgba(0,0,0,.1)!important;border-left-color:var(--kr-primary)!important}.navbar-collapse .dropdown>a.dropdown-toggle .caret{border-top-color:currentcolor!important;border-bottom-color:transparent!important}.navbar-collapse .dropdown.open>a.dropdown-toggle .caret{border-top-color:transparent!important;border-bottom-color:currentcolor!important;transform:rotate(180deg)!important}}.forums-cards-container{display:none;padding:12px 8px;background:var(--kr-bg-page)}.mobile-mode .forums-cards-container{display:block}.forum-card{background:var(--kr-bg-surface);border-radius:12px;margin:0 12px 12px;transition:background .2s ease;overflow:hidden;border:1px solid var(--kr-border-default)}.forum-card *,.forum-card-header *,.forum-card-link *,.forum-footer *{text-align:left!important}.forum-card:active{background:var(--kr-bg-hover)}.forum-card-link{display:flex!important;flex-direction:column!important;align-items:flex-start!important;justify-content:flex-start!important;padding:16px;text-decoration:none;color:inherit;min-height:100px;-webkit-tap-highlight-color:rgba(139,15,14,.05)}.forum-card-link:focus,.forum-card-link:hover{text-decoration:none;color:inherit}.forum-card-header{margin-bottom:8px;text-align:left}.forum-title{font-size:18px;font-weight:700;color:var(--kr-text-primary);line-height:1.3;margin:0;padding:0;text-align:left!important}.forum-description{font-size:14px;color:var(--kr-text-secondary);line-height:1.5;margin:0 0 8px;text-align:left!important;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.forum-moderators{font-size:12px;color:var(--kr-text-muted);margin:0 0 10px;font-style:normal;font-weight:400;text-align:left!important}.forum-footer{border-top:1px solid var(--kr-border-default);padding-top:10px;margin-top:auto;text-align:left!important}.forum-stats{font-size:13px;color:var(--kr-text-muted);margin-bottom:6px;white-space:nowrap;text-align:left!important}.forum-messages,.forum-topics{font-weight:600;color:var(--kr-text-secondary)}.forum-separator{margin:0 4px;color:var(--kr-text-muted)}.forum-last-activity{font-size:13px;color:var(--kr-text-secondary);line-height:1.5;text-align:left!important}.last-user{font-weight:600;color:var(--kr-text-primary)}.last-time{color:var(--kr-text-muted);font-size:12px}.forum-card:has(.forum-topics:empty){opacity:.6}.forum-card-link:focus{outline:2px solid #2196f3;outline-offset:2px}.mini-chat-fab{position:fixed;bottom:80px;right:16px;width:56px;height:56px;background:#2196f3;color:#fff;border:0;border-radius:50%;box-shadow:0 4px 12px rgba(0,0,0,.3);z-index:1000;cursor:pointer;font-size:14px;font-weight:700;transition:all .3s ease}.mini-chat-fab:active{transform:scale(.95);box-shadow:0 2px 8px rgba(0,0,0,.3)}.mini-chat-fab.active{background:#f44336}.mini-chat-fab .fab-text{display:block;line-height:1}.mobile-mode .mini-chat-overlay{position:fixed!important;inset:56px 0 0!important;width:100%!important;height:auto!important;z-index:999!important;background:#fff}@media (min-width:768px) and (max-width:1024px) and (orientation:portrait){.forum-card{margin:12px 24px}.forum-card-link{padding:20px}}@media (min-width:768px){.forums-cards-container{display:none!important}table[data-mobile-hidden=true]{display:table!important}.mini-chat-fab{display:none}}@media (max-width:767px){.dataTables_wrapper{padding:0!important}.dataTables_filter,.dataTables_length{display:block!important;width:100%!important;margin:0 0 var(--mobile-spacing-md)!important;text-align:left!important;float:none!important}.dataTables_filter label,.dataTables_length label{display:flex!important;align-items:center!important;gap:8px!important;font-size:14px!important;margin:0!important}.dataTables_filter input,.dataTables_length select{min-height:var(--mobile-touch-target)!important;font-size:16px!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;background-color:var(--kr-bg-surface)!important}.dataTables_length select{padding:10px 32px 10px 12px!important;flex:0 0 auto!important;min-width:80px!important}.dataTables_filter label{width:100%!important}.dataTables_filter input{flex:1!important;padding:10px 16px!important;width:100%!important}.dataTables_filter input:focus,.dataTables_length select:focus{outline:2px solid var(--kr-primary)!important;outline-offset:2px!important;border-color:var(--kr-primary)!important}body.page-forum .panel-default{background:0 0!important;border:0!important;box-shadow:none!important}body.page-forum .panel-default>.panel-heading{background:0 0!important;border:0!important;border-bottom:1px solid var(--kr-border-default)!important;border-radius:0!important;padding:12px 16px!important;margin-bottom:0!important;align-items:center!important}body.page-forum .panel-default>.panel-body{padding:0!important}body.page-forum .panel-default>.panel-heading h3{font-size:16px!important;font-weight:600!important;margin:0!important;color:var(--kr-primary)!important}body.page-forum .panel-default .table>thead,body.page-forum table.dataTable thead,body.page-kramail #topics thead,body.page-kramail #topics_wrapper .dataTables_length{display:none!important}body.page-forum .panel-default .table>tbody{display:flex!important;flex-direction:column!important;gap:8px!important}body.page-forum .panel-default .table>tbody>tr{display:grid!important;grid-template-columns:1fr!important;grid-template-rows:auto!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:12px!important;padding:12px!important;transition:background var(--transition-fast)!important;position:relative!important;min-height:auto!important}body.page-forum .panel-default .table>tbody>tr:active,body.page-forum table.dataTable tbody tr:active,body.page-kramail #topics tbody tr:active{background:var(--kr-bg-hover)!important}body.page-forum .panel-default .table>tbody>tr>td{display:block!important;border:0!important;padding:0!important;width:100%!important}body.page-forum .panel-default .table>tbody>tr>td:first-child{display:flex!important;flex-direction:column!important;grid-row:1!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(2),body.page-forum .panel-default .table>tbody>tr>td:nth-child(3){grid-row:2!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4){grid-row:4!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child{order:1!important;margin:0!important;font-size:0!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child>a{font-size:15px!important;font-weight:700!important;color:var(--kr-text-primary)!important;text-decoration:none!important;line-height:1.1!important;display:block!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child>a:active{color:var(--kr-primary)!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum{order:2!important;margin:0!important;font-size:11px!important;color:var(--kr-text-secondary)!important;line-height:1.2!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum>.lefticon{display:none!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum a{color:var(--kr-text-secondary)!important;text-decoration:none!important;font-weight:500!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.page-forum .panel-default .table>tbody>tr>.forum-description-wrapper>p,body.page-forum .panel-default .table>tbody>tr>td:first-child>p:nth-child(2){order:999!important;font-size:12px!important;color:var(--kr-text-secondary)!important;line-height:1.2!important;margin:0!important}body.page-forum .panel-default .table>tbody>tr>.forum-description-wrapper{margin:0 0 6px!important}body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td,body.page-forum .panel-default .table>tbody>tr>td:nth-child(2),body.page-forum .panel-default .table>tbody>tr>td:nth-child(3){display:inline!important;font-size:11px!important;color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;padding:0!important}body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper{margin:0 0 2px!important}body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td:first-child::after,body.page-forum .panel-default .table>tbody>tr>td:nth-child(2)::after{content:" sujets · "!important}body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td:nth-child(2)::after,body.page-forum .panel-default .table>tbody>tr>td:nth-child(3)::after{content:" messages"!important}body.page-forum .panel-default .table>tbody>tr>td:last-child,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4){order:5!important;padding-top:3px!important;border-top:1px solid var(--kr-border-default)!important;margin-top:0!important;font-size:11px!important;color:var(--kr-text-secondary)!important;display:block!important}body.page-forum .panel-default .table>tbody>tr>td:last-child::before,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)::before{content:"→ "!important;color:var(--kr-text-secondary)!important;font-weight:400!important;margin-right:4px!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>a,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a{font-size:12px!important;font-weight:500!important;color:var(--kr-text-primary)!important;text-decoration:none!important;display:inline!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>a:active,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>a::after,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a::after{content:" · "!important;color:var(--kr-text-muted)!important;font-weight:400!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>p,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p{display:inline!important;margin:0!important;font-size:13px!important;color:var(--kr-text-secondary)!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a{color:var(--kr-text-secondary)!important;text-decoration:none!important;display:inline-flex!important;align-items:center!important;background:0 0!important;border:0!important;padding:0!important;box-shadow:none!important;min-width:20px!important;min-height:20px!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a:active,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a:active{color:var(--kr-primary)!important}body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a .glyphicon,body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a .glyphicon{display:inline-block!important;width:20px!important;height:20px!important;font-size:14px!important;line-height:20px!important;vertical-align:middle!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4) img{vertical-align:middle!important;margin:0 2px!important;max-height:16px!important}body.page-forum table.dataTable tbody{display:flex!important;flex-direction:column!important;gap:var(--mobile-spacing-md)!important}body.page-forum table.dataTable tbody tr{display:flex!important;flex-direction:column!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:12px!important;padding:12px!important;margin:0!important;overflow:hidden!important;transition:background var(--transition-fast)!important;cursor:pointer!important}body.page-forum table.dataTable tbody td:nth-child(2),body.page-forum table.dataTable tbody td:nth-child(3),body.page-forum table.dataTable tbody td:nth-child(4),body.page-forum table.dataTable tbody td:nth-child(5){display:none!important}body.page-forum table.dataTable tbody td:nth-child(1){display:flex!important;flex-direction:column!important;padding:0!important;min-height:var(--mobile-touch-target)!important;gap:var(--mobile-spacing-sm)!important}body.page-forum table.dataTable tbody td:nth-child(1) p{margin:0 0 4px!important;padding:0!important;display:flex!important;align-items:flex-start!important;gap:8px!important}body.page-forum table.dataTable tbody td:nth-child(1) p a{flex:1!important;font-size:15px!important;font-weight:600!important;line-height:1.4!important;color:var(--kr-text-primary)!important;text-decoration:none!important;display:block!important}body.page-forum table.dataTable tbody td:nth-child(1) p a:active{color:var(--kr-primary)!important}body.page-forum table.dataTable tbody td:nth-child(1)>ul:first-of-type{display:none!important}body.page-forum table.dataTable tbody td:nth-child(1)>ul:nth-of-type(2){display:none!important}body.page-forum table.dataTable tbody td:nth-child(1) .forum-tags{display:flex!important;flex-wrap:wrap!important;gap:3px!important;margin-top:6px!important}body.page-forum table.dataTable tbody td:nth-child(1) .forum-tags .glyphicon{color:var(--kr-text-muted)!important;font-size:8px!important}body.page-forum table.dataTable tbody td:nth-child(1) .forum-tags a{display:inline-flex!important;align-items:center!important;padding:1px 4px!important;font-size:9px!important;color:var(--kr-text-secondary)!important;background:var(--kr-bg-hover)!important;border-radius:2px!important;text-decoration:none!important;transition:all var(--transition-fast)!important}body.page-forum table.dataTable tbody td:nth-child(1) .forum-tags a:active,body.page-forum table.dataTable tbody td:nth-child(5):active{background:var(--kr-bg-active)!important}.forum-topic-stats-mobile{display:flex!important;align-items:center!important;gap:4px!important;margin-top:4px!important;font-size:13px!important;color:var(--kr-text-secondary)!important}.forum-topic-stats-mobile i{font-size:12px!important}.forum-topic-stats-mobile .stats-sep{margin:0 4px!important;color:var(--kr-text-muted)!important}body.page-forum table.dataTable tbody td:nth-child(5) a:first-child{font-size:14px!important;font-weight:600!important;color:var(--kr-text-primary)!important;text-decoration:none!important;display:inline-flex!important;align-items:center!important;gap:4px!important}body.page-forum table.dataTable tbody td:nth-child(5) a:first-child img{width:16px!important;height:16px!important;vertical-align:middle!important}body.page-forum table.dataTable tbody td:nth-child(5) p{font-size:13px!important;color:var(--kr-text-muted)!important;margin:0!important;display:flex!important;align-items:center!important;gap:6px!important}body.page-forum table.dataTable tbody td:nth-child(5) p a .glyphicon{font-size:12px!important;color:var(--kr-primary)!important}.dataTables_paginate{display:flex!important;justify-content:center!important;gap:var(--mobile-spacing-sm)!important;margin-top:var(--mobile-spacing-lg)!important;padding:0!important}.dataTables_paginate .paginate_button{min-height:var(--mobile-touch-target)!important;min-width:var(--mobile-touch-target)!important;padding:10px 16px!important;font-size:16px!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;background:var(--kr-bg-surface)!important;color:var(--kr-text-primary)!important;text-decoration:none!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;transition:all var(--transition-fast)!important}.dataTables_paginate .paginate_button.current{background:var(--kr-primary)!important;color:#fff!important;border-color:var(--kr-primary)!important;font-weight:600!important}.dataTables_paginate .paginate_button.disabled{opacity:.4!important;cursor:not-allowed!important;pointer-events:none!important}.dataTables_paginate .paginate_button:not(.disabled):not(.current):active{background:var(--kr-bg-active)!important;transform:scale(.95)!important}.dataTables_info{text-align:center!important;font-size:14px!important;color:var(--kr-text-secondary)!important;margin-top:var(--mobile-spacing-md)!important;padding:0 var(--mobile-spacing-md)!important}html[class*=-dark] table.dataTable tbody tr{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}html[class*=-dark] table.dataTable tbody td:nth-child(1){border-bottom-color:var(--kr-border-default)!important}html[class*=-dark] table.dataTable tbody td:nth-child(5){background:rgba(255,255,255,.03)!important}html[class*=-dark] .dataTables_filter input,html[class*=-dark] .dataTables_length select,html[class*=-dark] .dataTables_paginate .paginate_button{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}body.page-kramail h1.page-header{display:flex!important;flex-direction:column!important;align-items:stretch!important;gap:12px!important;padding:12px 16px!important;margin:0!important;border-bottom:none!important}body.page-kramail h1.page-header .pull-right{float:none!important;display:flex!important;flex-wrap:wrap!important;align-items:center!important;gap:8px!important;width:100%!important}body.page-kramail h1.page-header .pull-right>.btn-group>.btn,body.page-kramail h1.page-header .pull-right>a.btn{width:44px!important;height:44px!important;display:flex!important;align-items:center!important;justify-content:center!important;padding:0!important;margin:0!important;font-size:0!important;line-height:0!important;box-sizing:border-box!important;border-radius:10px!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;color:var(--kr-text-primary)!important;text-decoration:none!important;transition:all var(--transition-fast)!important}body.page-kramail h1.page-header .pull-right>.btn-group>.btn>i,body.page-kramail h1.page-header .pull-right>a.btn>i{font-size:18px!important;line-height:1!important}body.page-kramail h1.page-header .pull-right>a.btn.btn-primary{background:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:#fff!important}body.page-kramail h1.page-header .pull-right>.btn-group>.btn:active,body.page-kramail h1.page-header .pull-right>a.btn:active{transform:scale(.97)!important;opacity:.9!important}body.page-kramail h1.page-header .pull-right>.btn-group{position:relative!important;width:44px!important;height:44px!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu{min-width:260px!important;right:0!important;left:auto!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:10px!important;padding:8px 0!important;box-shadow:0 4px 16px rgba(0,0,0,.4)!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a{display:flex!important;align-items:center!important;gap:8px!important;padding:12px 16px!important;min-height:44px!important;font-size:15px!important;color:var(--kr-text-primary)!important;white-space:nowrap!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a:active{background:rgba(255,255,255,.08)!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a .label-simple{font-size:15px!important;color:var(--kr-text-primary)!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a input[type=checkbox]{width:18px!important;height:18px!important}body.page-kramail .panel.panel-default{border:0!important;box-shadow:none!important;margin:0!important;background:0 0!important}body.page-kramail .panel-heading{padding:12px 16px!important;background:0 0!important;border-bottom:1px solid var(--kr-border-default)!important}body.page-kramail .panel-heading h3.panel-title{font-size:16px!important;font-weight:600!important;color:var(--kr-primary)!important}body.page-kramail .panel-heading .glyphicon-chevron-up{float:right!important;color:var(--kr-text-secondary)!important}body.page-kramail .panel-body{padding:0!important}body.page-kramail #topics_wrapper .dataTables_filter{padding:12px 16px!important;text-align:left!important;width:100%!important}body.page-kramail #topics_wrapper .dataTables_filter label{display:flex!important;align-items:center!important;gap:8px!important;width:100%!important;margin:0!important;font-size:14px!important;color:var(--kr-text-secondary)!important}body.page-kramail #topics_wrapper .dataTables_filter input,body.page-kramail #topics_wrapper .dataTables_filter input[type=search]{flex:1!important;height:44px!important;padding:0 16px!important;font-size:16px!important;border-radius:22px!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;color:var(--kr-text-primary)!important;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)!important;-webkit-appearance:none!important}body.page-kramail #topics_wrapper .dataTables_filter input:focus{outline:0!important;border-color:var(--kr-primary)!important;box-shadow:0 0 0 3px rgba(212,134,62,.15)!important}body.page-kramail #topics_wrapper .dataTables_info{padding:8px 16px!important;font-size:13px!important;color:var(--kr-text-muted)!important;text-align:center!important}body.page-kramail #topics_wrapper .dataTables_paginate{padding:8px 16px 16px!important;text-align:center!important}body.page-kramail #topics_wrapper .dataTables_paginate .paginate_button{min-height:44px!important;min-width:44px!important;padding:10px 14px!important;margin:0 4px!important;border-radius:8px!important;font-size:14px!important}body.page-kramail #topics{display:block!important;width:100%!important;border-collapse:separate!important}body.page-kramail #topics tbody{display:flex!important;flex-direction:column!important;gap:8px!important;padding:8px 16px!important}body.page-kramail #topics tbody tr{display:grid!important;grid-template-columns:36px 1fr!important;grid-template-rows:auto auto!important;gap:4px 10px!important;padding:12px!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:12px!important;cursor:pointer!important;transition:background var(--transition-fast)!important;min-height:56px!important;position:relative!important}body.page-kramail #topics tbody td:first-child{grid-row:1/-1!important;grid-column:1!important;display:flex!important;align-items:center!important;justify-content:center!important;padding:0!important;width:auto!important;border:0!important}body.page-kramail #topics tbody td:first-child input[type=checkbox]{width:20px!important;height:20px!important;cursor:pointer!important;accent-color:var(--kr-primary)!important}body.page-kramail #topics tbody td:nth-child(2){grid-column:2!important;grid-row:1!important;display:block!important;padding:0!important;border:0!important;overflow:hidden!important}body.page-kramail #topics tbody td:nth-child(2) p.nomargin{margin:0!important;padding:0!important}body.page-kramail #topics tbody td:nth-child(2) span[id^=ajax-m]{display:flex!important;align-items:center!important;gap:8px!important;overflow:hidden!important}body.page-kramail #topics tbody td:nth-child(2) a:first-child i.fa,body.page-kramail #topics tbody td:nth-child(2) a:first-child i.far,body.page-kramail #topics tbody td:nth-child(2) a:first-child i.fas{font-size:16px!important;color:var(--kr-text-secondary)!important;flex-shrink:0!important}body.page-kramail #topics tbody td:nth-child(2) span[id^=ajax-m]>a:first-child{flex-shrink:0!important;display:flex!important;align-items:center!important;padding:0!important;min-height:0!important}body.page-kramail #topics tbody td:nth-child(2) a:last-of-type{font-size:15px!important;font-weight:500!important;color:var(--kr-text-primary)!important;text-decoration:none!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;line-height:1.3!important;display:block!important;padding:0!important;min-height:0!important;flex:1!important;min-width:0!important}body.page-kramail #topics tbody td:nth-child(2) span.invisible,body.page-kramail #topics tbody td:nth-child(4) span.invisible{display:none!important}body.page-kramail #topics tbody td:nth-child(3){grid-column:2!important;grid-row:2!important;display:inline!important;padding:0!important;border:0!important;font-size:13px!important;color:var(--kr-text-secondary)!important}body.page-kramail #topics tbody td:nth-child(3) a{color:var(--kr-text-secondary)!important;text-decoration:none!important;font-size:13px!important}body.page-kramail #topics tbody td:nth-child(4){position:absolute!important;right:12px!important;bottom:12px!important;display:block!important;padding:0!important;border:0!important;font-size:12px!important;color:var(--kr-text-muted)!important;text-align:right!important}body.page-kramail #topics_wrapper .btn-group{display:flex!important;gap:4px!important;padding:8px 16px!important}body.page-kramail #topics_wrapper .btn-group .btn{min-height:44px!important;min-width:44px!important;padding:10px!important;font-size:14px!important;border-radius:8px!important}.kramail-character-selector{position:relative!important;display:inline-flex!important;align-items:center!important;gap:8px!important;cursor:pointer!important;user-select:none!important;padding:8px 12px!important;margin:-8px -12px!important;border-radius:var(--mobile-radius)!important;transition:background var(--transition-fast)!important}.kramail-character-selector:active{background:var(--kr-bg-active)!important}.kramail-dropdown-icon{font-size:12px!important;transition:transform var(--transition-fast)!important;color:var(--kr-text-secondary)!important}.kramail-character-dropdown{position:absolute!important;top:100%!important;left:0!important;right:auto!important;min-width:calc(100vw - 48px)!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;box-shadow:var(--kr-shadow-lg)!important;margin-top:8px!important;z-index:1000!important;overflow:hidden!important;max-height:70vh!important;overflow-y:auto!important;display:none;flex-direction:column!important}.kramail-character-dropdown[style*="display: block"],.kramail-character-dropdown[style*="display:block"]{display:flex!important}.kramail-character-option{display:flex!important;flex-direction:column!important;align-items:center!important;text-align:center!important;padding:12px 16px!important;min-height:var(--mobile-touch-target)!important;text-decoration:none!important;color:var(--kr-text-primary)!important;border-bottom:1px solid var(--kr-border-default)!important;transition:background var(--transition-fast)!important}.kramail-character-option>div:first-child{justify-content:center!important;width:100%!important}.kramail-character-option>div:last-child{text-align:center!important}.kramail-character-option:last-child{border-bottom:none!important}.kramail-character-option:active{background:var(--kr-bg-active)!important}html[class*=-dark] .kramail-character-dropdown{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}html[class*=-dark] .kramail-character-option{color:var(--kr-text-primary)!important;border-bottom-color:var(--kr-border-default)!important}.forum-top:has(.kramail-actions-moved){display:none!important}body.mobile-mode ul.media-list.forum>li.media.well.kramail-post-restructured{display:flex!important;flex-direction:column!important;padding:0!important;margin:0 16px 16px!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:12px!important;overflow:hidden!important;list-style:none!important}body.mobile-mode li.kramail-post-restructured>.media-body,body.mobile-mode li.kramail-post-restructured>.pull-left{display:none!important}.kramail-msg-header{display:flex!important;align-items:center!important;gap:12px!important;padding:12px 16px!important;border-bottom:1px solid var(--kr-border-default)!important}.kramail-msg-header .kramail-msg-avatar{width:48px!important;height:48px!important;border-radius:8px!important;object-fit:cover!important;flex-shrink:0!important}.kramail-msg-header-info{flex:1!important;min-width:0!important}.kramail-msg-sender{font-size:15px!important;font-weight:600!important;color:var(--kr-text-primary)!important;margin-bottom:2px!important}.kramail-msg-sender a{color:inherit!important;text-decoration:none!important}.kramail-msg-date{font-size:12px!important;color:var(--kr-text-muted)!important;display:flex!important;align-items:center!important;gap:4px!important}.kramail-msg-date i{font-size:11px!important}.kramail-msg-recipients{padding:8px 16px!important;font-size:13px!important;color:var(--kr-text-secondary)!important;border-bottom:1px solid var(--kr-border-default)!important;line-height:1.5!important}.kramail-msg-recipients strong{color:var(--kr-text-muted)!important;font-weight:500!important}.kramail-msg-recipients a{color:var(--kr-primary)!important;text-decoration:none!important}.kramail-msg-body{padding:16px!important;font-size:15px!important;line-height:1.6!important;color:var(--kr-text-primary)!important;word-wrap:break-word!important;overflow-wrap:break-word!important}.kramail-msg-body .blockquote,.kramail-msg-body .quote,.kramail-msg-body blockquote{margin:12px 0!important;padding:12px 16px!important;border-left:3px solid var(--kr-primary)!important;border-right:none!important;border-top:none!important;border-bottom:none!important;background:rgba(255,255,255,.03)!important;border-radius:0 8px 8px 0!important;font-size:14px!important;color:var(--kr-text-secondary)!important;line-height:1.5!important}.kramail-msg-body blockquote .fa-quote-left,.kramail-msg-body blockquote .text-warning{color:var(--kr-primary)!important;opacity:.6!important;margin-right:6px!important;font-size:12px!important}.kramail-msg-signature{margin-top:16px!important;padding-top:12px!important;border-top:1px solid var(--kr-border-default)!important;font-size:13px!important;color:var(--kr-text-muted)!important;line-height:1.5!important}.kramail-msg-signature img.icon{max-height:18px!important;vertical-align:middle!important}body.mobile-mode .center:has(>ul.pagination){padding:8px 16px 16px!important}body.mobile-mode .center>ul.pagination.t{display:flex!important;justify-content:center!important;gap:8px!important;padding:0!important;margin:0!important;list-style:none!important}body.mobile-mode .center>ul.pagination.t>li{list-style:none!important}body.mobile-mode .center>ul.pagination.t>li>a{display:flex!important;align-items:center!important;justify-content:center!important;width:44px!important;height:44px!important;border-radius:10px!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;color:var(--kr-text-primary)!important;text-decoration:none!important;font-size:16px!important;transition:all .15s!important}body.mobile-mode .center>ul.pagination.t>li>a:active{transform:scale(.97)!important;background:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:#fff!important}ul.media-list.forum>li.media.forum-post-restructured{display:block!important;padding:12px 8px!important;margin-bottom:24px!important;list-style:none!important;border-bottom:1px solid rgba(255,255,255,.1)!important}ul.media-list.forum>li.media .forum-header{margin-bottom:12px!important;display:flex!important;flex-wrap:nowrap!important}ul.media-list.forum>li.media .forum-content-row,ul.media-list.forum>li.media .forum-header{margin-left:0!important;margin-right:0!important}.forum-user-section{padding:0 8px!important;display:flex!important;flex-direction:column!important;align-items:center!important;text-align:center!important}.forum-user-section .user-info img:first-child,.forum-user-section img.avatar{max-width:80px!important;height:auto!important;border-radius:4px!important;margin-bottom:8px!important}.forum-user-section .cartouche strong,.forum-user-section [data-kr-rank-title] strong,.forum-user-section strong a{white-space:normal!important;word-wrap:break-word!important;overflow-wrap:break-word!important;hyphens:auto!important;overflow:visible!important;text-overflow:clip!important}.forum-user-section .cartouche strong,.forum-user-section strong a{font-size:13px!important;line-height:1.2!important;display:block!important;max-width:100%!important;min-height:0!important}.forum-user-section [data-kr-rank-title]{display:inline-flex!important;align-items:center!important;justify-content:center!important;gap:4px!important;flex-wrap:nowrap!important;margin-top:4px!important;max-width:100%!important}.forum-user-section [data-kr-rank-title] img{flex-shrink:0!important;margin:0!important;max-width:24px!important;max-height:24px!important}.forum-user-section [data-kr-rank-title] strong{font-size:10px!important;color:#bbb!important;font-weight:400!important;max-width:none!important;line-height:1.3!important;text-align:center!important;flex:1 1 auto!important;min-width:0!important}.forum-user-section .post-date-mobile{font-size:11px!important;color:#999!important;margin-top:4px!important;text-align:center!important}.forum-user-section strong:not(.cartouche strong):not([data-kr-rank-title] strong){font-size:10px!important;color:#bbb!important;font-weight:400!important;margin-top:4px!important;white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important;max-width:100%!important}.forum-actions-section{padding:0 8px!important;display:flex!important;flex-direction:column!important;align-items:flex-end!important;gap:8px!important}.forum-actions-section .pull-right{float:none!important;display:flex!important;flex-direction:row!important;flex-wrap:wrap!important;justify-content:center!important;align-items:center!important;gap:8px!important;width:100%!important}.forum-actions-section .btn-group{display:inline-flex!important;flex-direction:row!important;gap:0!important;flex-wrap:nowrap!important}.forum-actions-section .btn{width:44px!important;height:44px!important;min-width:44px!important;max-width:44px!important;padding:0!important;margin:0!important;font-size:14px!important;line-height:44px!important;border:0!important;border-radius:0!important;display:inline-flex!important;align-items:center!important;justify-content:center!important}.forum-actions-section .btn-group-xs .btn,.forum-actions-section .btn-group-xs>.btn{min-width:44px!important}.forum-actions-section .btn i{font-size:11px!important;line-height:24px!important}.forum-content-row{margin-top:0!important}.forum-content-section{padding:12px 8px!important;border-top:1px dashed rgba(255,255,255,.15)!important;font-size:15px!important;line-height:1.6!important;width:100%!important}.forum-content-section .forum-msg,.forum-content-section>div{width:100%!important;padding:0!important;margin:0!important}.forum-content-section blockquote{margin:8px 0!important;padding:8px 12px!important;border-left:3px solid rgba(255,255,255,.2)!important;font-size:14px!important}.forum-content-section img{max-width:100%!important;height:auto!important}.forum-content-section .spoiler{margin:8px 0!important}.forum-content-section .signature,.forum-content-section hr{margin-top:16px!important;padding-top:16px!important;border-top:1px solid rgba(255,255,255,.1)!important;font-size:12px!important;color:#999!important}}@media (max-width:768px){.container,.container-fluid{padding-left:12px!important;padding-right:12px!important}.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:none!important;width:100%!important;margin-left:0!important;margin-right:0!important;padding-left:0!important;padding-right:0!important}.form-group{margin-left:0!important;margin-right:0!important;padding-left:12px!important;padding-right:12px!important}.input-group{display:block!important;width:100%!important}.form-group{width:100%}.form-group,.form-group .col-md-10,.form-group .col-sm-10{overflow:hidden}.btn-toolbar{display:flex!important;flex-wrap:nowrap;overflow-x:auto;overflow-y:hidden;gap:4px;padding:8px;margin-bottom:var(--mobile-spacing-md);background:rgba(0,0,0,.02);border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);-webkit-overflow-scrolling:touch;white-space:nowrap}.btn-toolbar::-webkit-scrollbar{height:4px}.btn-toolbar::-webkit-scrollbar-track{background:rgba(0,0,0,.05);border-radius:2px}.btn-toolbar::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border-radius:2px}.btn-toolbar .btn-group{display:flex!important;flex-direction:row!important;flex-shrink:0;gap:0;margin:0!important;padding-right:8px;border-right:1px solid var(--kr-border-default)}.btn-toolbar .btn-group:last-child{margin-right:0;padding-right:0;border-right:none}.btn-toolbar .btn{min-width:var(--mobile-touch-target)!important;width:var(--mobile-touch-target);height:var(--mobile-touch-target);padding:0!important;margin:0!important;display:flex!important;align-items:center;justify-content:center;font-size:16px;border-radius:6px;transition:all var(--transition-fast);flex-shrink:0}.btn-toolbar .btn:hover{background:rgba(139,15,14,.1);border-color:var(--kr-primary);color:var(--kr-primary)}.btn-toolbar .btn:active{background:rgba(139,15,14,.2);transform:scale(.95)}.btn-toolbar .btn:focus-visible{outline:0;box-shadow:0 0 0 3px rgba(139,15,14,.1);border-color:var(--kr-primary)}.form-control{font-size:16px!important;min-height:var(--mobile-touch-target)!important;padding:12px var(--mobile-spacing-md)!important;border-radius:var(--mobile-radius)!important;line-height:1.5}.form-control:focus{outline:0;border-color:var(--kr-primary);box-shadow:0 0 0 3px rgba(139,15,14,.1)}textarea.form-control{min-height:150px!important;font-family:monospace;resize:vertical;line-height:1.6}select.form-control{height:auto;min-height:var(--mobile-touch-target)}.form-group{margin-bottom:var(--mobile-spacing-lg)}.form-group label{display:block;margin-bottom:var(--mobile-spacing-sm);font-weight:600;font-size:14px;text-transform:uppercase;letter-spacing:.5px;color:var(--kr-text)}.form-group label .required{color:var(--kr-primary)}.form-group .checkbox{display:inline-flex;align-items:center;gap:var(--mobile-spacing-md);min-height:var(--mobile-touch-target);margin-right:var(--mobile-spacing-lg);margin-bottom:0;padding:8px 0}.form-group .checkbox input[type=checkbox]{width:20px!important;height:20px!important;min-width:20px;min-height:20px;margin:0!important;cursor:pointer;accent-color:var(--kr-primary);flex-shrink:0}.form-group .checkbox label{display:inline;margin:0;font-weight:500;cursor:pointer;font-size:16px;text-transform:none;letter-spacing:normal;padding:8px 0}button.btn-primary.pull-right{position:fixed!important;bottom:0!important;left:0!important;right:0!important;z-index:90;width:100%!important;height:56px!important;margin:0!important;padding:12px 16px!important;border-radius:0!important;font-size:16px;font-weight:600;border:0!important}button.btn-primary.pull-right:active{background:var(--kr-primary-dark);transform:scale(.98)}.form-group:last-of-type{padding-bottom:60px}.panel-group{overflow:hidden;width:100%}.panel-title{font-size:16px;margin:0}.accordion-toggle,.panel-collapse,a[data-toggle=collapse]{border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius)}.accordion-toggle,a[data-toggle=collapse]{display:flex;align-items:center;justify-content:space-between;padding:var(--mobile-spacing-md) var(--mobile-spacing-lg);background:rgba(0,0,0,.02);cursor:pointer;transition:all var(--transition-fast);min-height:var(--mobile-touch-target);text-decoration:none;color:var(--kr-text);font-weight:500}.accordion-toggle:hover,a[data-toggle=collapse]:hover{background:rgba(139,15,14,.05);border-color:var(--kr-primary);color:var(--kr-primary)}.panel-collapse{margin-top:-1px}.panel-body{padding:var(--mobile-spacing-lg)}}body.page-kramail .editeur-text .form-group+.form-group>.col-sm-2:empty+.col-sm-10>hr{display:none!important}body.page-kramail .editeur-text .form-group:has(#results){margin-bottom:0;padding-top:0}body.page-kramail .editeur-text select.form-control{cursor:pointer}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]) input[type=checkbox]{cursor:pointer}body.page-kramail .editeur-text .form-group>label.control-label .required{color:var(--kr-primary);font-weight:700}body.page-kramail h1.page-header .btn-default{border-radius:var(--kr-radius);font-weight:500;transition:all .15s ease}body.page-kramail h1.page-header .btn-default:hover{border-color:var(--kr-primary);color:var(--kr-primary)}@media (min-width:769px){body.page-kramail form.form-horizontal.editeur-text{background:var(--kr-bg-surface);border:1px solid var(--kr-border-strong);border-radius:var(--kr-radius);padding:28px 32px;margin-top:8px;box-shadow:var(--kr-shadow-md)}body.page-kramail h1.page-header{border-bottom-color:var(--kr-primary)!important;padding-bottom:12px;margin-bottom:16px}body.page-kramail .editeur-text .input-group-addon{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-secondary);min-width:42px;text-align:center}body.page-kramail .editeur-text .input-group-addon i.fa,body.page-kramail .editeur-text .input-group-addon i.far,body.page-kramail .editeur-text .input-group-addon i.fas{color:var(--kr-primary);font-size:14px}body.page-kramail .editeur-text .input-group-addon .btn.btn-primary{min-width:36px;min-height:32px;font-size:16px;font-weight:700;padding:4px 12px;border-radius:4px}body.page-kramail .editeur-text .form-group label[for],body.page-kramail .editeur-text .form-group>label.col-sm-1{font-size:13px;text-transform:uppercase;letter-spacing:.3px;color:var(--kr-text-secondary);font-weight:600}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]){background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);padding:16px 20px!important;margin-top:8px}body.page-kramail .editeur-text .form-group:has(input[type=checkbox])>label.col-md-2,body.page-kramail .editeur-text .form-group:has(input[type=checkbox])>label.col-sm-2{color:var(--kr-text-primary);font-weight:700;font-size:14px}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]) .checkbox-inline{margin-right:24px;padding:6px 4px 6px 24px;cursor:pointer}body.page-kramail .editeur-text>div:last-child{text-align:right;padding-top:16px;margin-top:8px;border-top:1px solid var(--kr-border-default);clear:both}body.page-kramail .editeur-text button.btn-primary.pull-right{float:none!important;min-width:180px;padding:12px 32px;font-size:15px;font-weight:600;letter-spacing:.3px;border-radius:var(--kr-radius);margin:0;transition:all .2s ease;box-shadow:0 4px 12px var(--kr-btn-shadow)}body.page-kramail .editeur-text button.btn-primary.pull-right:hover{transform:translateY(-1px);box-shadow:0 6px 20px var(--kr-btn-shadow)}body.page-kramail .editeur-text button.btn-primary.pull-right:active{transform:translateY(0);box-shadow:0 2px 8px var(--kr-btn-shadow)}body.page-kramail .editeur-text .btn-toolbar{background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);padding:8px;margin-bottom:8px;display:flex;flex-wrap:wrap;gap:4px}body.page-kramail .editeur-text .btn-toolbar .btn-group{margin-right:4px;border-right:1px solid var(--kr-border-default);padding-right:8px}body.page-kramail .editeur-text .btn-toolbar .btn-group:last-child{border-right:none;margin-right:0;padding-right:0}body.page-kramail .editeur-text .btn-toolbar .btn{min-width:34px;min-height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:4px;transition:all .15s ease}body.page-kramail .editeur-text .btn-toolbar .btn:hover{background:var(--kr-bg-active)!important;border-color:var(--kr-primary)!important}body.page-kramail .editeur-text textarea[name="c[5]"],body.page-kramail .editeur-text textarea[placeholder="Votre message"]{min-height:250px;line-height:1.6}body.page-kramail .editeur-text .col-sm-10>.btn-toolbar+textarea.form-control{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important;margin-top:0}body.page-kramail .editeur-text .col-sm-10>.btn-toolbar{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;margin-bottom:0!important;border-bottom:1px solid var(--kr-border-default)}body.page-kramail .editeur-text .form-group>label.control-label{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;color:var(--kr-text-secondary)}body.page-kramail .editeur-text .form-group{margin-bottom:20px}}@media (max-width:768px){body.page-kramail-compose h1.page-header .kramail-character-selector .kramail-character-dropdown,body.page-kramail-compose h1.page-header .kramail-character-selector .kramail-dropdown-icon{display:none!important}body.page-kramail-compose h1.page-header .kramail-character-selector{cursor:default!important;pointer-events:none;flex:1;min-width:0}body.page-kramail-compose h1.page-header{display:flex!important;flex-direction:row!important;align-items:center;gap:10px;flex-wrap:nowrap}body.page-kramail-compose h1.page-header .pull-right{float:none!important;width:auto!important;flex-shrink:0;margin-left:auto}body.page-kramail-compose h1.page-header .pull-right .btn{min-width:44px;min-height:44px;display:inline-flex!important;align-items:center;justify-content:center;padding:8px 12px;font-size:14px;white-space:nowrap}body.page-kramail .editeur-text .input-group{display:flex!important;flex-wrap:nowrap;border-radius:var(--mobile-radius);overflow:hidden}body.page-kramail .editeur-text .input-group-addon{width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;flex-shrink:0;display:flex!important;align-items:center;justify-content:center;border-radius:0!important;border-right:none!important;padding:0!important}body.page-kramail .editeur-text .input-group-addon:first-child{border-radius:var(--mobile-radius)0 0 var(--mobile-radius)!important}body.page-kramail .editeur-text .input-group .form-control{flex:1;min-width:0;height:44px!important;border-radius:0 var(--mobile-radius) var(--mobile-radius)0!important;border-left:none!important}body.page-kramail .editeur-text .input-group-addon .btn{width:44px!important;height:44px!important;max-width:44px!important;min-width:44px!important;padding:0!important;margin:0!important;display:flex!important;align-items:center;justify-content:center;font-size:18px;font-weight:700;border:0!important;background:0 0!important;color:inherit}body.page-kramail .editeur-text .btn-toolbar{display:flex!important;flex-wrap:nowrap;gap:0!important;padding:0!important;border-radius:var(--mobile-radius) var(--mobile-radius)0 0!important;border:1px solid var(--kr-border-default)!important;border-bottom:1px solid var(--kr-border-default)!important;margin-bottom:0!important;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;background:var(--kr-bg-hover)}body.page-kramail .editeur-text .btn-toolbar .btn-group{flex-direction:row!important;width:auto!important;flex-shrink:0;margin:0!important;padding:0!important;border:0!important;border-right:1px solid var(--kr-border-default)!important;border-radius:0!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group:last-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type{border-right:none!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown .dropdown-toggle .btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown>.dropdown-toggle,body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown>a>.btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group>.btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group>a.btn{width:44px!important;max-width:44px!important;min-width:44px!important;height:44px!important;margin:0!important;padding:0!important;border-radius:0!important;border:0!important;border-right:1px solid rgba(255,255,255,.05)!important;display:flex!important;align-items:center;justify-content:center;flex-shrink:0;background:0 0!important;color:var(--kr-text-primary, #f5f1ed)!important}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn .fa,body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn .far,body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn i,body.page-kramail .editeur-text .btn-toolbar>.btn-group>.btn i,body.page-kramail .editeur-text .btn-toolbar>.btn-group>a.btn i{color:inherit!important}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown{display:flex!important;flex-shrink:0}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn{width:44px!important;height:44px!important;min-width:44px!important;max-width:44px!important;padding:0!important;margin:0!important;border:0!important;border-radius:0!important;background:0 0!important;color:var(--kr-text-primary, #d4a574)!important}body.page-kramail .editeur-text .btn-toolbar .dropdown-menu .btn-group .btn{width:auto!important;height:auto!important;min-width:28px!important;max-width:none!important;min-height:28px!important;padding:4px 6px!important;margin:2px!important;border-radius:4px!important;border:1px solid rgba(255,255,255,.1)!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group:first-child>.btn:first-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group:first-child>a.btn:first-child{border-radius:var(--mobile-radius)0 0 var(--mobile-radius)!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type>.btn:last-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type>a.btn:last-child{border-radius:0 var(--mobile-radius) var(--mobile-radius)0!important;border-right:none!important}body.page-kramail .editeur-text .btn-toolbar .btn:active{background:rgba(139,15,14,.15)!important}body.page-kramail .editeur-text .btn-toolbar::-webkit-scrollbar{height:3px}body.page-kramail .editeur-text .btn-toolbar::-webkit-scrollbar-thumb{background:rgba(255,255,255,.15);border-radius:2px}body.page-kramail .editeur-text .btn-toolbar+textarea.form-control,body.page-kramail .editeur-text .col-sm-10>.btn-toolbar+textarea.form-control{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important;margin-top:0}body.page-kramail .editeur-text .btn-toolbar .dropdown-menu{position:fixed!important;bottom:60px!important;left:8px!important;right:8px!important;top:auto!important;width:auto!important;max-width:calc(100vw - 16px)!important;max-height:50vh;overflow-y:auto;border-radius:var(--mobile-radius) var(--mobile-radius)0 0!important;box-shadow:0-4px 24px rgba(0,0,0,.4)!important;z-index:1050!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;padding:12px!important}body.page-kramail .editeur-text .checkbox-inline{display:flex!important;align-items:center;gap:8px;padding-left:0!important;margin-right:16px;margin-bottom:8px;min-height:44px;white-space:nowrap}body.page-kramail .editeur-text .checkbox-inline input[type=checkbox]{position:static!important;margin-left:0!important;margin-top:0!important;width:20px!important;height:20px!important;min-width:20px;flex-shrink:0}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]){background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);padding:12px 16px!important;margin-top:8px}body.page-kramail .editeur-text .form-group>label.control-label{color:var(--kr-text-secondary)}body.page-kramail .editeur-text .form-group:last-of-type{padding-bottom:70px!important}}.forum-thread-detail>div:nth-of-type(2),.page-forum-sujet [role=main]>div>div:nth-of-type(2)>div:nth-of-type(3){display:none}.forum-thread-metadata+div:has(a[href*="/forum/tags/"]){display:none}.kr-changelog-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:10000;opacity:0;transition:opacity .3s ease}.kr-changelog-modal.active{opacity:1;display:flex;align-items:center;justify-content:center}.kr-changelog-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.75)!important;cursor:pointer}.kr-changelog-header{padding:24px 24px 16px;border-bottom:1px solid var(--kr-border-default);position:relative}.kr-changelog-header h2,.kr-changelog-version h3{margin:0;font-size:20px;font-weight:600;color:var(--kr-primary)}.kr-changelog-close{display:none!important}.kr-changelog-body{padding:16px 24px;overflow-y:auto;flex:1}.kr-changelog-subtitle{margin:0 0 16px;color:var(--kr-muted);font-size:14px}.kr-changelog-list,.kr-changelog-version ul{list-style:none;padding:0;margin:0}.kr-changelog-list li,.kr-changelog-version li{padding:8px 0 8px 24px;position:relative;color:var(--kr-text);line-height:1.5;font-size:14px}.kr-changelog-list li:before{content:"✓";position:absolute;left:0;color:var(--kr-primary);font-weight:700;font-size:16px}.kr-changelog-footer{padding:16px 24px;border-top:1px solid var(--kr-border-default);display:flex;gap:12px;flex-wrap:wrap}.kr-changelog-footer button{flex:1;min-width:120px;padding:10px 16px;border:1px solid var(--kr-border-strong);border-radius:var(--kr-radius);background:var(--kr-surface);color:var(--kr-text);cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.kr-changelog-view-all{background:var(--kr-primary)!important;color:#fff!important;border-color:var(--kr-primary)!important}.kr-changelog-view-all:hover{background:var(--kr-primary-dark)!important;border-color:var(--kr-primary-dark)!important}.kr-changelog-close-btn:hover{background:var(--kr-bg-hover)}.kr-changelog-modal.kr-changelog-full .kr-changelog-content-full{max-width:800px}.kr-changelog-body-full{max-height:500px}.kr-changelog-version{margin-bottom:24px}.kr-changelog-version h3{margin:0 0 12px;font-size:16px;padding-bottom:8px;border-bottom:1px solid var(--kr-border-default)}.kr-changelog-version li{padding:6px 0 6px 20px;font-size:13px}.kr-changelog-version li:before{content:"•";position:absolute;left:5px;color:var(--kr-primary);font-weight:700}.kr-changelog-btn{margin-bottom:16px}.kr-changelog-inline{color:var(--kr-primary);text-decoration:none;border:0;background:0 0;padding:0;font-size:13px;margin-left:8px;vertical-align:middle;cursor:pointer;display:inline}.kr-changelog-inline:hover{color:var(--kr-primary-dark);text-decoration:underline}@media (max-width:768px){.kr-changelog-content{width:95%;max-height:85vh}.kr-changelog-header{padding:16px 16px 12px}.kr-changelog-header h2{font-size:18px}.kr-changelog-body{padding:12px 16px}.kr-changelog-list li{padding:6px 0 6px 20px;font-size:13px}.kr-changelog-footer{padding:12px 16px;flex-direction:column}.kr-changelog-footer button{width:100%}.kr-changelog-content-full{max-width:95%}}html[class*=-dark] .mini{color:var(--kr-text-primary)!important;text-shadow:0 1px 0 rgba(0,0,0,.6);padding:2px 6px;border-radius:3px;font-weight:700;background-image:none!important;background-color:rgba(0,0,0,.6)!important}html[class*=-dark] .mini.c3,html[class*=-dark] .mini.c5{background-color:rgba(255,255,128,.92)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .mini.c5{background-color:rgba(128,255,128,.92)!important}html:not([class*=-dark]) .mini{padding:2px 6px;border-radius:3px;font-weight:700}@media (min-width:768px){.page-accueil #player-header-section,.page-accueil .alert-info{border:1px solid var(--kr-border-default);border-radius:var(--kr-radius)}.page-accueil .alert-info{background:var(--kr-bg-elevated);border-left:4px solid var(--kr-primary);color:var(--kr-text-primary);padding:10px 14px;font-size:13px;margin-bottom:16px}.page-accueil .alert-info .close{color:var(--kr-text-muted);opacity:.7;text-shadow:none}.page-accueil #player-header-section{overflow:hidden}.page-accueil #player-header-section>.list-group-item.active{background:var(--kr-primary);border-color:var(--kr-primary);color:#fff;font-weight:600;font-size:13px;border-radius:0}.page-accueil #player-header-section .panel{border:0;border-radius:0;margin-bottom:0;box-shadow:none}.page-accueil #player-header-section .panel-body{background:var(--kr-bg-surface);padding:0}.page-accueil #player-header-section .panel-body .news-item{padding:8px 10px;border-bottom:1px solid var(--kr-border-default)}.page-accueil #player-header-section .panel-body .news-item:last-child{border-bottom:none}.page-accueil #player-header-section .pagination{background:var(--kr-bg-surface);margin:0;padding:4px 10px;border-top:1px solid var(--kr-border-default)}.page-accueil .kraland-metrics{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px;margin-top:10px;padding:0;border:0}.page-accueil .kraland-metrics .list-group-item{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);padding:10px 8px;text-align:center;display:flex;flex-direction:column;align-items:center}.page-accueil .kraland-metrics .list-group-item .pull-right{position:static!important;transform:none!important;order:-1;margin-bottom:4px}.page-accueil .kraland-metrics .list-group-item .pull-right .fa{font-size:20px;color:var(--kr-primary)}.page-accueil .kraland-metrics .list-group-item h4.count{font-size:20px;font-weight:700;color:var(--kr-primary);margin:0}.page-accueil .kraland-metrics .list-group-item p{font-size:10px;color:var(--kr-text-muted);text-transform:uppercase;letter-spacing:.5px;margin:2px 0 0}.accueil-play-btn,.page-accueil .ds_user{text-align:center;border-radius:var(--kr-radius);margin-bottom:10px}.page-accueil .ds_user{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default)!important;padding:12px!important;display:block!important}.accueil-forum-section h4,.page-accueil .ds_user h4{font-size:16px;font-weight:600;color:var(--kr-text-primary);margin:8px 0 0}.page-accueil .ds_user .pull-right{position:static!important;transform:none!important;float:none!important;margin-bottom:8px}.page-accueil .ds_user .pull-right img{width:80px;height:80px;border-radius:50%}.accueil-play-btn{display:block;background:var(--kr-primary);color:#fff!important;padding:10px;font-size:15px;font-weight:600;text-decoration:none!important;transition:opacity .15s}.accueil-play-btn:hover{opacity:.85;color:#fff!important}.accueil-play-btn .fa{margin-right:6px}.accueil-forum-section{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);overflow:hidden}.accueil-forum-section h4{background:var(--kr-bg-active);margin:0;padding:8px 12px;font-size:13px;border-bottom:1px solid var(--kr-border-default);text-align:center}.accueil-forum-section .ds_forum{display:block;padding:8px 12px!important;border-bottom:1px solid var(--kr-border-default);border-left:none!important;border-right:none!important;border-top:none!important;border-radius:0!important;background:var(--kr-bg-surface)!important;transition:background .15s}.accueil-forum-section .ds_forum:last-child{border-bottom:none}.accueil-forum-section .ds_forum:hover{background:var(--kr-bg-hover)!important}.accueil-forum-section .ds_forum h4{background:0 0;border-bottom:none;padding:0;text-align:left;font-size:10px;text-transform:uppercase;letter-spacing:.3px;color:var(--kr-primary);margin:0 0 2px}.accueil-forum-section .ds_forum p{margin:0;font-size:12px;color:var(--kr-text-primary)}.page-accueil #myCarousel{border-radius:var(--kr-radius);overflow:hidden;box-shadow:var(--kr-shadow-md)}.page-accueil #myCarousel .carousel-caption{background:linear-gradient(transparent,rgba(0,0,0,.75));padding:30px 20px 14px;left:0;right:0;bottom:0;border-radius:0}.page-accueil #myCarousel .carousel-caption h1,.page-accueil #myCarousel .carousel-caption h3{font-size:16px;margin:0 0 4px;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.5)}.page-accueil #myCarousel .carousel-caption p{font-size:12px;margin:0 0 8px;opacity:.9;text-shadow:0 1px 2px rgba(0,0,0,.5)}}@media (min-width:2560px){.page-accueil #col-left{width:25%!important}.page-accueil #col-right{width:50%!important}}@media (min-width:3840px){.page-accueil #col-left{width:25%!important}.page-accueil #col-right{width:50%!important}}@media (max-width:767px){.page-accueil #col-left,.page-accueil #col-t,.page-accueil .row{display:flex!important;flex-direction:column!important}.page-accueil #col-left,.page-accueil #col-t{order:-1!important;margin-bottom:0!important;padding:0!important}.page-accueil #col-left{order:0!important}.page-accueil #col-right{display:none!important;margin-bottom:0!important}.page-accueil .alert-info{background:var(--kr-bg-elevated);border:0;border-left:3px solid var(--kr-primary);color:var(--kr-text-primary);border-radius:0;padding:8px 12px;font-size:12px;margin:0}.page-accueil .alert-info .close{color:var(--kr-text-muted);opacity:.7;text-shadow:none}.page-accueil .accueil-play-btn{order:-2;display:flex!important;align-items:center;justify-content:center;gap:8px;background:var(--kr-primary);color:#fff!important;text-align:center;padding:14px 16px;font-size:18px;font-weight:700;text-decoration:none!important;letter-spacing:.5px;text-transform:uppercase;margin:0;border:0;border-radius:0;width:100%}.page-accueil .accueil-play-btn .fa{font-size:16px}.page-accueil .ds_user{order:-1;display:flex!important;flex-direction:row!important;align-items:center!important;text-align:left;background:var(--kr-bg-elevated);padding:8px 12px!important;margin:0;border-radius:0;border-bottom:1px solid var(--kr-border-default);gap:10px}.page-accueil .ds_user .pull-right{float:none!important;position:static!important;transform:none!important;order:-1;flex-shrink:0;margin:0}.page-accueil .ds_user .pull-right img{width:56px!important;height:56px!important;min-width:56px!important;min-height:56px!important;border-radius:50%;display:block}.page-accueil .ds_user h4{font-size:14px;font-weight:600;margin:0;color:var(--kr-text-primary)}.page-accueil .ds_user p{font-size:11px;color:var(--kr-text-muted);margin:2px 0 0}.page-accueil .accueil-forum-section{margin:0}.page-accueil .accueil-forum-section h4.center{background:var(--kr-bg-active);margin:0;padding:6px 12px;font-size:11px;color:var(--kr-text-secondary);font-weight:600;text-transform:uppercase;letter-spacing:.5px;text-align:left}.page-accueil .accueil-forum-section .ds_forum{display:block;padding:8px 12px!important;border-bottom:1px solid var(--kr-border-default);border-left:none!important;border-right:none!important;border-top:none!important;border-radius:0!important;font-size:12px;background:var(--kr-bg-surface)}.page-accueil .accueil-forum-section .ds_forum h4{font-size:9px;font-weight:600;color:var(--kr-highlight);margin:0 0 2px;background:0 0;padding:0;text-align:left;text-transform:uppercase;letter-spacing:.3px}.page-accueil .accueil-forum-section .ds_forum p{margin:0;font-size:13px;color:var(--kr-text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.page-accueil .accueil-forum-section .ds_forum p img{width:auto!important;height:12px!important;min-width:auto!important;min-height:auto!important;vertical-align:middle}.page-accueil .kraland-metrics{order:-1;display:flex!important;gap:0;padding:0;overflow:hidden;border:0;border-bottom:1px solid var(--kr-border-default);background:var(--kr-bg-elevated)}.page-accueil .kraland-metrics .list-group-item{flex:1;min-width:0;background:0 0;border:0;border-right:1px solid var(--kr-border-default);border-radius:0;padding:8px 4px;text-align:center;display:flex!important;flex-direction:column;align-items:center;gap:0}.page-accueil .kraland-metrics .list-group-item:last-child{border-right:none}.page-accueil .kraland-metrics .list-group-item .pull-right{display:none!important}.page-accueil .kraland-metrics .list-group-item h4.count{font-size:16px;font-weight:700;color:var(--kr-primary);margin:0;line-height:1}.page-accueil .kraland-metrics .list-group-item p{font-size:8px;color:var(--kr-text-muted);text-transform:uppercase;letter-spacing:.3px;margin:2px 0 0;line-height:1}body.mobile-mode.page-accueil #player-header-section{display:block!important}.page-accueil #player-header-section>.list-group-item.active{background:var(--kr-bg-active);border-color:var(--kr-bg-active);color:var(--kr-text-secondary);font-size:11px;font-weight:600;padding:6px 12px;margin:0;border-radius:0;text-transform:uppercase;letter-spacing:.5px}.page-accueil #player-header-section .panel{border:0;border-radius:0;margin:0;box-shadow:none}.page-accueil #player-header-section .panel-body{padding:0!important}.page-accueil #player-header-section .panel-body .news-item{padding:8px 12px;border-bottom:1px solid var(--kr-border-default);font-size:12px}.page-accueil #player-header-section .pagination{display:none}}',ENABLE_KEY:"kr-theme-enabled",VARIANT_KEY:"kr-theme-variant",STATS_DISPLAY_KEY:"kr-stats-display",STYLE_ID:"kraland-theme-style",THEME_VARIANTS:["kraland","empire-brun","paladium","theocratie-seelienne","paradigme-vert","khanat-elmerien","confederation-libre","royaume-ruthvenie","empire-brun-dark","paladium-dark","theocratie-seelienne-dark","paradigme-vert-dark","khanat-elmerien-dark","confederation-libre-dark","royaume-ruthvenie-dark","high-contrast"],LOGO_MAP:{kraland:1,"empire-brun":2,"empire-brun-dark":2,paladium:3,"paladium-dark":3,"theocratie-seelienne":4,"theocratie-seelienne-dark":4,"paradigme-vert":5,"paradigme-vert-dark":5,"khanat-elmerien":6,"khanat-elmerien-dark":6,"confederation-libre":7,"confederation-libre-dark":7,"royaume-ruthvenie":8,"royaume-ruthvenie-dark":8},SKILL_ICONS:{Baratin:"9401","Combat Mains Nues":"9402","Combat Contact":"9403","Combat Distance":"9404",Commerce:"9405","Démolition":"9406","Discrétion":"9407","Éloquence":"9408",Falsification:"9409",Foi:"9410",Informatique:"9411","Médecine":"9412",Observation:"9413",Organisation:"9414",Pouvoir:"9415","Séduction":"9416",Survie:"9417",Vol:"9418"},STAT_ICONS:{FOR:"9402",VOL:"9415",CHA:"9416",INT:"9412",GES:"9405",PER:"9413"},MEDIEVAL_MAP_KEY:"kr-medieval-map",MEDIEVAL_MAP_STYLE_ID:"kr-medieval-map-style",MEDIEVAL_MAP_OVERRIDES:{"http://img7.kraland.org/2/map/1/54.gif":"https://i.imgur.com/yQaUb2q.png","http://img7.kraland.org/2/map/1/123.gif":"https://i.imgur.com/zeD5Q3m.gif","http://img7.kraland.org/2/map/1/124.gif":"https://i.imgur.com/kT1NcMR.gif","http://img7.kraland.org/2/map/1/125.gif":"https://i.imgur.com/OZcbEpv.gif","http://img7.kraland.org/2/map/1/126.gif":"https://i.imgur.com/pnNPvQa.gif","http://img7.kraland.org/2/map/1/127.gif":"https://i.imgur.com/AWDyET8.gif","http://img7.kraland.org/2/map/1/128.gif":"https://i.imgur.com/v9BUsFz.gif","http://img7.kraland.org/2/map/1/129.gif":"https://i.imgur.com/F3hWy6L.gif","http://img7.kraland.org/2/map/1/130.gif":"https://i.imgur.com/dQ1eAgR.gif","http://img7.kraland.org/2/map/1/131.gif":"https://i.imgur.com/hQzJHvq.gif","http://img7.kraland.org/2/map/1/150.gif":"https://i.imgur.com/b4gCbux.png","http://img7.kraland.org/2/map/1/160.gif":"https://i.imgur.com/u3pxKOO.gif","http://img7.kraland.org/2/map/1/161.gif":"https://i.imgur.com/SptXelD.gif","http://img7.kraland.org/2/map/1/162.gif":"https://i.imgur.com/r9AajUr.gif","http://img7.kraland.org/2/map/1/163.gif":"https://i.imgur.com/j0E8T1P.gif","http://img7.kraland.org/2/map/1/164.gif":"https://i.imgur.com/ogaiUqe.gif","http://img7.kraland.org/2/map/1/165.gif":"https://i.imgur.com/qe3sdQF.gif","http://img7.kraland.org/2/map/1/166.gif":"https://i.imgur.com/Z6QHBzh.gif","http://img7.kraland.org/2/map/1/167.gif":"https://i.imgur.com/DtNeOzd.gif","http://img7.kraland.org/2/map/1/168.gif":"https://i.imgur.com/bowPMN6.gif","http://img7.kraland.org/2/map/1/169.gif":"https://i.imgur.com/o7CILuq.gif","http://img7.kraland.org/2/map/1/170.gif":"https://i.imgur.com/y9U0dYl.gif","http://img7.kraland.org/2/map/1b/54.gif":"https://i.imgur.com/06sWizC.png","http://img7.kraland.org/2/map/1b/123.gif":"https://i.imgur.com/AVfs5gP.gif","http://img7.kraland.org/2/map/1b/124.gif":"https://i.imgur.com/5EXjAMq.gif","http://img7.kraland.org/2/map/1b/125.gif":"https://i.imgur.com/2W8B2Dt.gif","http://img7.kraland.org/2/map/1b/126.gif":"https://i.imgur.com/4bBE651.gif","http://img7.kraland.org/2/map/1b/127.gif":"https://i.imgur.com/MlV4iYC.gif","http://img7.kraland.org/2/map/1b/128.gif":"https://i.imgur.com/rmU5dY2.gif","http://img7.kraland.org/2/map/1b/129.gif":"https://i.imgur.com/YeujdJG.gif","http://img7.kraland.org/2/map/1b/130.gif":"https://i.imgur.com/PqDVOX3.gif","http://img7.kraland.org/2/map/1b/131.gif":"https://i.imgur.com/W8FRpdH.gif","http://img7.kraland.org/2/map/1b/150.gif":"https://i.imgur.com/w6yVuNX.png","http://img7.kraland.org/2/map/1b/160.gif":"https://i.imgur.com/bHKR6EJ.gif","http://img7.kraland.org/2/map/1b/161.gif":"https://i.imgur.com/yrfMXwl.gif","http://img7.kraland.org/2/map/1b/162.gif":"https://i.imgur.com/qfSfUkX.gif","http://img7.kraland.org/2/map/1b/163.gif":"https://i.imgur.com/MR7miUh.gif","http://img7.kraland.org/2/map/1b/164.gif":"https://i.imgur.com/MMunrUy.gif","http://img7.kraland.org/2/map/1b/165.gif":"https://i.imgur.com/Kqs7t39.gif","http://img7.kraland.org/2/map/1b/166.gif":"https://i.imgur.com/6FoA0Hi.gif","http://img7.kraland.org/2/map/1b/167.gif":"https://i.imgur.com/Jgu5rX9.gif","http://img7.kraland.org/2/map/1b/168.gif":"https://i.imgur.com/KCPBL3T.gif","http://img7.kraland.org/2/map/1b/169.gif":"https://i.imgur.com/uBJObWh.gif","http://img7.kraland.org/2/map/1b/170.gif":"https://i.imgur.com/FfpTfLi.gif"},MEDIEVAL_SEPIA:"85%"};function i(t){try{t()}catch(t){}}const l={};function d(t){return t in l||(l[t]=localStorage.getItem(t)),l[t]}function p(t,e){l[t]=e,localStorage.setItem(t,e)}function m(){return"true"===d(n.ENABLE_KEY)}function c(){return d(n.VARIANT_KEY)||"kraland"}function s(){return d(n.STATS_DISPLAY_KEY)||"icon"}function b(t){if(!t)return null;const e=t.match(/url\((?:'|")?(.*?)(?:'|")?\)/);return e?e[1]:null}function u(){try{const t="data-kr-medieval-applied",e="data-kr-medieval-original-bg",r="data-kr-medieval-original-filter",o={};function a(a){if(!a||a.getAttribute&&"true"===a.getAttribute(t)||a.getAttribute&&"true"===a.getAttribute("data-kr-medieval-pending"))return;let i=null;if("IMG"===a.tagName)i=a.src||a.getAttribute("src");else{const t=a.style&&a.style.getPropertyValue("background-image")||"",e=t||window.getComputedStyle&&getComputedStyle(a).backgroundImage||"";i=b(t)||b(e)}if(!i)return;if(n.MEDIEVAL_NO_REPLACE&&n.MEDIEVAL_NO_REPLACE[i])return;const l=function(t){if(!t)return null;const e=n.MEDIEVAL_MAP_OVERRIDES||{};return e[t]?e[t]:-1!==t.indexOf("/2/map/1b/")?t.replace("/2/map/1b/","/2/map/5/"):-1!==t.indexOf("/2/map/1/")?t.replace("/2/map/1/","/2/map/5/"):null}(i);if(!l)return;a.setAttribute&&a.setAttribute("data-kr-medieval-pending","true"),a.hasAttribute&&a.hasAttribute(e)||a.setAttribute(e,i);const d=a.style&&a.style.getPropertyValue("filter")||"";var p;a.hasAttribute&&a.hasAttribute(r)||a.setAttribute(r,d),(p=l,o.hasOwnProperty(p)?Promise.resolve(!!o[p]):new Promise(t=>{try{const e=new Image;e.onload=()=>{o[p]=!0,t(!0)},e.onerror=()=>{o[p]=!1,t(!1)},e.src=p}catch(e){o[p]=!1,t(!1)}})).then(o=>{if(o){if("IMG"===a.tagName)try{a.src=l}catch(t){a.setAttribute("src",l)}else a.style&&a.style.setProperty&&a.style.setProperty("background-image",'url("'+l+'")',"important");-1!==i.indexOf("/2/map/1b/")&&a.style&&a.style.setProperty&&a.style.setProperty("filter","sepia("+n.MEDIEVAL_SEPIA+")","important"),a.setAttribute&&a.setAttribute(t,"true")}else{const t=a.getAttribute(e);if("IMG"===a.tagName){if(t)try{a.src=t}catch(e){a.setAttribute("src",t)}}else t?a.style&&a.style.setProperty&&a.style.setProperty("background-image",'url("'+t+'")',"important"):a.style&&a.style.removeProperty&&a.style.removeProperty("background-image");const o=a.getAttribute(r);o?a.style&&a.style.setProperty&&a.style.setProperty("filter",o,"important"):a.style&&a.style.removeProperty&&a.style.removeProperty("filter")}a.removeAttribute&&a.removeAttribute("data-kr-medieval-pending")}).catch(t=>{a.removeAttribute&&a.removeAttribute("data-kr-medieval-pending")})}function i(){document.querySelectorAll("["+t+'="true"]').forEach(o=>{const a=o.getAttribute(e);if("IMG"===o.tagName)if(a)try{o.src=a}catch(t){o.setAttribute("src",a)}else o.removeAttribute&&o.removeAttribute("src");else a?o.style&&o.style.setProperty&&o.style.setProperty("background-image",'url("'+a+'")',"important"):o.style&&o.style.removeProperty&&o.style.removeProperty("background-image");const n=o.getAttribute(r);n?o.style&&o.style.setProperty&&o.style.setProperty("filter",n,"important"):o.style&&o.style.removeProperty&&o.style.removeProperty("filter"),o.removeAttribute&&o.removeAttribute(t),o.removeAttribute&&o.removeAttribute(e),o.removeAttribute&&o.removeAttribute(r)})}if("true"===d(n.MEDIEVAL_MAP_KEY)){if(document.documentElement.classList.add("kr-medieval-map-enabled"),document.querySelectorAll('div[style*="/2/map/1/"], div[style*="/2/map/1b/"], img[src*="/2/map/1/"], img[src*="/2/map/1b/"]').forEach(a),!u._observer){const l=new MutationObserver(t=>{t.forEach(t=>{"attributes"!==t.type||"style"!==t.attributeName&&"src"!==t.attributeName||!t.target||1!==t.target.nodeType?"childList"===t.type&&t.addedNodes.forEach(t=>{1===t.nodeType&&(t.matches&&(t.matches('div[style*="/2/map/1/"]')||t.matches('div[style*="/2/map/1b/"]')||t.matches('img[src*="/2/map/1/"]')||t.matches('img[src*="/2/map/1b/"]'))&&a(t),t.querySelectorAll&&t.querySelectorAll('div[style*="/2/map/1/"], div[style*="/2/map/1b/"], img[src*="/2/map/1/"], img[src*="/2/map/1b/"]').forEach(a))}):a(t.target)})});l.observe(document.body||document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","src"]}),u._observer=l}}else document.documentElement.classList.remove("kr-medieval-map-enabled"),i(),u._observer&&(u._observer.disconnect(),u._observer=null);return!0}catch(p){return!1}}function g(){const t=location?.pathname||"";return 0===t.indexOf("/jouer")&&"/jouer/communaute"!==t&&"/jouer/communaute/membres"!==t}async function h(t){if(!m())return!1;e.start("css:inject");try{let r=document.getElementById(n.STYLE_ID);r?r.textContent=t:(r=document.createElement("style"),r.id=n.STYLE_ID,r.textContent=t,document.head.appendChild(r)),e.end("css:inject"),e.start("css:applyVariant"),document.documentElement.classList.add("kr-theme-enabled");const o=c();document.documentElement.classList.toggle("kr-theme-high-contrast","high-contrast"===o),n.THEME_VARIANTS.forEach(t=>document.documentElement.classList.remove("kr-theme-variant-"+t)),o&&"disable"!==o&&document.documentElement.classList.add("kr-theme-variant-"+o);const a=0===location?.pathname?.indexOf("/communaute/membres");return document.documentElement.classList.toggle("kr-page-members",a),e.end("css:applyVariant"),!0}catch(t){return e.end("css:inject"),!1}}async function f(){m()&&await h(n.BUNDLED_CSS)}function x(t,e=!1){try{if(!t||"disable"===t)return p(n.ENABLE_KEY,"false"),void(e||location.reload());const r=!m();if(p(n.ENABLE_KEY,"true"),p(n.VARIANT_KEY,t),r&&!e)return void location.reload();n.THEME_VARIANTS.forEach(t=>document.documentElement.classList.remove("kr-theme-variant-"+t)),document.documentElement.classList.add("kr-theme-variant-"+t),document.documentElement.classList.add("kr-theme-enabled"),i(()=>h(n.BUNDLED_CSS)),i(()=>q())}catch(t){}}function y(){"true"===localStorage.getItem("kr-hide-footer-quote")?document.documentElement.classList.add("kr-hide-footer-quote"):document.documentElement.classList.remove("kr-hide-footer-quote")}function k(){document.querySelectorAll('[data-toggle="tooltip"]').forEach(t=>{const e=document.body.classList.contains("mobile-mode"),r=t.closest(".col-leftest"),o=t.closest(".panel-body.grid-transformed");(e||r||o)&&(t.removeAttribute("data-toggle"),t.removeAttribute("data-placement"),t.removeAttribute("title"),t.removeAttribute("data-original-title"))}),window.$&&window.$.fn&&window.$.fn.tooltip&&(window.$.fn.tooltip=function(){return this})}function v(){k(),document.body&&new MutationObserver(t=>{let e=!1;for(const r of t)if(r.addedNodes.length>0){e=!0;break}e&&k()}).observe(document.body,{childList:!0,subtree:!0})}function w(){window.location.pathname.startsWith("/forum/")&&document.querySelectorAll('img[src*="img7.kraland.org/2/rank/"]').forEach(t=>{let e=t.getAttribute("data-original-title")||t.getAttribute("title");if(!e)return;let r=t.closest("div");if(!r||!r.parentElement)return;let o=r.closest(".cartouche")||r.closest('div[class="cartouche"]');o||(o=r.parentElement),o&&o.querySelector('strong a[href*="charlie-2-82045"]')&&"Empereur"===e&&(e="Emperatrice"),"Gouverneure Mystisie"===e?e="Sultane Eternelle de Mystisie":"Gouverneur Mystisie"===e&&(e="Sultan Eternel de Mystisie");const a=r.parentElement.querySelectorAll("div");let n=!1;for(let t of a)if(t.textContent.trim()===e&&t!==r){n=!0;break}if(n)return;const i=r.nextElementSibling;if(i&&i.hasAttribute("data-kr-rank-title"))return;const l=document.createElement("div");l.setAttribute("data-kr-rank-title","true"),l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.gap="4px",l.style.marginTop="4px";const d=r.querySelector('img[src*="/rank/"]');d&&l.appendChild(d.cloneNode(!0));const p=document.createElement("strong");p.textContent=e,l.appendChild(p),r.parentElement&&r.parentElement.replaceChild(l,r)})}function E(){if(!g())return;const t=document.querySelector(".dashboard");if(!t)return;const e=t.querySelectorAll(":scope > .panel");if(!e.length)return;const r=document.createElement("div");r.className="dashboard-flex";const o=[];let a=!1;e.forEach(t=>{const e=t.querySelector(".panel-body");if(!e)return;if(!e.querySelector("table"))return;const r=t.querySelector(".panel-heading .panel-title"),n=r?r.textContent.trim():"";if(!n.toLowerCase().includes("groupe"))return;const i=function(t){const e={title:"",groupButtons:[],members:[]},r=t.querySelector(".panel-heading");if(r){const t=r.querySelector(".panel-title");t&&(e.title=t.textContent.trim(),t.querySelectorAll("a.btn").forEach(t=>{e.groupButtons.push(t.cloneNode(!0))}))}const o=t.querySelector(".panel-body");if(!o)return e;const a=o.querySelector("table");return a?(a.querySelectorAll("tr").forEach(t=>{const r=t.querySelector("td:first-child"),o=t.querySelector("td:last-child");if(!r||!o)return;const a=r.querySelectorAll("a.list-group-item.ds_game"),n=o.querySelectorAll('div[style*="height:59px"]');a.forEach((t,r)=>{const o=function(t,e){const r={originalLink:t,avatar:null,name:"",status:"",isPNJ:!1,worldImage:null,hpInfo:null,pvLevel:null,profileUrl:"",actionsDiv:null},o=t.querySelector("img.pull-left");o&&(r.avatar=o.src);const a=t.querySelector(".list-group-item-heading"),n=t.querySelector(".list-group-item-text");a&&(r.name=a.textContent.trim()),n&&(r.status=n.textContent.trim()),t.querySelector(".btn-danger.xmini")&&(r.isPNJ=!0);const i=t.querySelector(".mention.pull-right");if(i){const t=i.querySelector('img[src*="world"]');t&&(r.worldImage=t.src);const e=i.querySelector('img[src*="pdv"]');if(e){const t=e.src.match(/pdv(\d)\.png/);t&&(r.pvLevel=parseInt(t[1],10))}const o=i.querySelector('div[style*="background"]');if(o){const t=(o.getAttribute("style")||"").match(/width:\s*(\d+)%/);t&&(r.hpInfo=parseInt(t[1],10))}}return r.profileUrl=t.href,e&&(r.actionsDiv=e.cloneNode(!0)),r}(t,n[r]||null);e.members.push(o)})}),e):e}(t);if(0===i.members.length)return;const l=!a;n.toLowerCase().includes("groupe")&&(a=!0),o.push({isMyGroup:l,title:i.title,groupButtons:i.groupButtons,members:i.members})}),0!==o.length&&(o.forEach((t,e)=>{const o=document.createElement("div");o.className=t.isMyGroup?"dashboard-section dashboard-section-mygroup":"dashboard-section dashboard-section-others";const a=document.createElement("div");if(a.className="dashboard-section-header",t.groupButtons&&t.groupButtons.length>0){const e=document.createElement("div");e.className="dashboard-group-buttons",t.groupButtons.forEach(t=>{e.appendChild(t)}),a.appendChild(e)}const n=document.createElement("span");if(n.className="dashboard-group-title",t.isMyGroup){const e=t.title.replace(/\s*Groupe\s+/i,"");n.textContent=e||"Mon groupe"}else{const e=t.title.replace(/\s*Groupe\s+/i,"");n.textContent=e||`Groupe de ${t.members[0]?.name||"Inconnu"}`}a.appendChild(n),o.appendChild(a);const i=document.createElement("div");i.className=t.isMyGroup?"dashboard-cards-grid dashboard-cards-large":"dashboard-cards-grid",t.members.forEach(e=>{i.appendChild(function(t,e=!1){const r=document.createElement("div");r.className=e?"dashboard-card dashboard-card-large":"dashboard-card";const o=t.originalLink.cloneNode(!1);o.classList.add("dashboard-card-link");const a=document.createElement("div");if(a.className="dashboard-card-header",t.avatar){const e=document.createElement("div");if(e.className="dashboard-card-avatar-wrapper",t.pvLevel){const r=function(t){if(!t)return null;const e={1:{color:"#32CD32",percentage:100},2:{color:"#FFD700",percentage:80},3:{color:"#FF8C00",percentage:60},4:{color:"#DC143C",percentage:40},5:{color:"#8B0000",percentage:20}},r=e[t]||e[1],o=2*Math.PI*37,a=o-o*r.percentage/100,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","dashboard-card-hp-circle"),n.setAttribute("width","82"),n.setAttribute("height","82"),n.setAttribute("viewBox","0 0 82 82");const i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx","41"),i.setAttribute("cy","41"),i.setAttribute("r",37),i.setAttribute("fill","none"),i.setAttribute("stroke","rgba(0,0,0,0.1)"),i.setAttribute("stroke-width","3");const l=document.createElementNS("http://www.w3.org/2000/svg","circle");return l.setAttribute("cx","41"),l.setAttribute("cy","41"),l.setAttribute("r",37),l.setAttribute("fill","none"),l.setAttribute("stroke",r.color),l.setAttribute("stroke-width","4"),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-dasharray",o),l.setAttribute("stroke-dashoffset",a),l.setAttribute("transform","rotate(-90 41 41)"),n.appendChild(i),n.appendChild(l),n}(t.pvLevel);r&&e.appendChild(r)}const r=document.createElement("img");r.src=t.avatar,r.className="dashboard-card-avatar",r.alt=t.name,5===t.pvLevel&&(r.style.filter="grayscale(100%)",r.style.opacity="0.7"),e.appendChild(r),a.appendChild(e)}const n=document.createElement("div");if(n.className="dashboard-card-name-container",t.worldImage){const e=document.createElement("img");e.src=t.worldImage,e.className="dashboard-card-world",e.alt="World",n.appendChild(e)}const i=document.createElement("div");i.className="dashboard-card-name",i.textContent=t.name,n.appendChild(i),a.appendChild(n),o.appendChild(a);const l=document.createElement("div");if(l.className="dashboard-card-body",t.status){const e=document.createElement("div");e.className="dashboard-card-status",e.textContent=t.status,l.appendChild(e)}if(o.appendChild(l),r.appendChild(o),null!==t.hpInfo){const e=document.createElement("div");e.className="dashboard-card-hp";const o=document.createElement("div");o.className="dashboard-card-hp-fill",o.style.width=t.hpInfo+"%",t.hpInfo>70?o.style.backgroundColor="#5cb85c":t.hpInfo>30?o.style.backgroundColor="#f0ad4e":o.style.backgroundColor="#d9534f",e.appendChild(o),r.appendChild(e)}if(t.isPNJ){const t=document.createElement("span");t.className="dashboard-card-pnj",t.textContent="PNJ",r.appendChild(t)}if(t.actionsDiv){const e=document.createElement("div");e.className="dashboard-card-actions",t.actionsDiv.querySelectorAll("a").forEach(t=>{e.appendChild(t.cloneNode(!0))}),r.appendChild(e)}return r}(e,t.isMyGroup))}),o.appendChild(i),r.appendChild(o)}),t.innerHTML="",t.appendChild(r))}var C;function S(){const t={Jouer:"jouer/plateau","Règles":"regles/avancees",Monde:"monde/evenements","Communauté":"communaute/membres"};let e=null;const r=document.body.classList.contains("mobile-mode");if(document.querySelectorAll(".navbar-nav .dropdown > a.dropdown-toggle").forEach(o=>{const a=o.textContent.trim().replace(/\s*\n.*$/,"");if(a.startsWith("Forum")&&!a.includes("HRP")&&!a.includes("RP"))return void(e=o.closest("li.dropdown"));const n=Object.keys(t).find(t=>a.includes(t));n&&t[n]&&(o.href=t[n],r?o.setAttribute("data-toggle","dropdown"):(o.removeAttribute("data-toggle"),o.hasAttribute("data-nav-modified")||(o.setAttribute("data-nav-modified","true"),o.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))))}),e&&!document.querySelector("[data-forums-added]")){const t=e.querySelector(".dropdown-menu"),o=document.createElement("li");o.className="dropdown",o.setAttribute("data-forums-added","rp"),o.innerHTML='\n        <a href="forum/rp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Forum RP <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu" role="menu">\n          <li><a href="forum/rp/taverne-10101">Taverne</a></li>\n          <li><a href="forum/rp/marche-10102">Marché</a></li>\n          <li><a href="forum/rp/monde-10103">Monde</a></li>\n          <li class="divider"></li>\n          <li><a href="forum/rp">Autre</a></li>\n        </ul>\n      ';const a=document.createElement("li");if(a.className="dropdown",a.setAttribute("data-forums-added","hrp"),a.innerHTML='\n        <a href="forum/hrp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Forum HRP <span class="caret"></span>\n        </a>\n      ',t){const e=t.cloneNode(!0),r=Array.from(e.querySelectorAll("li > a")).find(t=>t.textContent.includes("Jeu (RP)"));r&&r.parentElement&&r.parentElement.remove(),a.appendChild(e)}if(e.parentElement&&(e.parentElement.insertBefore(o,e),e.parentElement.insertBefore(a,e)),e.remove(),r){const t=o.querySelector("a.dropdown-toggle");t&&t.setAttribute("data-toggle","dropdown");const e=a.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")}else{const t=o.querySelector("a.dropdown-toggle");t&&(t.removeAttribute("data-toggle"),t.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}));const e=a.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))}const n=o.parentElement;if(n&&!document.querySelector('[data-forums-added="forum-communaute"]')){let e=!1;t&&(e=!!Array.from(t.querySelectorAll("li > a")).find(t=>t.textContent.toLowerCase().includes("staff")));const o=document.createElement("li");o.className="dropdown",o.setAttribute("data-forums-added","forum-communaute"),o.innerHTML='\n          <a href="forum/communaute" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n            Forum Communauté <span class="caret"></span>\n          </a>\n          <ul class="dropdown-menu" role="menu">\n            <li><a href="forum/communaute">Voir tous les sujets</a></li>\n          </ul>\n        ';const i=document.createElement("li");i.className="dropdown",i.setAttribute("data-forums-added","forum-debats"),i.innerHTML='\n          <a href="forum/debats" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n            Forum Débats <span class="caret"></span>\n          </a>\n          <ul class="dropdown-menu" role="menu">\n            <li><a href="forum/debats">Voir tous les sujets</a></li>\n          </ul>\n        ';let l=null;if(e&&(l=document.createElement("li"),l.className="dropdown",l.setAttribute("data-forums-added","forum-staff"),l.innerHTML='\n            <a href="forum/staff" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n              Forum Staff <span class="caret"></span>\n            </a>\n            <ul class="dropdown-menu" role="menu">\n              <li><a href="forum/staff">Voir tous les sujets</a></li>\n            </ul>\n          '),n.insertBefore(o,a.nextSibling),n.insertBefore(i,o.nextSibling),l&&n.insertBefore(l,i.nextSibling),r){const t=[o,i];l&&t.push(l),t.forEach(t=>{const e=t.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")})}else{const t=[o,i];l&&t.push(l),t.forEach(t=>{const e=t.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))})}}}const o=Array.from(document.querySelectorAll(".navbar-nav > li.dropdown")).find(t=>t.querySelector("a.dropdown-toggle")?.textContent.includes("Communauté")&&!t.getAttribute("data-forums-added"));if(o&&!document.querySelector("[data-stats-menu-added]")){const t=document.createElement("li");if(t.className="dropdown",t.setAttribute("data-stats-menu-added","true"),t.innerHTML='\n        <a href="monde/citoyens" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Statistiques <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu" role="menu">\n          <li><a href="communaute/stats">Communautés</a></li>\n          <li><a href="monde/citoyens">Citoyens</a></li>\n        </ul>\n      ',o.parentElement&&o.parentElement.insertBefore(t,o.nextSibling),r){const e=t.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")}else{const e=t.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))}}}function L(){const t=[{text:"Membres actifs",cls:"kr-icon-members"},{text:"Personnages actifs",cls:"kr-icon-characters"},{text:"Personnes en ligne",cls:"kr-icon-online"},{text:"Présentation",cls:"kr-icon-presentation"},{text:"Médailles",cls:"kr-icon-medals"}];t.forEach(t=>document.querySelectorAll("."+t.cls).forEach(e=>e.classList.remove(t.cls)));const e=new Array(t.length).fill(null);let r=0;const o=document.querySelectorAll("a, p, h3, h4, div, span, li, td");for(const a of o){const o=(a.textContent||"").trim();if(!o)continue;const n=o.length;for(let i=0;i<t.length;i++){if(!o.includes(t[i].text))continue;const l=(a.querySelector("i.fa, i.falarge, .glyphicon, svg")?100:0)+Math.max(0,200-Math.min(n,200));(!e[i]||l>e[i].score)&&(e[i]||r++,e[i]={el:a,score:l})}if(r>=t.length)break}for(let r=0;r<t.length;r++)e[r]?.el&&e[r].el.classList.add(t[r].cls)}function A(){Array.from(document.querySelectorAll("a")).filter(t=>"MC"===(t.textContent||"").trim()).forEach(t=>{t.classList.add("kr-mc-icon");const e=t.getAttribute("data-original-title")||t.getAttribute("title")||(t.classList.contains("open")?"ouvrir le mini-chat":"fermer le mini-chat");e&&t.setAttribute("aria-label",e),t.removeAttribute("aria-hidden")})}function q(){const t=document.querySelector(".navbar-brand");if(!t)return;const e=c(),r=n.LOGO_MAP[e]||1,o=`http://img7.kraland.org/2/world/logo${r}.gif`,a=t.querySelector("img.kr-logo");if(a?.src?.includes(`logo${r}.gif`))return;t.innerHTML="";const i=document.createElement("img");i.className="kr-logo",i.src=o,i.alt="Kraland",i.style.height="28px",i.style.verticalAlign="middle",t.appendChild(i)}function T(){const t={"s1.gif":"♂","s2.gif":"♀","s3.gif":"⚧"};Array.from(document.querySelectorAll("img")).filter(t=>/img7\.kraland\.org\/.+\/(s[123]\.gif)$/.test(t.src)).forEach(e=>{const r=e.src.match(/(s[123]\.gif)$/),o=r?.[1],a=t[o]||"",n=document.createElement("span");if(n.className="kr-symbol kr-symbol-"+(o||"s"),n.setAttribute("aria-hidden","true"),n.textContent=a,e.alt){const t=document.createElement("span");t.className="kr-sr-only",t.textContent=e.alt,n.appendChild(t)}if(e.closest('[id*="sex"]')){const t=document.createElement("strong");t.appendChild(n),e.replaceWith(t)}else e.replaceWith(n)})}function z(){document.querySelectorAll("span.btn-group-xs").forEach(t=>{const e=t.parentElement;if(!e)return;const r=e.querySelector("strong");if(r&&r.parentElement===e&&t.nextElementSibling!==r)return void e.insertBefore(t,r);const o=Array.from(e.childNodes).find(t=>3===t.nodeType&&t.textContent?.trim().length>0);o&&t.nextSibling!==o&&e.insertBefore(t,o)})}function N(){document.querySelectorAll('[id*="ajax-sex"]').forEach(t=>{if(t.querySelector("strong"))return;const e=t.querySelector(".kr-symbol");if(e&&e.parentElement){const t=document.createElement("strong");return e.parentElement.replaceChild(t,e),void t.appendChild(e)}const r=Array.from(t.childNodes).find(t=>3===t.nodeType&&t.textContent?.trim().length>0);if(r&&r.parentElement){const t=r.textContent.trim(),e=document.createElement("strong");e.textContent=t,r.textContent=r.textContent.replace(t,""),r.parentElement.insertBefore(e,r.nextSibling)}})}function M(){const t=document.querySelector("footer, .footer, .contentinfo");if(!t)return;null!==t.nextSibling&&document.body.appendChild(t);const e=['a[href="#top"]',"a.to-top",".back-to-top",".scroll-top","a.well.well-sm"];let r=null;for(const t of e)if(r=document.querySelector(t),r)break;if(r){r.classList.add("kraland-back-to-top"),r.getAttribute("aria-label")||r.setAttribute("aria-label","Remonter en haut");const e=t.querySelector(".container.white");e?e.appendChild(r):r.parentElement!==t&&t.appendChild(r)}document.body.style.marginBottom||(document.body.style.marginBottom="60px")}function _(){const e=document.querySelector("footer, .footer, .contentinfo");if(!e)return;let r=e.querySelector(".kraland-css-version");r||(r=document.createElement("div"),r.className="kraland-css-version",r.style.cssText="text-align: center; padding: 10px; font-size: 12px; color: #666;",(e.querySelector(".container.white")||e).appendChild(r));const o=t;r.innerHTML=`<span>CSS : version courante <strong>${o}</strong>, dernière version <span id="latest-version">chargement...</span></span>`,fetch("https://raw.githubusercontent.com/arnaudroubinet/kraland-css/refs/heads/main/version.json").then(t=>{if(!t.ok)throw new Error("Fetch failed");return t.json()}).then(t=>{const e=document.getElementById("latest-version");e&&(e.innerHTML=`<strong>${t.version}</strong>`,t.version!==o&&(e.innerHTML+=' <span style="color: #d9534f;">⚠️ (mise à jour disponible)</span>'))}).catch(t=>{const e=document.getElementById("latest-version");e&&(e.textContent="erreur")})}function I(){if(window.location.pathname.includes("/kramail"))return;const t=document.getElementById("col-t"),e=document.getElementById("col-left");if(!t||!e)return;t.querySelectorAll('a[href*="kramail"]').forEach(e=>{const r=e.closest("div,section,li,article");r&&r!==t&&"col-t"!==r.id?r.remove():e.remove()});const r=[".ds_users",".ds_characters",".ds_online"].map(t=>`a${t}`);let o=[];if(r.forEach(e=>o.push(...t.querySelectorAll(e))),o.length<3&&["Membres actifs","Personnages actifs","Personnes en ligne"].forEach(e=>{const r=Array.from(t.querySelectorAll("a, li, div, p")).find(t=>t.textContent?.includes(e));r&&!o.includes(r)&&o.push(r)}),o=o.filter(t=>t&&!e.contains(t)),!o.length)return;let a=e.querySelector(".kraland-metrics");a||(a=document.createElement("div"),a.className="kraland-metrics list-group",e.appendChild(a)),o.forEach(t=>a.appendChild(t))}function P(){if(!g())return;const t=document.getElementById("col-left"),e=document.getElementById("col-right");if(!t||!e)return;const r=t.parentElement;if(!r||!r.classList.contains("row"))return;let o=document.getElementById("col-leftest");o||(o=document.createElement("div"),o.id="col-leftest",o.className="col-md-1",r.insertBefore(o,t)),e.classList.contains("col-md-9")&&(e.classList.remove("col-md-9"),e.classList.add("col-md-8"))}function j(){if(!g())return;const t=document.querySelector(".btn-group-xs.center"),e=document.getElementById("col-leftest");if(!t||!e||e.contains(t))return;let r=document.getElementById("col-leftest-stats");r||(r=document.createElement("div"),r.id="col-leftest-stats",r.className="panel panel-body",e.appendChild(r)),r.contains(t)||r.appendChild(t)}function B(){const t=document.getElementById("col-leftest-stats"),e=document.getElementById("skills-panel");if(t&&!t.classList.contains("grid-transformed")){const e=t.querySelector(".btn-group-xs");if(e){const r=Array.from(e.querySelectorAll("a.btn"));if(r.length>0){t.innerHTML="";const e=document.createElement("div");e.className="row",r.forEach(t=>{const r=document.createElement("div");r.className="col-md-6",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.marginBottom="8px",r.appendChild(t),e.appendChild(r)}),t.appendChild(e),t.classList.add("grid-transformed")}}}if(e&&!e.classList.contains("grid-transformed")){const t=Array.from(e.querySelectorAll("a.list-group-item"));if(t.length>0){e.innerHTML="";const r=document.createElement("div");r.className="row",t.forEach(t=>{const e=document.createElement("div");e.className="col-md-6",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.marginBottom="8px",e.appendChild(t),r.appendChild(e)}),e.appendChild(r),e.classList.add("grid-transformed")}}}function D(){const t=document.getElementById("col-left"),e=document.getElementById("col-leftest");if(!t||!e)return;const r=t.querySelector(".panel.panel-default");if(!r)return;const o=r.querySelector(".panel-body");o&&!o.id&&(o.id="skills-panel",e.appendChild(o),r.remove())}function H(){const t=document.getElementById("col-left");if(!t)return;const e=t.querySelector(".panel.panel-body");e&&!e.id&&(e.id="player-main-panel");const r=t.querySelector(".list-group");r&&!r.id&&(r.id="player-header-section");const o=t.querySelector("div.t.row");o&&!o.id&&(o.id="player-vitals-section");const a=Array.from(t.querySelectorAll("div.t"));if(a.length>0){const t=a[a.length-1];!t.id&&t.querySelector("a.btn-primary")&&(t.id="player-actions-section")}}function O(){const t=document.getElementById("skills-panel");t&&!t.dataset.iconsTransformed&&(t.querySelectorAll(".list-group-item").forEach(t=>{const e=t.querySelector(".list-group-item-heading"),r=e?.querySelector(".mini")?.textContent||"",o=t.querySelector(".mention")?.textContent||"0",a=n.SKILL_ICONS[r];if(!a)return;const i=`http://img7.kraland.org/2/mat/94/${a}.gif`,l=t.className;t.className=l+" btn btn-default mini",t.innerHTML="";const d=function(t,e,r){const o=document.createElement("div");Object.assign(o.style,{position:"relative",display:"inline-block",width:"32px",height:"32px"});const a=document.createElement("img");return a.src=t,a.alt=e,a.title=e,Object.assign(a.style,{width:"32px",height:"32px",display:"block"}),o.appendChild(a),o.appendChild(function(t){const e=document.createElement("span");return e.className="badge",e.textContent=t,Object.assign(e.style,{position:"absolute",top:"25px",right:"-8px",backgroundColor:"#d9534f",color:"#fff",borderRadius:"50%",width:"19px",height:"19px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #fff"}),e}(r)),o}(i,r,o);Object.assign(t.style,{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",width:"40px",height:"40px",minWidth:"40px",minHeight:"40px"}),t.appendChild(d)}),t.dataset.iconsTransformed="1")}function F(){const t=document.getElementById("col-leftest-stats");t&&!t.dataset.badgesTransformed&&(t.querySelectorAll(".col-md-6 > a.btn").forEach(t=>{const e=t.textContent.trim(),r=e.match(/^([A-Z]+)/),o=r?r[1]:e,a=e.match(/(\d+)$/),i=a?a[1]:"0";for(;t.firstChild;)t.removeChild(t.firstChild);const l=t.className;t.className=l+" list-group-item ds_game",Object.assign(t.style,{padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",minWidth:"40px",minHeight:"40px"}),t.title=o;const d=s(),p=document.createElement("div");if(Object.assign(p.style,{position:"relative",display:"inline-block",width:"32px",height:"32px"}),"text"===d){const t=document.createElement("span");t.textContent=o.substring(0,3).toUpperCase(),Object.assign(t.style,{fontWeight:"bold",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"}),p.appendChild(t)}else{const t=n.STAT_ICONS[o];if(t){const e=`http://img7.kraland.org/2/mat/94/${t}.gif`,r=document.createElement("img");r.src=e,r.alt=o,r.title=o,Object.assign(r.style,{display:"block",width:"32px",height:"32px"}),p.appendChild(r)}else{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","32"),t.setAttribute("height","32"),t.setAttribute("viewBox","0 0 32 32"),t.style.display="block";const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("width","32"),e.setAttribute("height","32"),e.setAttribute("fill","#f0f0f0"),e.setAttribute("stroke","#ccc"),t.appendChild(e);const r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x","16"),r.setAttribute("y","20"),r.setAttribute("text-anchor","middle"),r.setAttribute("font-size","14"),r.setAttribute("font-weight","bold"),r.setAttribute("fill","#333"),r.textContent=o.substring(0,2).toUpperCase(),t.appendChild(r),p.appendChild(t)}}p.appendChild(function(t){const e=document.createElement("span");return e.className="badge",e.textContent=t,Object.assign(e.style,{position:"absolute",top:"25px",right:"-8px",backgroundColor:"#007bff",color:"#fff",borderRadius:"50%",width:"19px",height:"19px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #fff"}),e}(i)),t.appendChild(p)}),t.dataset.badgesTransformed="1")}function R(){document.querySelectorAll(['[id^="ajax-"] form#msg','[id^="ajax-"] textarea',".col-sm-10 form#msg",".col-sm-10 textarea#message",'form[name="post_msg"]',"textarea#message"].join(",")).forEach(t=>{const e="form"===t.tagName?.toLowerCase()?t:t.closest("form")||t.parentElement;e&&!e.classList.contains("editeur-text")&&e.classList.add("editeur-text")})}function V(){const t=0===location?.pathname?.indexOf("/communaute/membres");document.documentElement.classList.toggle("kr-page-members",t)}function Y(){const t=document.getElementById("player-main-panel");t&&Array.from(t.children).filter(t=>"div"===t.tagName?.toLowerCase()).filter(t=>!t.classList.contains("kr-quick-access-buttons")).forEach(t=>{t.classList.contains("row")||t.classList.add("row")})}function K(){const t=document.getElementById("player-main-panel");if(!t)return;if(t.querySelector(".kr-quick-access-buttons"))return;const e=document.createElement("div");e.className="kr-quick-access-buttons",e.style.marginTop="10px";const r=document.createElement("div");r.className="row",[{label:"Agir",url:"/jouer/plateau",icon:"fa-map"},{label:"Matériel",url:"/jouer/materiel",icon:"fa-box"},{label:"Personnage",url:"/jouer/perso",icon:"fa-user"},{label:"Bâtiments",url:"/jouer/bat",icon:"fa-building"},{label:"Employés",url:"/jouer/pnj",icon:"fa-users"}].forEach(t=>{const e=document.createElement("div");e.className="col-xs-6 col-sm-6";const o=document.createElement("a");o.href=t.url,o.className="btn btn-default btn-block mini";const a=document.createElement("i");a.className=`fa ${t.icon}`,o.appendChild(a),o.appendChild(document.createTextNode(" "+t.label)),e.appendChild(o),r.appendChild(e)}),e.appendChild(r),t.appendChild(e)}function W(){if(document.getElementById("kr-toggle-css-btn"))return;const t=Array.from(document.querySelectorAll("a")).find(t=>t.getAttribute("onclick")?.includes("openMap"));if(!t)return;const e=t.closest("li");if(!e?.parentElement)return;const r=document.createElement("li"),o=document.createElement("a");o.href="",o.id="kr-toggle-css-btn",o.innerHTML='<i class="fa fa-palette"></i>',o.title=m()?"Désactiver la surcharge CSS":"Activer la surcharge CSS",o.addEventListener("click",t=>(t.preventDefault(),m()?x("disable"):x(c()),!1)),r.appendChild(o),e.parentElement&&e.parentElement.insertBefore(r,e)}function G(){if(location?.href?.includes("/profil/interface")&&!t()){let e=0;const r=setInterval(()=>{e++,(t()||e>25)&&clearInterval(r)},200)}function t(){const t=Array.from(document.querySelectorAll("h4, h3, h2")).find(t=>t.textContent?.trim().toLowerCase().includes("thème de base"));if(!t)return!1;if(document.getElementById("kr-tamper-theme"))return!0;const e=[{value:"disable",flag:"f0",label:"Désactiver la surcharge CSS"},{value:"kraland",flag:"f1",label:"République de Kraland"},{value:"empire-brun",flag:"f2",label:"Empire Brun"},{value:"empire-brun-dark",flag:"f2",label:"Empire Brun (Dark Mode)"},{value:"paladium",flag:"f3",label:"Paladium Corporation"},{value:"paladium-dark",flag:"f3",label:"Paladium Corporation (Dark Mode)"},{value:"theocratie-seelienne",flag:"f4",label:"Théocratie Seelienne"},{value:"theocratie-seelienne-dark",flag:"f4",label:"Théocratie Seelienne (Dark Mode)"},{value:"paradigme-vert",flag:"f5",label:"Paradigme Vert"},{value:"paradigme-vert-dark",flag:"f5",label:"Paradigme Vert (Dark Mode)"},{value:"khanat-elmerien",flag:"f6",label:"Khanat Elmérien"},{value:"khanat-elmerien-dark",flag:"f6",label:"Khanat Elmérien (Dark Mode)"},{value:"confederation-libre",flag:"f7",label:"Confédération Libre"},{value:"confederation-libre-dark",flag:"f7",label:"Confédération Libre (Dark Mode)"},{value:"royaume-ruthvenie",flag:"f8",label:"Royaume de Ruthvénie"},{value:"royaume-ruthvenie-dark",flag:"f8",label:"Royaume de Ruthvénie (Dark Mode)"}].map(t=>`\n        <div class="radio">\n          <span class="lefticon"><img src="http://img7.kraland.org/2/world/${t.flag}.png" width="15" height="10"></span>\n          <label><input type="radio" name="kr-theme" value="${t.value}"> ${t.label}</label>\n        </div>\n      `).join(""),r=document.createElement("div");r.id="kr-tamper-theme",r.className="well kr-tamper-theme",r.innerHTML=`\n        <h4>Thème Tampermonkey (Activez le thème de base officiel pour éviter les conflits)</h4>\n        <form id="kr-tamper-theme-form" class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Choix du thème</label>\n            <div class="col-sm-9">${e}</div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Affichage des caractéristiques</label>\n            <div class="col-sm-9">\n        <div class="radio">\n          <label><input type="radio" name="kr-stats-display" value="icon"> Icônes</label>\n        </div>\n        <div class="radio">\n          <label><input type="radio" name="kr-stats-display" value="text"> Texte</label>\n        </div>\n      </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Options du footer</label>\n            <div class="col-sm-9">\n        <div class="checkbox">\n          <label><input type="checkbox" name="kr-hide-quote" id="kr-hide-quote"> Masquer la citation du footer</label>\n        </div>\n      </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Carte</label>\n            <div class="col-sm-9">\n              <div class="checkbox">\n                <label><input type="checkbox" name="kr-medieval-map" id="kr-medieval-map-checkbox"> Carte médiévale — remplace les tuiles de la carte</label>\n                <p class="help-block" style="margin-top:6px">Merci <a href="http://www.kraland.org/communaute/membres/sylke-1-3335" target="_blank" rel="noopener noreferrer">Sylke</a></p>\n              </div>\n            </div>\n          </div>\n        </form>\n      `,t.parentElement&&t.parentElement.insertBefore(r,t);const o=r.querySelector("#kr-tamper-theme-form");return o.addEventListener("change",t=>{if("kr-theme"===t.target.name){const t=o.querySelector('input[name="kr-theme"]:checked');if(!t)return;const e=t.value,a=document.createElement("div");a.className="alert alert-success",a.textContent="disable"===e?"Désactivation du thème...":"Application du thème: "+e,r.appendChild(a),setTimeout(()=>x(e),300)}if("kr-stats-display"===t.target.name){const t=o.querySelector('input[name="kr-stats-display"]:checked');if(!t)return;const e=t.value;p(n.STATS_DISPLAY_KEY,e);const a=document.createElement("div");a.className="alert alert-success",a.textContent="icon"===e?"Affichage en icônes activé. Rechargez la page pour voir les changements.":"Affichage en texte activé. Rechargez la page pour voir les changements.",r.appendChild(a),setTimeout(()=>{a.remove()},5e3)}if("kr-hide-quote"===t.target.name){const e=t.target.checked;localStorage.setItem("kr-hide-footer-quote",e.toString()),e?document.documentElement.classList.add("kr-hide-footer-quote"):document.documentElement.classList.remove("kr-hide-footer-quote");const o=document.createElement("div");o.className="alert alert-success",o.textContent=e?"Citation du footer masquée.":"Citation du footer affichée.",r.appendChild(o),setTimeout(()=>{o.remove()},3e3)}if("kr-medieval-map"===t.target.name){const e=t.target.checked;p(n.MEDIEVAL_MAP_KEY,e.toString());const o=document.createElement("div");o.className="alert alert-success",o.textContent=e?"Carte médiévale activée. Application...":"Carte médiévale désactivée.",r.appendChild(o),u(),setTimeout(()=>o.remove(),3e3)}}),function(){if(m()){const t=c(),e=o.querySelector(`input[value="${t}"]`);e&&(e.checked=!0)}else{const t=o.querySelector('input[value="disable"]');t&&(t.checked=!0)}const t=s(),e=o.querySelector(`input[name="kr-stats-display"][value="${t}"]`);e&&(e.checked=!0);const r="true"===localStorage.getItem("kr-hide-footer-quote"),a=o.querySelector("#kr-hide-quote");a&&(a.checked=r);const i="true"===d(n.MEDIEVAL_MAP_KEY),l=o.querySelector("#kr-medieval-map-checkbox");l&&(l.checked=i)}(),!0}}function J(){const t=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&t.classList?.contains("bootbox")&&setTimeout(()=>{!function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;(function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;if(t.dataset.structureTransformed)return;const e=t.querySelector(".bootbox-body, .modal-body");if(!e)return;const r=e.querySelector(".row"),o=e.querySelector("h3");r&&o&&(r.classList.add("kraland-modal-header"),o.classList.add("kraland-character-title"));const a=e.querySelector(".panel.with-nav-tabs");if(a){const t=a.querySelector(".panel-heading");t&&t.classList.add("kraland-actions-zone");const e=a.querySelector(".panel-body.panel-order");e&&e.classList.add("kraland-form-zone");const r=a.querySelector(".panel-footer");r&&r.classList.add("kraland-action-footer")}const n=t.querySelector(".modal-footer");n&&n.classList.add("kraland-modal-footer");const i=e.querySelector(".panel-info");i&&(i.querySelectorAll(".row").forEach(t=>{t.style.marginLeft="",t.style.marginRight=""}),i.querySelectorAll('[class*="col-"]').forEach(t=>{t.style.paddingLeft="",t.style.paddingRight=""})),t.dataset.structureTransformed="true"})(t),function(t,e){if(!t)return;const r=new MutationObserver(t=>{t.forEach(t=>{if("attributes"===t.type&&"class"===t.attributeName){const e=t.target;if(e.classList.contains("dropdown")&&e.classList.contains("open")){const t=e.querySelector(".dropdown-menu");t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("bottom","100%","important"),t.style.setProperty("top","auto","important"),t.style.setProperty("left","0","important"),t.style.setProperty("margin-bottom","4px","important"),t.style.setProperty("z-index","10000","important"))}}})}),o=t.querySelector(".btn-toolbar");o&&(o.querySelectorAll(".dropdown").forEach(t=>{r.observe(t,{attributes:!0,attributeFilter:["class"]})}),e&&e.push(r))}(t,e),X(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".alert");if(!e)return;const r=document.createElement("button");r.type="button",r.className="kr-alert-toggle",r.innerHTML='<i class="fas fa-question-circle"></i> Aide',r.setAttribute("aria-expanded","false"),r.setAttribute("aria-label","Afficher/masquer l'aide");const o=document.createElement("div");for(o.className="kr-alert-content",o.style.display="none";e.firstChild;)o.appendChild(e.firstChild);e.appendChild(r),e.appendChild(o),e.classList.add("kr-alert-collapsible"),r.addEventListener("click",function(){const t="none"!==o.style.display;o.style.display=t?"none":"block",r.setAttribute("aria-expanded",!t),r.innerHTML=t?'<i class="fas fa-question-circle"></i> Aide':'<i class="fas fa-times-circle"></i> Masquer l\'aide'})}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;t.querySelectorAll(".nav.nav-tabs li a").forEach(e=>{e.classList.add("kr-touch-feedback"),e.addEventListener("click",function(){t.querySelectorAll(".nav.nav-tabs li").forEach(t=>t.classList.remove("active")),this.parentElement.classList.add("active")})})}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector("textarea#message");e&&(e.rows=8,e.addEventListener("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}))}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-action-footer p");if(!e)return;const r=e.textContent,o=r.match(/Coût:\s*([^|]+)/),a=r.match(/Durée:\s*([^|]+)/),n=r.match(/Potentiel:\s*(.+)$/);if(!o&&!a&&!n)return;const i=`\n      <div class="kr-action-badges">\n        ${o?`<span class="kr-badge kr-badge-cost"><i class="fas fa-coins"></i> ${o[1].trim()}</span>`:""}\n        ${a?`<span class="kr-badge kr-badge-duration"><i class="far fa-clock"></i> ${a[1].trim()}</span>`:""}\n        ${n?`<span class="kr-badge kr-badge-potential"><i class="fas fa-dice-d20"></i> ${n[1].trim()}</span>`:""}\n      </div>\n    `;e.innerHTML=i}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-modal-footer");if(!e)return;const r=e.querySelector(".btn-primary"),o=e.querySelector(".btn-default");r&&r.classList.add("kr-btn-primary-enhanced"),o&&o.classList.add("kr-btn-secondary-subtle")}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-modal-header select");if(!e)return;const r=Array.from(e.options);if(0===r.length)return;const o=[],a=[];if(r.forEach(t=>{const e=t.textContent;e.includes("PNJ")||e.includes("[")||e.match(/\d+ /)||e.includes("Garde")||e.includes("Esclave")?a.push(t):o.push(t)}),0!==o.length&&0!==a.length){if(e.innerHTML="",o.length>0){const t=document.createElement("optgroup");t.label="Personnages Joueurs",o.forEach(e=>t.appendChild(e)),e.appendChild(t)}if(a.length>0){const t=document.createElement("optgroup");t.label="Personnages Non-Joueurs",a.forEach(e=>t.appendChild(e)),e.appendChild(t)}}}(t),U(t);const e=[],r=t.querySelector(".bootbox-body, .modal-body");if(r){const o=new MutationObserver(()=>{U(t),X(t)});o.observe(r,{childList:!0,subtree:!0}),e.push(o)}!function(t){if(!t)return;t.querySelectorAll(".panel-info, .panel-primary, .panel-default").forEach(t=>{t.querySelectorAll(".panel-heading .row, .panel-body .row, .panel-actions .row, .panel-footer .row").forEach(t=>{const e=t.querySelectorAll('[class*="col-"]');if(e.length>0){const r=[];e.forEach(t=>{const e=t.textContent.trim(),o=t.innerHTML.trim();t.children.length>0?r.push(o):e&&r.push(e)});const o=document.createElement("div");o.className="col-xs-12 merged-columns",o.innerHTML=r.join(" "),e.forEach(t=>t.remove()),t.appendChild(o)}})})}(t);const o=t.querySelector('select[onchange*="perso"]');o&&function(t,e){const r=Array.from(e.options);if(r.length<=1)return;const o=e.selectedIndex,a=document.createElement("div");a.className="kr-char-selector";const n=document.createElement("button");n.type="button",n.className="kr-char-nav-btn",n.innerHTML="‹",n.disabled=0===o,n.setAttribute("aria-label","Personnage précédent");const i=document.createElement("div");i.className="kr-selector-current";const l=document.createElement("img");l.src=t.querySelector(".modal-header img")?.src||"",l.alt="Avatar";const d=document.createElement("span");d.className="kr-selector-current-name",d.textContent=r[o].text;const p=document.createElement("span");p.className="kr-selector-current-count",p.textContent=`${o+1}/${r.length}`,i.appendChild(l),i.appendChild(d),i.appendChild(p);const m=document.createElement("button");m.type="button",m.className="kr-char-nav-btn",m.innerHTML="›",m.disabled=o===r.length-1,m.setAttribute("aria-label","Personnage suivant"),a.appendChild(n),a.appendChild(i),a.appendChild(m),e.parentNode.insertBefore(a,e.nextSibling),n.addEventListener("click",()=>{e.selectedIndex>0&&(e.selectedIndex--,e.dispatchEvent(new Event("change")))}),m.addEventListener("click",()=>{e.selectedIndex<r.length-1&&(e.selectedIndex++,e.dispatchEvent(new Event("change")))})}(t,o),function(t){const e=t.querySelector(".modal-header");if(!e)return;const r=e.querySelector("div");if(!r)return;const o=Array.from(r.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim());if(0===o.length)return;const a=document.createElement("div");if(a.className="kr-char-description collapsed",o.slice(1).forEach(t=>{a.appendChild(t.cloneNode(!0)),t.remove()}),a.textContent.trim()){r.appendChild(a);const t=document.createElement("button");t.type="button",t.className="kr-char-expand-btn",t.innerHTML="▼",t.setAttribute("aria-label","Afficher/masquer description"),t.setAttribute("aria-expanded","false"),e.appendChild(t),t.addEventListener("click",()=>{a.classList.contains("collapsed")?(a.classList.remove("collapsed"),a.classList.add("expanded"),t.classList.add("expanded"),t.setAttribute("aria-expanded","true")):(a.classList.remove("expanded"),a.classList.add("collapsed"),t.classList.remove("expanded"),t.setAttribute("aria-expanded","false"))})}}(t),function(t,e){const r=t.querySelector(".nav-tabs");if(!r)return;const o=Array.from(r.querySelectorAll("li"));if(0===o.length)return;const a=document.createElement("div");a.className="kr-tabs-indicator",o.forEach((t,e)=>{const r=document.createElement("span");r.className="kr-tab-dot",t.classList.contains("active")&&r.classList.add("active"),a.appendChild(r)}),r.parentNode.insertBefore(a,r.nextSibling);const n=new MutationObserver(()=>{const t=o.findIndex(t=>t.classList.contains("active"));a.querySelectorAll(".kr-tab-dot").forEach((e,r)=>{e.classList.toggle("active",r===t)})});o.forEach(t=>{n.observe(t,{attributes:!0,attributeFilter:["class"]})}),e&&e.push(n);let i=0,l=0;r.addEventListener("touchstart",t=>{i=t.changedTouches[0].screenX},{passive:!0}),r.addEventListener("touchend",t=>{l=t.changedTouches[0].screenX,function(){const t=i-l;if(Math.abs(t)<50)return;const e=o.findIndex(t=>t.classList.contains("active"));t>0&&e<o.length-1?o[e+1].querySelector("a")?.click():t<0&&e>0&&o[e-1].querySelector("a")?.click()}()},{passive:!0});const d=()=>{const t=r.closest(".bootbox.modal"),e=t?.querySelectorAll(".nav-tabs")||[r];let o=null;for(const t of e)if(o=t.querySelector("li.active"),o){o.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});break}};setTimeout(d,100);const p=r.closest(".bootbox.modal");(p?.querySelectorAll(".nav-tabs")||[r]).forEach(t=>{Array.from(t.querySelectorAll("li")).forEach(t=>{t.querySelector("a")?.addEventListener("click",()=>{setTimeout(d,100)})})})}(t,e),function(t){t.querySelectorAll("textarea").forEach(t=>{const e=t.getAttribute("maxlength");if(!e)return;const r=document.createElement("div");r.className="kr-char-counter";const o=()=>{const o=e-t.value.length;r.textContent=`${o} caractères restants`,r.classList.remove("warning","error"),o<=0?r.classList.add("error"):o<=20&&r.classList.add("warning")};t.parentNode.insertBefore(r,t.nextSibling),t.addEventListener("input",o),o()})}(t),function(t){t.querySelectorAll(".kr-char-nav-btn, .kr-char-expand-btn, .nav-tabs a, .btn, .radio label").forEach(t=>{t.classList.add("kr-touch-feedback"),t.addEventListener("touchstart",()=>{t.classList.add("active"),navigator.vibrate&&navigator.vibrate(10)},{passive:!0}),t.addEventListener("touchend",()=>{setTimeout(()=>{t.classList.remove("active")},600)},{passive:!0}),t.addEventListener("touchcancel",()=>{t.classList.remove("active")},{passive:!0})})}(t),$(t).one("hidden.bs.modal",function(){e.forEach(t=>t.disconnect())})}(t)},150)})})});document.body&&t.observe(document.body,{childList:!0,subtree:!1})}function U(t){if(!t)return;if(!t.classList.contains("bootbox-confirm"))return;const e=t.querySelector(".panel-heading");e&&e.style.setProperty("display","block","important");const r=t.querySelectorAll(".panel-heading ul.nav-tabs");0!==r.length&&(r.forEach((t,e)=>{t.style.setProperty("display","grid","important"),t.style.setProperty("grid-template-columns","repeat(2, 1fr)","important"),t.style.setProperty("gap","12px","important"),t.style.setProperty("padding-left","0","important"),t.style.setProperty("justify-items","start","important"),t.style.setProperty("align-items","stretch","important"),t.style.setProperty("margin-bottom","12px","important"),t.style.setProperty("border-bottom","none","important"),t.style.setProperty("border-top","none","important"),t.style.setProperty("padding-top","0","important");let r="grid-pseudo-fix-"+e,o=document.getElementById(r);o||(o=document.createElement("style"),o.id=r,document.head.appendChild(o)),t.id||(t.id="order-modal-nav-"+e),o.textContent=`\n        #${t.id}::before,\n        #${t.id}::after {\n          display: none !important;\n          content: none !important;\n        }\n      `,t.querySelectorAll("li").forEach(t=>{t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("float","none","important"),t.style.setProperty("display","block","important"),t.style.setProperty("position","static","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("grid-column","auto","important"),t.style.setProperty("grid-row","auto","important"),t.style.setProperty("justify-self","stretch","important"),t.style.setProperty("align-self","stretch","important");const e=t.querySelector("a");e&&(e.style.setProperty("display","block","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("min-height","44px","important"),e.style.setProperty("padding","12px 16px","important"),e.style.setProperty("text-align","center","important"),e.style.setProperty("border-radius","8px","important"),e.style.setProperty("margin","0","important"),e.style.setProperty("box-sizing","border-box","important"))})}),setTimeout(()=>{r.forEach(t=>{t.style.setProperty("display","grid","important")})},100))}function X(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".btn-toolbar");e&&(Array.from(e.childNodes).forEach(t=>{t.nodeType===Node.TEXT_NODE&&/^\s*$/.test(t.textContent)&&e.removeChild(t)}),e.style.setProperty("display","grid","important"),e.style.setProperty("grid-template-columns","repeat(6, 1fr)","important"),e.style.setProperty("gap","4px","important"),e.querySelectorAll(".btn-group, .dropdown, span.dropdown").forEach(t=>{t.style.setProperty("display","contents","important")}),e.querySelectorAll(".btn, span.dropdown > a > .btn, .dropdown > a > .btn, span.dropdown button, .dropdown button").forEach(t=>{t.style.setProperty("width","100%","important"),t.style.setProperty("min-width","0","important"),t.style.setProperty("max-width","none","important")}))}function Q(){const t=document.querySelector(".c100");if(!t)return;const e=t.querySelector("span");if(!e)return;const r=e.textContent.trim().match(/^(\d{1,2}):(\d{2})$/);if(!r)return;const o=parseInt(r[1],10),a=parseInt(r[2],10);let n;if(n=o>=24?"#32CD32":o>=18?"#90EE90":o>=12?"#FFD700":o>=6?"#FF8C00":"#8B0000",t.style.setProperty("--clock-color",n),o>=24){t.setAttribute("data-second-lap","true");const e=o-24,r=Math.floor((60*e+a)/1440*100);t.className=t.className.replace(/\bp\d{1,3}\b/g,""),t.className+=" p"+r}else t.removeAttribute("data-second-lap")}function Z(){const t=window.innerWidth<768;t&&(function(){if(document.querySelector(".kr-mobile-overlay"))return;const t=document.createElement("div");t.className="kr-mobile-overlay",t.addEventListener("click",()=>{const e=document.getElementById("skills-panel");e&&e.classList.remove("mobile-open");const r=document.getElementById("flap");r&&r.classList.remove("mobile-open"),t.classList.remove("active")}),document.body.appendChild(t)}(),function(){if(!g())return;const t=document.getElementById("skills-panel");if(!t)return;const e=document.createElement("button");e.className="kr-mobile-skills-toggle btn btn-primary",e.innerHTML='<i class="fa fa-chart-bar"></i>',e.setAttribute("aria-label","Afficher les compétences"),e.onclick=()=>{t.classList.toggle("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.toggle("active")},document.body.appendChild(e);const r=document.createElement("button");r.className="kr-mobile-close",r.innerHTML="×",r.setAttribute("aria-label","Fermer"),r.onclick=()=>{t.classList.remove("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.remove("active")},t.insertBefore(r,t.firstChild)}(),function(){const t=document.getElementById("flap");if(!t)return;const e=document.querySelector('a[href*="#flap"]');if(e&&e.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("mobile-open");const r=document.querySelector(".kr-mobile-overlay");r&&r.classList.toggle("active")}),!t.querySelector(".kr-mobile-close")){const e=document.createElement("button");e.className="kr-mobile-close",e.innerHTML="×",e.setAttribute("aria-label","Fermer le mini-chat"),e.onclick=()=>{t.classList.remove("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.remove("active")};const r=t.querySelector(".panel-heading")||t.querySelector(".modal-header")||t.firstElementChild;r?(r.style.position="relative",r.appendChild(e)):t.insertBefore(e,t.firstChild)}}(),J(),document.body&&new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&t.classList?.contains("bootbox")&&function(t){const e=new MutationObserver(e=>{e.forEach(e=>{const r=t.querySelector(".panel.with-nav-tabs .panel-heading");if(!r)return;const o=r.querySelector(".nav-tabs > li.active");o&&setTimeout(()=>{const t=o.getBoundingClientRect(),e=r.getBoundingClientRect(),a=o.offsetLeft-e.width/2+t.width/2;r.scrollTo({left:Math.max(0,a),behavior:"smooth"})},100)})});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),$(t).one("hidden.bs.modal",function(){e.disconnect()})}(t)})})}).observe(document.body,{childList:!0,subtree:!1}),o.add(()=>{window.innerWidth<768!==t&&location.reload()},250))}!function(){try{if(!m())return;"loading"===document.readyState&&(document.documentElement.style.opacity="0");const t=document.createElement("style");t.id=n.STYLE_ID,t.textContent=n.BUNDLED_CSS,(document.head||document.documentElement).appendChild(t);const e=c();document.documentElement.classList.add("kr-theme-enabled","kr-theme-variant-"+e),"high-contrast"===e&&document.documentElement.classList.add("kr-theme-high-contrast")}catch(t){}}(),i(function(){if(!m())return;const t=n.STYLE_ID;let e=null;function r(){const e=document.head;if(!e)return;const r=document.getElementById(t);r&&e.lastElementChild!==r&&e.appendChild(r)}function o(){const o=document.head;o&&(e=new MutationObserver(function(e){for(let o=0;o<e.length;o++){const a=e[o].addedNodes;for(let e=0;e<a.length;e++){const o=a[e];if(o.id!==t&&("LINK"===o.nodeName||"STYLE"===o.nodeName))return void r()}}}),e.observe(o,{childList:!0}),r())}if(document.head)o();else{const t=new MutationObserver(function(){document.head&&(t.disconnect(),o())});t.observe(document.documentElement,{childList:!0})}function a(){!function(){const t=document.documentElement;"0"===t.style.opacity&&(r(),requestAnimationFrame(function(){requestAnimationFrame(function(){t.style.transition="opacity 0.15s ease-in",t.style.opacity="1",setTimeout(function(){t.style.transition="",t.style.opacity=""},200)})}))}(),setTimeout(function(){e&&(e.disconnect(),e=null)},2e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a,{once:!0}):a(),setTimeout(function(){"0"===document.documentElement.style.opacity&&(document.documentElement.style.opacity="",document.documentElement.style.transition="")},3e3)}),i(()=>u()),function(){const t="kr-forums-rp",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumRPMenu=function(){const e=document.querySelector('[data-forums-added="rp"] .dropdown-menu');if(!e)return;const r=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}(),o=Array.from(e.children).slice(0,4);if(e.innerHTML="",o.forEach(t=>e.appendChild(t)),r.length>0)r.forEach(t=>{const r=document.createElement("li"),o=document.createElement("a");o.href=t.url,o.textContent=t.name,r.appendChild(o),e.appendChild(r)});else{const t=document.createElement("li"),r=document.createElement("a");r.href="forum/rp",r.textContent="Autre",t.appendChild(r),e.appendChild(t)}},a.register("ForumsRP:Extract",function(){if("/forum/rp"!==window.location.pathname)return;const r=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const o=t.querySelector("td:first-child a");if(!o)return;const a=o.textContent.trim(),n=o.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&r.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(r))}catch(t){}},5)}(),function(){const t="kr-forums-hrp";window.updateForumHRPMenu=function(){const e=document.querySelector('[data-forums-added="hrp"] .dropdown-menu');if(!e)return;const r=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",r.length>0)r.forEach(t=>{const r=document.createElement("li"),o=document.createElement("a");o.href=t.url,o.textContent=t.name,r.appendChild(o),e.appendChild(r)});else{const t=document.createElement("li"),r=document.createElement("a");r.href="forum/hrp",r.textContent="Voir tous les forums",t.appendChild(r),e.appendChild(t)}},a.register("ForumsHRP:Extract",function(){if("/forum/hrp"!==window.location.pathname)return;const e=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const r=t.querySelector("td:first-child a");if(!r)return;const o=r.textContent.trim(),a=r.getAttribute("href");a&&e.push({name:o,url:a})});try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}},5)}(),function(){const t="kr-forums-communaute",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumCommunauteMenu=function(){const e=document.querySelector('[data-forums-added="forum-communaute"] .dropdown-menu');if(!e)return;const r=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",r.length>0)r.forEach(t=>{const r=document.createElement("li"),o=document.createElement("a");o.href=t.url,o.textContent=t.name,r.appendChild(o),e.appendChild(r)});else{const t=document.createElement("li"),r=document.createElement("a");r.href="forum/communaute",r.textContent="Voir tous les forums",t.appendChild(r),e.appendChild(t)}},a.register("ForumsCommunaute:Extract",function(){if("/forum/communaute"!==window.location.pathname)return;const r=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const o=t.querySelector("td:first-child a");if(!o)return;const a=o.textContent.trim(),n=o.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&r.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(r))}catch(t){}},5)}(),function(){const t="kr-forums-debats",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumDebatsMenu=function(){const e=document.querySelector('[data-forums-added="forum-debats"] .dropdown-menu');if(!e)return;const r=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",r.length>0)r.forEach(t=>{const r=document.createElement("li"),o=document.createElement("a");o.href=t.url,o.textContent=t.name,r.appendChild(o),e.appendChild(r)});else{const t=document.createElement("li"),r=document.createElement("a");r.href="forum/debats",r.textContent="Voir tous les forums",t.appendChild(r),e.appendChild(t)}},a.register("ForumsDebats:Extract",function(){if("/forum/debats"!==window.location.pathname)return;const r=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const o=t.querySelector("td:first-child a");if(!o)return;const a=o.textContent.trim(),n=o.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&r.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(r))}catch(t){}},5)}(),function(){const t="kr-forums-staff",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumStaffMenu=function(){const e=document.querySelector('[data-forums-added="forum-staff"] .dropdown-menu');if(!e)return;const r=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",r.length>0)r.forEach(t=>{const r=document.createElement("li"),o=document.createElement("a");o.href=t.url,o.textContent=t.name,r.appendChild(o),e.appendChild(r)});else{const t=document.createElement("li"),r=document.createElement("a");r.href="forum/staff",r.textContent="Voir tous les forums",t.appendChild(r),e.appendChild(t)}},a.register("ForumsStaff:Extract",function(){if("/forum/staff"!==window.location.pathname)return;const r=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const o=t.querySelector("td:first-child a");if(!o)return;const a=o.textContent.trim(),n=o.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&r.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(r))}catch(t){}},5)}(),function(){function t(){const t=document.querySelector("table.table tbody");if(!t)return;const e=Array.from(t.querySelectorAll("tr"));if(0===e.length)return;const r=document.createElement("div");r.className="forums-cards-container",r.setAttribute("role","list"),e.forEach((t,e)=>{try{const o=function(t,e){const r=t.querySelectorAll("td");if(r.length<3)return null;const o=r[0],a=o.querySelector("p:first-child a");if(!a)return null;const n=a.textContent.trim(),i=a.getAttribute("href"),l=o.querySelector("p:nth-child(2)"),d=l?l.textContent.trim():"",p=[];o.querySelectorAll("div, span").forEach(t=>{t.textContent.includes("Modérateur")&&t.querySelectorAll("a").forEach(t=>{const e=t.textContent.trim();e&&!e.includes("[mod]")&&p.push({name:e.replace(/\[.*?\]/g,"").trim(),url:t.getAttribute("href")})})});const m=r[1]?.textContent.trim().replace("·","").trim()||"0 sujets",c=r[2]?.textContent.trim()||"0 messages";let s="",b="",u="";if(r[3]){const t=r[3].textContent.trim(),e=r[3].querySelector("a");if(e){b=e.textContent.trim();const r=t.match(/(\w+.*?\(\d{2}:\d{2}\))/);u=r?r[1]:""}s=t.replace("→","").trim()}const g=document.createElement("article");g.className="forum-card",g.setAttribute("role","listitem"),g.setAttribute("data-forum-index",e);const h=document.createElement("a");h.href=i,h.className="forum-card-link",h.setAttribute("aria-label",`Accéder au forum ${n}`);let f=`\n        <div class="forum-card-header">\n          <h3 class="forum-title">${n}</h3>\n        </div>\n      `;return d&&(f+=`<p class="forum-description">${d}</p>`),p.length>0&&(f+=`<p class="forum-moderators">Mod: ${p.length>2?`${p[0].name}, ${p[1].name}...`:p.map(t=>t.name).join(", ")}</p>`),f+='<div class="forum-footer">',f+=`\n        <div class="forum-stats">\n          <span class="forum-topics">${m}</span>\n          <span class="forum-separator">·</span>\n          <span class="forum-messages">${c}</span>\n        </div>\n      `,s&&b&&(f+=`\n          <div class="forum-last-activity">\n            <span class="last-user">${b}</span>\n            <span class="last-time"> · ${u}</span>\n          </div>\n        `),f+="</div>",h.innerHTML=f,h.style.setProperty("display","flex","important"),h.style.setProperty("flex-direction","column","important"),h.style.setProperty("align-items","flex-start","important"),h.style.setProperty("justify-content","flex-start","important"),h.style.setProperty("width","100%","important"),g.appendChild(h),g}(t,e);o&&r.appendChild(o)}catch(t){}});const o=t.closest("table");o&&o.parentNode&&(o.parentNode.insertBefore(r,o),o.style.display="none",o.setAttribute("data-mobile-hidden","true"))}window.location.pathname.startsWith("/forum/")&&a.register("ForumCards:MobileTransform",function(){document.body.classList.contains("mobile-mode")&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t())},15)}(),a.register("MiniChat:FAB",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.getElementById("flap");if(!t)return;t.style.display="none",t.classList.add("mini-chat-overlay");const e=document.createElement("button");e.className="mini-chat-fab",e.innerHTML='<span class="fab-text">MC</span>',e.setAttribute("aria-label","Ouvrir le mini-chat"),e.setAttribute("type","button"),e.addEventListener("click",r=>{r.preventDefault(),"block"===t.style.display?(t.style.display="none",e.classList.remove("active"),document.body.style.overflow=""):(t.style.display="block",e.classList.add("active"),document.body.style.overflow="hidden")});const r=t.querySelector(".close-btn");r&&r.addEventListener("click",()=>{t.style.display="none",e.classList.remove("active"),document.body.style.overflow=""}),document.body.appendChild(e)},20),a.register("ForumTopics:FullTitles",function(){document.querySelectorAll("p.nomargin").forEach(t=>{const e=t.querySelector("span.invisible"),r=t.querySelector("a");if(e&&r){const t=e.textContent.trim();r.textContent.trim().includes("(...)")&&t&&(r.textContent=t)}})},5),a.register("ForumTopics:MobileStats",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!document.body.classList.contains("page-forum"))return;const t=document.getElementById("topics");function e(){const e=t.querySelectorAll("tbody tr");0!==e.length&&e.forEach(t=>{if(t.hasAttribute("data-stats-added"))return;t.setAttribute("data-stats-added","true");const e=t.querySelector("td:nth-child(1)"),r=t.querySelector("td:nth-child(2)"),o=t.querySelector("td:nth-child(3)");if(!e||!r||!o)return;const a=e.querySelector("ul:first-of-type li a"),n=e.querySelector("p > a");a&&n&&(n.href=a.href,n.setAttribute("data-smart-redirect","first-unread")),n&&(t.style.cursor="pointer",t.addEventListener("click",t=>{"A"===t.target.tagName||t.target.closest("a")||n.click()}));const i=r.textContent.trim(),l=o.textContent.trim(),d=document.createElement("div");d.className="forum-topic-stats-mobile",d.innerHTML=`\n            <i class="fa fa-comment" aria-hidden="true"></i> ${i}\n            <span class="stats-sep">·</span>\n            <i class="fa fa-eye" aria-hidden="true"></i> ${l}\n          `;const p=e.querySelector("p");p&&p.after(d)})}t&&(e(),"undefined"!=typeof jQuery&&jQuery(t).on("draw.dt",function(){e()}))},25),a.register("PermanentTopics:Icons",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelectorAll(".panel-default");0!==t.length&&t.forEach(t=>{t.querySelectorAll(".table tbody tr").forEach(t=>{if(t.hasAttribute("data-permanent-icons-added"))return;t.setAttribute("data-permanent-icons-added","true");const e=t.querySelectorAll("td");if(e.length<2)return;const r=e[1],o=e[2];if(!r||!o)return;const a=r.textContent.trim(),n=o.textContent.trim(),i=document.createElement("div");i.className="permanent-topic-stats",i.innerHTML=`\n            <i class="fa fa-comment" aria-hidden="true"></i> ${a}\n            <span style="margin: 0 4px;">·</span>\n            <i class="fa fa-eye" aria-hidden="true"></i> ${n}\n          `,i.style.cssText="\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            font-size: 11px;\n            color: var(--kr-text-secondary);\n            order: 2;\n            margin: 0 0 2px 0;\n          ",r.style.display="none",o.style.display="none";const l=e[0];l&&l.after(i)})})},25),a.register("ForumHeader:MobileBreadcrumb",function(){if(!document.body.classList.contains("mobile-mode"))return;if(window.location.pathname.includes("/kramail"))return;const t=document.querySelector(".container h1");if(!t)return;const e=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE)?.textContent.trim();if(!e)return;const r=t.querySelectorAll("a");if(r.length<2)return;const o=r[0],a=r[1],n=document.createElement("div");n.className="forum-mobile-breadcrumb",n.style.cssText="\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 12px;\n        margin-bottom: 16px;\n        font-size: 13px;\n        color: var(--kr-text-secondary);\n      ";const i=document.createElement("div");i.style.cssText="\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      ";const l=o.cloneNode(!0);l.style.cssText="\n        display: inline-flex;\n        align-items: center;\n        gap: 4px;\n        color: var(--kr-text-secondary);\n        text-decoration: none;\n        font-weight: 400;\n        background: none;\n        padding: 0;\n        border: none;\n        border-radius: 0;\n      ";const d=document.createElement("span");d.textContent="›",d.style.cssText="\n        color: var(--kr-text-secondary);\n        font-size: 13px;\n        margin: 0 2px;\n      ";const p=document.createElement("span");p.textContent=e,p.style.cssText="\n        color: var(--kr-text-secondary);\n        font-weight: 400;\n      ",i.appendChild(l),i.appendChild(d),i.appendChild(p);const m=document.createElement("a");m.href=a.href,m.className="forum-new-topic-fab",m.setAttribute("aria-label","Nouveau sujet"),m.innerHTML='<span style="font-size: 24px; font-weight: 300; line-height: 1;">+</span>',m.style.cssText="\n        width: 44px;\n        height: 44px;\n        min-width: 44px;\n        border-radius: 50%;\n        background: var(--kr-primary);\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n        text-decoration: none;\n        transition: all 0.2s ease;\n      ",m.addEventListener("touchstart",function(){this.style.transform="scale(0.92)",this.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.3)"}),m.addEventListener("touchend",function(){this.style.transform="scale(1)",this.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"}),n.appendChild(i),n.appendChild(m),t.innerHTML="",t.style.cssText="\n        margin: 12px 16px !important;\n        padding: 0 !important;\n        background: transparent !important;\n      ",t.appendChild(n)},25),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/kramail"))return;const t=document.querySelector("h1.page-header"),e=document.getElementById("col-left");if(!t||!e)return;const r=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE)?.textContent.trim();if(!r)return;const o=Array.from(e.querySelectorAll('a[href*="kramail/"]')).filter(t=>{const e=t.getAttribute("href");return e&&e.match(/kramail\/[^\/]+-\d+-\d+$/)}).map(t=>{let e="",o=t.previousElementSibling;for(;o;){if(o.classList&&o.classList.contains("list-group-subtitle")){e=o.textContent.trim();break}o=o.previousElementSibling}return{name:t.textContent.trim(),href:t.href,category:e,isActive:t.textContent.trim()===r}});if(0===o.length)return;if(1===o.length)return;const a=document.createElement("div");a.className="kramail-character-dropdown",a.style.cssText="\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background: var(--kr-bg-surface);\n        border: 1px solid var(--kr-border-default);\n        border-radius: var(--mobile-radius);\n        box-shadow: var(--kr-shadow-lg);\n        margin-top: 8px;\n        z-index: 1000;\n        display: none;\n        overflow: hidden;\n      ",o.forEach(t=>{const e=document.createElement("a");e.href=t.href,e.className="kramail-character-option",e.style.cssText="\n          display: flex;\n          flex-direction: column;\n          padding: 12px 16px;\n          min-height: 44px;\n          text-decoration: none;\n          color: var(--kr-text-primary);\n          border-bottom: 1px solid var(--kr-border-default);\n          transition: background var(--transition-fast);\n        ";const r=document.createElement("div");if(r.style.cssText=`\n          font-size: 16px;\n          font-weight: ${t.isActive?"600":"400"};\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        `,r.textContent=t.name,t.isActive){const t=document.createElement("span");t.textContent="✓",t.style.cssText="\n            color: var(--kr-primary);\n            font-weight: 700;\n          ",r.insertBefore(t,r.firstChild)}if(e.appendChild(r),t.category){const r=document.createElement("div");r.style.cssText="\n            font-size: 13px;\n            color: var(--kr-text-muted);\n            margin-top: 2px;\n          ",r.textContent=`(${t.category})`,e.appendChild(r)}e.addEventListener("touchstart",()=>{e.style.background="var(--kr-bg-active)"},{passive:!0}),e.addEventListener("touchend",()=>{e.style.background=""},{passive:!0}),e.addEventListener("mouseenter",()=>{e.style.background="var(--kr-bg-hover)"}),e.addEventListener("mouseleave",()=>{e.style.background=""}),a.appendChild(e)});const n=document.createElement("div");n.className="kramail-character-selector",n.style.cssText="\n        position: relative;\n        display: inline-flex;\n        align-items: center;\n        gap: 8px;\n        cursor: pointer;\n        user-select: none;\n        padding: 8px 12px;\n        margin: -8px -12px;\n        border-radius: var(--mobile-radius);\n        transition: background var(--transition-fast);\n      ";const i=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim()===r);if(!i)return;const l=document.createElement("span");l.textContent=r,l.style.fontWeight="700";const d=document.createElement("span");d.textContent="▼",d.className="kramail-dropdown-icon",d.style.cssText="\n        font-size: 12px;\n        transition: transform var(--transition-fast);\n        color: var(--kr-text-secondary);\n      ",n.appendChild(l),n.appendChild(d),n.appendChild(a),t.insertBefore(n,i),i.remove();let p=!1;const m=()=>{p&&(p=!1,a.style.display="none",d.style.transform="rotate(0deg)",n.style.background="")};n.addEventListener("click",t=>{t.stopPropagation(),p=!p,a.style.display=p?"block":"none",d.style.transform=p?"rotate(180deg)":"rotate(0deg)",n.style.background=p?"var(--kr-bg-hover)":""}),document.addEventListener("click",t=>{n.contains(t.target)||m()}),a.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{m()})})}a.register("Kramail:CharacterSwitcher",t,30),a.register("Kramail:CharacterSwitcher:Observer",function(){new MutationObserver(e=>{e.forEach(e=>{if("class"===e.attributeName){const e=document.body.classList.contains("mobile-mode"),r=document.querySelector(".kramail-character-selector");e&&!r&&window.location.pathname.includes("/kramail")&&t()}})}).observe(document.body,{attributes:!0,attributeFilter:["class"]})},31)}(),a.register("Kramail:MobileEnhancer",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/kramail"))return;const t=document.querySelector("h1.page-header .pull-right");if(!t)return;const e=document.querySelector("#topics thead .btn-group");if(!e)return;const r=e.cloneNode(!0);r.classList.add("kramail-actions-mobile"),t.appendChild(r);const o=r.querySelector(".dropdown-toggle");o&&(o.innerHTML='<i class="fas fa-ellipsis-v"></i>');const a=r.querySelector(".dropdown-menu");if(o&&a){o.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),r.classList.toggle("open")}),document.addEventListener("click",function(t){r.contains(t.target)||r.classList.remove("open")});const n=r.querySelector("#allbox");if(n){function i(t){document.querySelectorAll('input[type="checkbox"][name="c[]"]').forEach(function(e){e.checked=t});const e=document.querySelector("#allbox");e&&(e.checked=t)}n.removeAttribute("id"),n.setAttribute("name","allbox-mobile"),n.removeAttribute("onclick"),n.addEventListener("click",function(t){t.stopPropagation(),i(n.checked)});const l=n.closest("a");l&&l.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.checked=!n.checked,i(n.checked)})}r.querySelectorAll(".dropdown-menu li a").forEach(t=>{t.addEventListener("click",function(){setTimeout(function(){r.classList.remove("open")},200)})})}},32),a.register("Kramail:PostMobileEnhancer",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.match(/\/kramail\/post\//))return;const t=document.querySelector("h1.page-header"),e=document.querySelector(".forum-top");if(!t||!e)return;const r=e.querySelector(".pull-right");if(!r)return;const o=Array.from(r.querySelectorAll("a.btn"));if(0===o.length)return;const a=document.createElement("span");a.className="pull-right";const n=o.slice(0,4),i=o.slice(4);n.forEach(function(t){Array.from(t.childNodes).filter(function(t){return 3===t.nodeType}).forEach(function(t){t.textContent=""}),t.querySelector(".fa-backward")&&t.classList.add("btn-primary"),a.appendChild(t)});var l=document.createElement("div");l.className="btn-group kramail-post-kebab";var d=document.createElement("button");d.className="btn btn-default dropdown-toggle",d.type="button",d.innerHTML='<i class="fas fa-ellipsis-v"></i>';var p=document.createElement("ul");p.className="dropdown-menu dropdown-menu-right",p.setAttribute("role","menu");var m={"fa-exclamation-triangle":"Signaler","fa-times":"Supprimer","fa-envelope":"Nouveau message","fa-user":"Contacts"};i.forEach(function(t){var e=document.createElement("li"),r=document.createElement("a");r.href=t.getAttribute("href")||"#";var o=t.querySelector("i"),a=o?o.className:"",n="";Object.keys(m).forEach(function(t){-1!==a.indexOf(t)&&(n=m[t])}),r.innerHTML='<i class="'+a+'"></i> <span class="label-simple">'+n+"</span>",t.classList.contains("alertdel")&&r.classList.add("alertdel");var i=t.getAttribute("onclick");i&&r.setAttribute("onclick",i),e.appendChild(r),p.appendChild(e)}),l.appendChild(d),l.appendChild(p),a.appendChild(l),t.appendChild(a),d.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),l.classList.toggle("open")}),document.addEventListener("click",function(t){l.contains(t.target)||l.classList.remove("open")}),p.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(){setTimeout(function(){l.classList.remove("open")},200)})}),r.classList.add("kramail-actions-moved");var c=document.querySelector("ul.media-list.forum > li.media.well");if(c){c.classList.add("kramail-post-restructured");var s=c.querySelector(".pull-left"),b=c.querySelector(".media-body");if(s&&b){var u=s.querySelector("img.avatar"),g=u?u.src:"",h=u?u.alt:"",f=s.querySelector(".cartouche strong a"),x=f?f.textContent:h,y=f?f.href:"#",k=b.querySelector(".btn-group-xs .btn"),v="";k&&(v=k.textContent.replace("posté","").trim());var w=b.querySelector("p"),E=w?w.innerHTML:"",C=b.querySelector(".t"),S=C?C.innerHTML:"",L="";if(C){for(var A=C.nextSibling,q=[];A;)1===A.nodeType?q.push(A.outerHTML):3===A.nodeType&&A.textContent.trim()&&q.push(A.textContent),A=A.nextSibling;L=(L=q.join("")).replace(/^(<br\s*\/?>)*\s*___\s*(<br\s*\/?>)*/i,"").trim()}var T=document.createElement("div");T.className="kramail-msg-header",T.innerHTML='<img class="kramail-msg-avatar" src="'+g+'" alt="'+h+'"><div class="kramail-msg-header-info"><div class="kramail-msg-sender"><a href="'+y+'">'+x+'</a></div><div class="kramail-msg-date"><i class="fa fa-clock-o"></i> '+v+"</div></div>";var z=document.createElement("div");z.className="kramail-msg-recipients",z.innerHTML=E;var N=document.createElement("div");if(N.className="kramail-msg-body",N.innerHTML=S,L.length>5){var M=document.createElement("div");M.className="kramail-msg-signature",M.innerHTML=L,N.appendChild(M)}c.appendChild(T),c.appendChild(z),c.appendChild(N)}}},33),C="kr-kramail-plateau-url",a.register("Kramail:DefaultPlateau",function(){if(window.location.pathname.includes("/kramail")&&!localStorage.getItem(C))for(var t=document.querySelectorAll(".list-group-item"),e=!1,r=0;r<t.length;r++){var o=t[r],a=o.textContent.trim();if("LI"!==o.tagName||"Plateau"!==a)if("LI"!==o.tagName||"Compte Membre"!==a){if(e&&"A"===o.tagName&&o.getAttribute("href")){var n=o.getAttribute("href");if(n.match(/kramail\/[^/]+-\d+-\d+$/)){localStorage.setItem(C,n);break}}}else e=!1;else e=!0}var i=localStorage.getItem(C);if(i){var l=document.querySelector('.navbar-right a[href="kramail"]');l&&l.setAttribute("href",i)}},34),a.register("ForumThread:MobileBreadcrumb",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/forum/sujet/"))return;const t=document.querySelector(".container h1.page-header"),e=document.querySelectorAll(".forum-top");if(!t||0===e.length)return;const r=Array.from(t.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim()).map(t=>t.textContent.trim())[0];if(!r)return;const o=e[0],a=o.querySelector('a[href*="forum/rp/"], a[href*="forum/hrp/"]'),n=o.querySelector('a[href*="nouveau-sujet"]');if(!a||!n)return;const i=a.textContent.trim(),l=a.href;let d="Jeu (RP)",p="forum/rp";function m(t=!1){const e=document.createElement("div");e.className=t?"forum-thread-mobile-breadcrumb-bottom":"forum-thread-mobile-breadcrumb",e.style.cssText=`\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 12px;\n          ${t?"margin-top: 16px; margin-bottom: 16px; padding: 12px 16px;":"margin-bottom: 16px;"}\n          font-size: 13px;\n          color: var(--kr-text-secondary);\n        `;const o=document.createElement("div");o.style.cssText="\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          flex: 1;\n          min-width: 0;\n        ";const l=document.createElement("a");l.href=p,l.textContent=d,l.style.cssText="\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          color: var(--kr-text-secondary);\n          text-decoration: none;\n          font-weight: 400;\n          white-space: nowrap;\n        ";const m=document.createElement("span");m.textContent="›",m.style.cssText="\n          color: var(--kr-text-secondary);\n          font-size: 13px;\n          margin: 0 2px;\n          flex-shrink: 0;\n        ";const c=document.createElement("a");c.href=a.href,c.textContent=i,c.style.cssText="\n          color: var(--kr-text-secondary);\n          text-decoration: none;\n          font-weight: 400;\n          white-space: nowrap;\n        ";const s=document.createElement("span");s.textContent="›",s.style.cssText="\n          color: var(--kr-text-secondary);\n          font-size: 13px;\n          margin: 0 2px;\n          flex-shrink: 0;\n        ";const b=document.createElement("span");b.textContent=r,b.style.cssText="\n          color: var(--kr-text-secondary);\n          font-weight: 400;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          min-width: 0;\n        ",o.appendChild(l),o.appendChild(m),o.appendChild(c),o.appendChild(s),o.appendChild(b);const u=document.createElement("a");return u.href=n.href,u.className="forum-new-topic-fab",u.setAttribute("aria-label","Nouveau sujet"),u.innerHTML='<span style="font-size: 24px; font-weight: 300; line-height: 1;">+</span>',u.style.cssText="\n          width: 44px;\n          height: 44px;\n          min-width: 44px;\n          flex-shrink: 0;\n          border-radius: 50%;\n          background: var(--kr-primary);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n          text-decoration: none;\n          transition: all 0.2s ease;\n        ",u.addEventListener("touchstart",function(){this.style.transform="scale(0.92)",this.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.3)"}),u.addEventListener("touchend",function(){this.style.transform="scale(1)",this.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"}),e.appendChild(o),e.appendChild(u),e}l.includes("/forum/hrp/")&&(d="Jeu (HRP)",p="forum/hrp"),t.innerHTML="",t.style.cssText="\n        margin: 12px 16px !important;\n        padding: 0 !important;\n        background: transparent !important;\n      ",t.appendChild(m(!1)),e.forEach((t,e)=>{0!==e&&(t.innerHTML="",t.style.cssText="\n          margin: 0 !important;\n          padding: 0 !important;\n          background: transparent !important;\n          border: none !important;\n        ",t.appendChild(m(!0)))});const c=document.querySelector(".container h1.page-header + .row + .row .btn-group");c&&(c.style.display="none"),document.querySelectorAll('.forum-top a[href*="nouveau-sujet"], .forum-top a[href*="repondre"]').forEach(t=>{t.parentElement.style.display="none"})},25),a.register("ForumThread:HideTags",function(){window.location.pathname.includes("/forum/sujet/")&&setTimeout(()=>{const t=Array.from(document.querySelectorAll('a[href*="forum/tags"]'));if(0===t.length)return;let e=t[0];for(;e&&e!==document.body;)if(e=e.parentElement,e&&e.querySelectorAll('a[href*="forum/tags"]').length===t.length&&e.querySelectorAll("a").length<50)return void(e.style.display="none");t.forEach(t=>{const e=t.parentElement;e&&!e.className.includes("forum")&&(e.style.display="none")})},500)},26),a.register("ForumPosts:Restructure",function(){if(window.innerWidth>=768)return;if(!window.location.pathname.includes("/forum/sujet/"))return;const t=document.querySelectorAll("ul.media-list.forum > li.media:not([data-restructured])");0!==t.length&&t.forEach(t=>{const e=t.querySelector(".pull-left, .user-info"),r=t.querySelector(".pull-right"),o=t.querySelector(".media-body");if(!e||!o)return;const a=o.innerHTML,n=document.createElement("div");n.className="row forum-header";const i=document.createElement("div");i.className="col-xs-8 forum-user-section";const l=e.cloneNode(!0);i.appendChild(l);const d=o.querySelector(".btn-group.btn-group-xs:first-child, div.btn-group.btn-group-xs:first-child");if(d){const t=d.textContent.replace("posté","").replace("modifié","").trim(),e=document.createElement("div");e.className="post-date-mobile",e.textContent=t,i.appendChild(e)}const p=document.createElement("div");if(p.className="col-xs-4 forum-actions-section",r){const t=r.cloneNode(!0);p.appendChild(t)}n.appendChild(i),n.appendChild(p);const m=document.createElement("div");m.className="row forum-content-row";const c=document.createElement("div");c.className="col-xs-12 forum-content-section";const s=document.createElement("div");s.innerHTML=a;const b=s.querySelector(".pull-left, .user-info"),u=s.querySelector(".pull-right"),g=s.querySelector(".btn-group.btn-group-xs:first-child");b&&b.remove(),u&&u.remove(),g&&g.remove(),c.innerHTML=s.innerHTML,m.appendChild(c),e&&e.parentElement===t&&e.remove(),o.innerHTML="",o.appendChild(n),o.appendChild(m),t.setAttribute("data-restructured","true"),t.classList.add("forum-post-restructured")})},26);const tt={STORAGE_KEY:"kr-changelog-viewed",CHANGELOG_URL:"https://raw.githubusercontent.com/arnaudroubinet/kraland-css/main/changelog.json",changelog:null,async loadChangelog(){if(null!==this.changelog)return this.changelog;try{return new Promise((t,e)=>{"undefined"!=typeof GM&&GM.xmlHttpRequest?GM.xmlHttpRequest({method:"GET",url:this.CHANGELOG_URL,timeout:5e3,onload:e=>{try{const r=JSON.parse(e.responseText);this.changelog=this.parseChangelogData(r),t(this.changelog)}catch(e){this.changelog={},t(this.changelog)}},onerror:e=>{this.changelog={},t(this.changelog)}}):fetch(this.CHANGELOG_URL,{cache:"no-store"}).then(t=>t.json()).then(e=>{this.changelog=this.parseChangelogData(e),t(this.changelog)}).catch(e=>{this.changelog={},t(this.changelog)})})}catch(t){return{}}},parseChangelogData(t){const e={};return t.versions&&Array.isArray(t.versions)&&t.versions.forEach(t=>{t.version&&Array.isArray(t.changes)&&(e[t.version]=t.changes)}),e},getCurrentVersion:()=>t,getLastViewedVersion(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):null}catch(t){return null}},markVersionAsViewed(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){}},getChangesBetweenVersions(t,e){if(!this.changelog||"object"!=typeof this.changelog)return[];if(!t||!this.changelog[e])return this.changelog[e]||[];const r=Object.keys(this.changelog).sort((t,e)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})),o=r.indexOf(t),a=r.indexOf(e);if(-1===o||-1===a||o<=a)return this.changelog[e]||[];const n=[];for(let t=a;t<o;t++){const e=r[t];this.changelog[e]&&n.push(...this.changelog[e])}return n},createModal(t){const e=document.createElement("div");e.className="kr-changelog-modal",e.id="kr-changelog-modal";const r=0===t.length||t===this.changelog[this.getCurrentVersion()],o=r?"Bienvenue dans Kraland Thème!":"Mise à jour disponible",a=r?"Découvrez les améliorations":"Voici les changements de cette version";e.innerHTML=`\n        <div class="kr-changelog-overlay" tabindex="-1"></div>\n        <div class="kr-changelog-content" role="dialog" aria-modal="true" aria-label="${o}">\n          <div class="kr-changelog-header">\n            <h2>${o}</h2>\n          </div>\n          <div class="kr-changelog-body">\n            <p class="kr-changelog-subtitle">${a}</p>\n            <ul class="kr-changelog-list">\n              ${t.map(t=>`<li>${t}</li>`).join("")}\n            </ul>\n          </div>\n          <div class="kr-changelog-footer">\n            <button class="kr-changelog-view-all">Voir tous les changements</button>\n            <button class="kr-changelog-close-btn">Fermer</button>\n          </div>\n        </div>\n      `;const n=e.querySelector(".kr-changelog-content");n&&(n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.width="90%",n.style.maxWidth="600px",n.style.background="rgba(0,0,0,0.95)",n.style.color="#ffffff");const i=e.querySelector(".kr-changelog-overlay");return i&&(i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.background="rgba(0, 0, 0, 0.5)",i.style.cursor="pointer",i.tabIndex=-1),e},showModal(t){const e=document.getElementById("kr-changelog-modal");e&&e.remove();const r=this.createModal(t);document.body.appendChild(r);const o=r.querySelector(".kr-changelog-close-btn"),a=r.querySelector(".kr-changelog-overlay"),n=r.querySelector(".kr-changelog-view-all");let i=()=>{r.remove(),this.markVersionAsViewed(this.getCurrentVersion()),document.removeEventListener("keydown",l)};const l=t=>{"Escape"===t.key&&i()};document.addEventListener("keydown",l),o.addEventListener("click",i),a.addEventListener("click",i),n.addEventListener("click",()=>{this.showFullChangelog()}),setTimeout(()=>{r.classList.add("active");const t=r.querySelector(".kr-changelog-close-btn");t&&t.focus()},50),i=()=>{r.remove(),this.markVersionAsViewed(this.getCurrentVersion()),document.removeEventListener("keydown",l)}},showFullChangelog(){const t=document.getElementById("kr-changelog-modal");t&&t.remove();const e=document.createElement("div");e.className="kr-changelog-modal kr-changelog-full",e.id="kr-changelog-full-modal";const r=Object.keys(this.changelog).sort((t,e)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})).map(t=>`\n          <div class="kr-changelog-version">\n            <h3>Version ${t}</h3>\n            <ul>\n              ${this.changelog[t].map(t=>`<li>${t}</li>`).join("")}\n            </ul>\n          </div>\n        `).join("");e.innerHTML=`\n        <div class="kr-changelog-overlay" tabindex="-1"></div>\n        <div class="kr-changelog-content kr-changelog-content-full" role="dialog" aria-modal="true" aria-label="Historique complet des changements">\n          <div class="kr-changelog-header">\n            <h2>Historique complet des changements</h2>\n          </div>\n          <div class="kr-changelog-body kr-changelog-body-full">\n            ${r}\n          </div>\n          <div class="kr-changelog-footer">\n            <button class="kr-changelog-close-btn">Fermer</button>\n          </div>\n        </div>\n      `;const o=e.querySelector(".kr-changelog-content");o&&(o.style.position="fixed",o.style.top="50%",o.style.left="50%",o.style.transform="translate(-50%, -50%)",o.style.width="90%",o.style.maxWidth="800px",o.style.background="rgba(0,0,0,0.95)",o.style.color="#ffffff");const a=e.querySelector(".kr-changelog-overlay");a&&(a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.background="rgba(0, 0, 0, 0.5)",a.style.cursor="pointer",a.tabIndex=-1),document.body.appendChild(e);const n=e.querySelector(".kr-changelog-close-btn"),i=e.querySelector(".kr-changelog-overlay"),l=()=>{e.remove(),document.removeEventListener("keydown",d)};n.addEventListener("click",l),i.addEventListener("click",l);const d=t=>{"Escape"===t.key&&l()};document.addEventListener("keydown",d),setTimeout(()=>{e.classList.add("active");const t=e.querySelector(".kr-changelog-close-btn");t&&t.focus()},50)},async init(){const t=this.getCurrentVersion(),e=this.getLastViewedVersion();if(e!==t){await this.loadChangelog();const r=this.getChangesBetweenVersions(e,t);r.length>0&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>this.showModal(r),1e3)}):setTimeout(()=>this.showModal(r),1e3))}this.addChangelogButton()},addChangelogButton(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.insertChangelogButton()}):setTimeout(()=>this.insertChangelogButton(),500)},async insertChangelogButton(){if(!window.location.href.includes("/profil/interface"))return;null===this.changelog&&await this.loadChangelog();const t=document.querySelector(".panel-body")||document.querySelector(".content")||document.querySelector("main")||document.querySelector(".container");if(!t)return;if(document.getElementById("kr-changelog-btn"))return;const e=document.createElement("button");e.id="kr-changelog-btn",e.className="btn btn-info kr-changelog-btn",e.innerHTML="📝 Voir l'historique des changements";const r=document.querySelector(".kr-reset-alerts-btn"),o=r&&r.parentNode&&r.parentNode.querySelector(".help-block");if(o&&(e.className="btn btn-link kr-changelog-btn kr-changelog-inline",e.innerHTML="📝 Voir l'historique des changements",e.setAttribute("title","Voir l'historique des changements"),e.setAttribute("aria-label","Voir l'historique des changements"),e.style.display="inline",e.style.marginLeft="8px",e.style.fontSize="13px",e.style.padding="0",e.style.verticalAlign="middle"),e.addEventListener("click",()=>{this.showFullChangelog()}),o)o.appendChild(e);else{const r=t.querySelector("h1")||t.querySelector("h2");r?r.parentNode.insertBefore(e,r.nextSibling):t.insertBefore(e,t.firstChild)}}};!async function(){try{e.start("init:total"),e.start("init:themeState");const t=(null===d(n.ENABLE_KEY)&&p(n.ENABLE_KEY,"false"),m());e.end("init:themeState");const r=document.getElementById(n.STYLE_ID);if(!t&&r?.parentElement&&r.parentElement.removeChild(r),e.start("init:uiControls"),i(W),i(G),e.end("init:uiControls"),t){e.start("init:ensureTheme"),await f(),e.end("init:ensureTheme");const t=()=>{e.start("init:domTransformations"),m()&&(e.start("dom:transformations"),[L,A,T,q,z,N,M,_,I,P,j,D,B,H,O,F,R,V,Y,K,w,k,S,window.updateForumRPMenu,window.updateForumHRPMenu,window.updateForumCommunauteMenu,window.updateForumDebatsMenu,window.updateForumStaffMenu,E,y,Q].forEach(t=>{const r=t&&t.name||"anonymous";e.start("dom:"+r),i(t),e.end("dom:"+r)}),e.end("dom:transformations")),e.end("init:domTransformations")};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()}e.start("init:observers"),function(){let t;const e=new MutationObserver(()=>{m()&&!document.getElementById(n.STYLE_ID)&&h(n.BUNDLED_CSS).catch(()=>{}),clearTimeout(t),t=setTimeout(()=>{i(()=>u()),i(W)},150)});(document.documentElement||document)&&e.observe(document.documentElement||document,{childList:!0,subtree:!0});const r=t=>function(){const e=t.apply(this,arguments);return setTimeout(()=>f(),250),e};history.pushState=r(history.pushState),history.replaceState=r(history.replaceState),window.addEventListener("popstate",()=>setTimeout(()=>f(),250))}(),e.end("init:observers"),e.start("init:modalBackdrop"),function(){let t={x:0,y:0};const e=new WeakMap,r=new MutationObserver(r=>{r.forEach(r=>{r.addedNodes.forEach(r=>{1===r.nodeType&&r.classList?.contains("bootbox")&&(t.x=window.scrollX,t.y=window.scrollY,setTimeout(()=>{const o=$(r).data("bs.modal");o&&"static"===o.options.backdrop&&(o.options.backdrop=!0,$(r).on("mousedown.backdrop.track",function(t){t.target===this&&e.set(this,{x:t.clientX,y:t.clientY})}),$(r).off("click.dismiss.bs.modal").on("click.dismiss.bs.modal",function(t){if(t.target!==this)return;const r=e.get(this);r&&(Math.sqrt(Math.pow(t.clientX-r.x,2)+Math.pow(t.clientY-r.y,2))>5||($(this).modal("hide"),e.delete(this)))}),$(r).one("hidden.bs.modal",function(){e.delete(this)})),window.scrollTo(t.x,t.y)},100),$(r).one("shown.bs.modal",function(){window.scrollTo(t.x,t.y)}))})})});document.body&&r.observe(document.body,{childList:!0,subtree:!1})}(),e.end("init:modalBackdrop"),e.start("init:charModalMobile"),J(),e.end("init:charModalMobile"),e.start("init:mobileFeatures"),Z(),e.end("init:mobileFeatures");const o=()=>{a.run(),e.end("init:total"),e.report()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o,{once:!0}):o(),i(v),i(()=>tt.init())}catch(t){}}()}();