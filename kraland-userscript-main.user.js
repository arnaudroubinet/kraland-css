// ==UserScript==
// @name         Kraland Theme (Bundled)
// @namespace    http://www.kraland.org/
// @version      1.0.1772146438422
// @description  Injects the Kraland CSS theme (bundled) - Works with Tampermonkey & Violentmonkey
// @match        http://www.kraland.org/*
// @run-at       document-start
// @grant        none
// @grant        GM.xmlHttpRequest
// @connect      raw.githubusercontent.com
// @compatible   chrome tampermonkey
// @compatible   firefox tampermonkey
// @compatible   edge tampermonkey
// @compatible   firefox violentmonkey
// @compatible   chrome violentmonkey
// ==/UserScript==

!function(){"use strict";const t="1.0.1772146438422",e={_t0:performance.now(),_marks:[],bootTime:0,start(t){performance.mark("kr-"+t+"-start")},end(t){const e="kr-"+t+"-start",o="kr-"+t+"-end";performance.mark(o);try{const r=performance.measure("kr-"+t,e,o);this._marks.push({label:t,duration:r.duration})}catch(t){}},report(){this.bootTime=performance.now()-this._t0,this.print()},results(){return{bootTime:+this.bootTime.toFixed(1),phases:this._marks.map(t=>({phase:t.label,ms:+t.duration.toFixed(2)})),entries:performance.getEntriesByType("measure").filter(t=>t.name.startsWith("kr-")).map(t=>({name:t.name.replace("kr-",""),ms:+t.duration.toFixed(2)}))}},print(){const t=this.results(),e=("undefined"!=typeof unsafeWindow?unsafeWindow:window).console;e.groupCollapsed("[Kraland Perf] Boot total : "+t.bootTime+" ms"),e.debug(t.phases),e.groupEnd()}};try{("undefined"!=typeof unsafeWindow?unsafeWindow:window).KralandPerf=e}catch(t){window.KralandPerf=e}function o(){return document.body&&document.body.classList&&document.body.classList.contains("mobile-mode")}const r={_callbacks:[],_listening:!1,add(t,e=200){let o;this._callbacks.push(()=>{e>0?(clearTimeout(o),o=setTimeout(t,e)):t()}),this._listening||(this._listening=!0,window.addEventListener("resize",()=>{this._callbacks.forEach(t=>t())}))}},a={_queue:[],_initialized:!1,register(t,e,o=100){this._queue.push({name:t,fn:e,priority:o})},run(){this._initialized||(this._initialized=!0,this._queue.sort((t,e)=>t.priority-e.priority),e.start("InitQueue"),this._queue.forEach(({name:t,fn:o})=>{try{e.start("module:"+t),o(),e.end("module:"+t)}catch(o){e.end("module:"+t)}}),e.end("InitQueue"))}};var n;if(function(){let t=null;function e(){return window.innerWidth<768}function o(){const o=e();document.body&&t!==o&&(t=o,o?(document.body.classList.add("mobile-mode"),document.querySelectorAll('[class*="col-"]').forEach(t=>{t.style.setProperty("padding-left","0px","important"),t.style.setProperty("padding-right","0px","important")}),document.querySelectorAll(".row").forEach(t=>{t.style.setProperty("margin-left","0px","important"),t.style.setProperty("margin-right","0px","important")}),document.querySelectorAll(".container, .container-fluid").forEach(t=>{t.style.setProperty("padding-left","0px","important"),t.style.setProperty("padding-right","0px","important")}),document.querySelectorAll(".dashboard").forEach(t=>{t.style.setProperty("margin-left","0px","important"),t.style.setProperty("margin-right","0px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("padding","0px","important")})):document.body.classList.remove("mobile-mode"))}function a(){if(!document.body)return;const t=window.location.pathname;t.includes("/kramail")?(document.body.classList.add("page-kramail"),t.match(/\/kramail\/post\/nouveau/)&&document.body.classList.add("page-kramail-compose")):t.startsWith("/forum/")?document.body.classList.add("page-forum"):"/"===t||"/accueil"===t?document.body.classList.add("page-accueil"):t.startsWith("/monde/evenements")&&document.body.classList.add("page-evenements")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o(),r.add(o,250),window.KralandMobile={isMobile:e,reinit:o},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()}(),(n={"/regles":"/regles/avancees","/monde":"/monde/evenements"})[window.location.pathname]&&window.location.replace(n[window.location.pathname]),a.register("fixNavbarPadding",function(){o()||requestAnimationFrame(function(){setTimeout(function(){var t=document.querySelector("nav.navbar");if(t){for(var e=t.querySelectorAll(".navbar-nav > li"),o=0,r=0;r<e.length;r++){var a=e[r].getBoundingClientRect();a.height>0&&a.bottom>o&&(o=a.bottom)}if(o>t.offsetHeight+5){var n=Math.ceil(o)+5;t.style.setProperty("max-height",n+"px","important"),document.body.style.setProperty("padding-top",n+"px","important")}}},200)})},3),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;if("undefined"==typeof jQuery||void 0===jQuery.fn.collapse)return void function(){const t=document.querySelector(".navbar-toggle"),e=document.querySelector(".navbar-collapse");t&&e&&t.addEventListener("click",function(o){o.preventDefault(),e.classList.toggle("in");const r=e.classList.contains("in");t.setAttribute("aria-expanded",r),document.body.style.overflow=r?"hidden":""})}();const t=document.querySelector(".navbar-toggle"),e=document.querySelector(".navbar-collapse");if(t&&e){if(t.getAttribute("data-toggle")||t.setAttribute("data-toggle","collapse"),!t.getAttribute("data-target")){const o=e.id||"navbar-collapse-mobile";e.id=o,t.setAttribute("data-target","#"+o)}!function(){const t=document.querySelector(".navbar-collapse");if(!t)return;t.querySelectorAll("a:not(.dropdown-toggle)").forEach(e=>{e.addEventListener("click",function(){setTimeout(()=>{"undefined"!=typeof jQuery&&jQuery.fn.collapse?jQuery(t).collapse("hide"):(t.classList.remove("in"),document.body.style.overflow="")},150)})})}()}}a.register("initMobileHeader",t,10),window.KralandMobile&&(window.KralandMobile.reinitHeader=t)}(),a.register("moveHeaderButtons",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelector(".navbar-header"),e=document.querySelector(".navbar-right");if(!t||!e)return;const o=Array.from(e.querySelectorAll("li")),r=o.find(t=>t.querySelector(".fa-bell")&&!t.querySelector(".dropdown-menu")),a=o.find(t=>t.querySelector(".fa-envelope")&&!t.querySelector(".dropdown-menu")),n=o.find(t=>t.querySelector(".fa-globe")&&!t.querySelector(".dropdown-menu"));if(!r&&!a&&!n)return;if(r&&r.hasAttribute("data-moved-to-header"))return;const i=document.createElement("div");i.className="navbar-header-buttons-left",r&&(r.setAttribute("data-moved-to-header","true"),i.appendChild(r.cloneNode(!0))),a&&(a.setAttribute("data-moved-to-header","true"),i.appendChild(a.cloneNode(!0))),n&&(n.setAttribute("data-moved-to-header","true"),i.appendChild(n.cloneNode(!0))),i.children.length>0&&t.insertBefore(i,t.firstChild);const l=document.querySelector(".navbar-brand");l&&(l.style.display="none")},20),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-mini-profile"))return;const t=function(){const t=document.getElementById("player-header-section"),e=document.getElementById("player-main-panel");if(!t||!e)return null;const o=e.querySelector('.btn.alert100 img, a[href*="perso"] img, img[src*="avatar"]'),r=o?o.src:null;let a=null;const n=document.querySelectorAll("div.mini.t");for(const t of n)if(t.querySelector("i.fa.fa-coins")&&t.textContent.includes("MØ")){a=t;break}const i=a?a.textContent.trim():"0 MØ",l=document.getElementById("player-vitals-section"),d=l?l.querySelector(".c100"):null,p=(t,e)=>{if(!t)return null;const o=Array.from(t.querySelectorAll("*")).find(t=>{const o=t.textContent.trim(),r=o.startsWith(e)||o.includes(` ${e} `),a=/\d+/.test(o);return r&&a&&t.children.length<=2});if(!o)return null;const r=o.textContent.trim();if(r.match(/(\d+)\s*\/\s*(\d+)/))return function(t,e){const o=t.textContent,r=o.match(/(\d+)\s*\/\s*(\d+)|(\d+)\s+\/\s+(\d+)/);if(!r){const t=o.match(/\d+/);if(t){const o=parseInt(t[0]);return{type:e,current:o,max:o,percent:100}}return{type:e,current:0,max:1,percent:0}}const a=parseInt(r[1]||r[3]),n=parseInt(r[2]||r[4]);return{type:e,current:a,max:n,percent:Math.min(100,a/n*100)}}(o,e.toLowerCase());{const t=r.match(/\d+/);if(!t)return null;const a=parseInt(t[0]),n=o.querySelector('.progress-bar, [class*="bar"]');let i=a;if(n){const t=n.style.width;if(t&&t.includes("%")){const e=parseInt(t);e>0&&(i=Math.round(100*a/e))}}const l=i>0?Math.min(100,a/i*100):0;return{type:e.toLowerCase(),current:a,max:i,percent:l}}};return{name:"Personnage",avatar:r,money:i,clock:d?d.textContent.trim():"--:--",gauges:{pv:p(l,"PV"),pm:p(l,"PM"),pp:p(l,"PP")}}}();if(!t)return;const e=document.createElement("div");e.className="mobile-mini-profile collapsed",e.setAttribute("data-task","1.4");const o=document.createElement("div");if(o.className="mobile-mini-profile-header",t.avatar){const e=document.createElement("img");e.src=t.avatar,e.className="avatar",e.alt="Avatar",o.appendChild(e)}const r=document.createElement("div");r.className="mobile-mini-profile-info";const a=document.createElement("div");a.className="mobile-mini-profile-name-row";const n=document.createElement("div");n.className="mobile-mini-profile-name",n.textContent=t.name,a.appendChild(n);const i=document.createElement("a");i.href="#",i.className="btn btn-default alert100 mobile-mini-profile-manage-btn",i.innerHTML="<span>⚙️</span>",i.setAttribute("data-toggle","tooltip"),i.setAttribute("data-placement","bottom"),i.setAttribute("title","Gestion du personnage"),a.appendChild(i),r.appendChild(a);const l=document.createElement("div");l.className="mobile-mini-profile-money",l.innerHTML=`\n        <span>${t.money}</span>\n        <span class="mobile-mini-profile-clock">⏱️ ${t.clock}</span>\n      `,r.appendChild(l),o.appendChild(r);const d=document.createElement("i");d.className="fa fa-chevron-down mobile-mini-profile-chevron",o.appendChild(d),e.appendChild(o);const p=document.createElement("div");p.className="mobile-mini-profile-gauges-compact",["pv","pm","pp"].forEach(e=>{const o=t.gauges[e];if(!o)return;const r=document.createElement("div");r.className="mobile-gauge-compact",r.innerHTML=`\n          <span class="mobile-gauge-compact-label">${e.toUpperCase()}</span>\n          <div class="mobile-gauge-compact-bar">\n            <div class="mobile-gauge-compact-fill ${e}" style="width: ${o.percent}%"></div>\n          </div>\n          <span class="mobile-gauge-compact-value">${o.current}</span>\n        `,p.appendChild(r)}),e.appendChild(p);const m=document.createElement("div");m.className="mobile-mini-profile-details";const c=document.createElement("div");c.className="mobile-mini-profile-gauges-full",["pv","pm","pp"].forEach(e=>{const o=t.gauges[e];if(!o)return;const r=document.createElement("div");r.className="mobile-gauge-full",r.innerHTML=`\n          <div class="mobile-gauge-full-header">\n            <span>${e.toUpperCase()}</span>\n            <span>${o.current}/${o.max}</span>\n          </div>\n          <div class="mobile-gauge-full-bar">\n            <div class="mobile-gauge-full-fill ${e}" style="width: ${o.percent}%"></div>\n          </div>\n        `,c.appendChild(r)}),m.appendChild(c);const s=document.createElement("div");s.className="mobile-mini-profile-characteristics";const b=document.getElementById("col-leftest-stats");if(b){const t=[];for(let e=121;e<=126;e++){const o=b.querySelector(`.alert${e}`);o&&t.push(o)}t.length>0&&(t.forEach(t=>{const e=t.cloneNode(!0);e.className=t.className+" mobile-characteristic-badge",e.style.cssText="min-width: 44px; min-height: 44px; margin: 4px;",s.appendChild(e)}),m.appendChild(s))}const u=document.createElement("div");u.className="mobile-mini-profile-skills";const g=document.getElementById("skills-panel");if(g){const t=g.querySelectorAll('.ds_game[class*="alert11"]');t.length>0&&(t.forEach(t=>{const e=t.cloneNode(!0);e.className=t.className+" mobile-skill-item",e.style.cssText="min-height: 44px; margin: 4px; display: flex; align-items: center; justify-content: center;",u.appendChild(e)}),m.appendChild(u))}e.appendChild(m),e.addEventListener("click",t=>{t.target.closest(".mobile-mini-profile-avatar-btn, .mobile-characteristic-badge, .mobile-skill-item")||(e.classList.toggle("collapsed"),e.classList.toggle("expanded"))});const f=document.querySelector(".navbar"),h=document.getElementById("content")||document.body;f&&f.nextSibling?f.parentNode.insertBefore(e,f.nextSibling):h.insertBefore(e,h.firstChild)}()}a.register("initMiniProfile",t,40),window.KralandMobile&&(window.KralandMobile.initMiniProfile=t)}(),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-quick-actions"))return;if(!window.location.pathname.startsWith("/jouer/"))return;const t=document.getElementById("player-actions-section");if(!t)return;const e=t.querySelectorAll("a.btn, button.btn");if(0===e.length)return;const o=document.createElement("div");o.className="btn-group btn-group-justified mobile-quick-actions",o.setAttribute("role","group"),o.setAttribute("data-task","1.5"),e.forEach(t=>{const e=document.createElement("div");e.className="btn-group",e.setAttribute("role","group");const r=t.cloneNode(!0);r.classList.add("mobile-quick-action");const a=r.querySelector("i"),n=r.textContent.trim();if(r.innerHTML="",a){const t=a.cloneNode(!0);t.classList.add("mobile-quick-action-icon"),r.appendChild(t)}const i=document.createElement("span");i.className="mobile-quick-action-label",i.textContent=n,r.appendChild(i),e.appendChild(r),o.appendChild(e)});const r=document.querySelector(".navbar");r&&r.nextSibling?r.parentNode.insertBefore(o,r.nextSibling):document.body.insertBefore(o,document.body.firstChild)}()}a.register("initQuickActions",t,50),window.KralandMobile&&(window.KralandMobile.initQuickActions=t)}(),function(){function t(){if(!o())return;if("/"!==window.location.pathname&&"/accueil"!==window.location.pathname&&!window.location.pathname.endsWith("/"))return;const t=document.querySelector(".carousel");t&&t.remove()}a.register("removeHomepageCarousel",t,5),window.KralandMobile&&(window.KralandMobile.removeHomepageCarousel=t)}(),function(){function t(){document.body.classList.contains("mobile-mode")&&function(){if(!document.body.classList.contains("mobile-mode"))return;if(document.querySelector(".mobile-tab-bar"))return;if(!window.location.pathname.startsWith("/jouer/"))return;const t=function(){const t=[];return[{pattern:"/jouer/plateau",href:"/jouer/plateau",label:"Agir",icon:"fa-bolt"},{pattern:"/jouer/materiel",href:"/jouer/materiel",label:"Matériel",icon:"fa-cube"},{pattern:"/jouer/perso",href:"/jouer/perso",label:"Personnage",icon:"fa-user"},{pattern:"/jouer/bat",href:"/jouer/bat",label:"Bâtiments",icon:"fa-home"},{pattern:"/jouer/pnj",href:"/jouer/pnj",label:"Employés",icon:"fa-users"}].forEach(e=>{const o=document.querySelector(`a[href*="${e.pattern}"]`);t.push({href:o?o.getAttribute("href"):e.href,text:o&&o.textContent.trim()||e.label,pattern:e.pattern,icon:e.icon})}),t}();if(0===t.length)return;const e=document.createElement("ul");e.className="nav nav-tabs mobile-tab-bar",e.setAttribute("role","tablist"),t.forEach(t=>{const o=document.createElement("li");o.setAttribute("role","presentation");const r=document.createElement("a");r.href=t.href,r.setAttribute("role","tab");const a=document.createElement("i");a.className=`fa ${t.icon} mobile-tab-icon`;const n=document.createElement("span");n.className="mobile-tab-label",n.textContent=t.text,r.appendChild(a),r.appendChild(n),window.location.pathname.includes(t.pattern)?(o.classList.add("active"),r.setAttribute("aria-selected","true")):r.setAttribute("aria-selected","false"),o.appendChild(r),e.appendChild(o)});const o=document.querySelector(".navbar")||document.querySelector("header")||document.body.firstElementChild;o&&o.nextSibling?o.parentNode.insertBefore(e,o.nextSibling):document.body.insertBefore(e,document.body.firstChild),function(t){const e=()=>{const e=t.scrollLeft+t.clientWidth>=t.scrollWidth-5;t.classList.toggle("scrolled-end",e)};t.addEventListener("scroll",e,{passive:!0}),setTimeout(e,100),r.add(e,100)}(e),setTimeout(()=>function(t){const e=t.querySelector("li.active > a");if(!e)return;const o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=r.left-o.left-o.width/2+r.width/2;t.scrollTo({left:t.scrollLeft+a,behavior:"smooth"})}(e),100)}()}window.KralandMobile&&(window.KralandMobile.initTabBar=t),a.register("initTabBar",t,30)}(),function(){const t="kraland_dismissed_alerts";function e(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}function o(t){return t.id?t.id:"alert_"+function(t){let e=0;for(let o=0;o<t.length;o++)e=(e<<5)-e+t.charCodeAt(o),e&=e;return Math.abs(e).toString(36)}(t.textContent.trim().replace(/\s+/g," "))}function r(){!function(){const t=e();0!==t.length&&document.querySelectorAll(".alert.alert-dismissible").forEach(e=>{const r=o(e);t.includes(r)&&(e.style.display="none")})}(),document.querySelectorAll(".alert.alert-dismissible").forEach(r=>{const a=r.querySelector('.close, [data-dismiss="alert"]');a&&a.addEventListener("click",function(){!function(o){try{const r=e();r.includes(o)||(r.push(o),localStorage.setItem(t,JSON.stringify(r)))}catch(t){}}(o(r))})})}function a(){if(!window.location.pathname.includes("/profil/interface"))return;const o=setInterval(()=>{const r=document.querySelector("#kr-tamper-theme-form");if(!r)return;clearInterval(o);const a=document.createElement("div");a.className="form-group",a.style.marginTop="20px",a.style.paddingTop="15px",a.style.borderTop="1px solid rgba(255, 255, 255, 0.1)";const n=document.createElement("label");n.className="col-sm-3 control-label",n.style.paddingLeft="0px",n.style.paddingRight="0px",n.textContent="Alertes";const i=document.createElement("div");i.className="col-sm-9",i.style.paddingLeft="0px";const l=document.createElement("button");l.type="button",l.className="btn btn-warning kr-reset-alerts-btn",l.style.width="33.333%",l.style.display="inline-block";const d=document.createElement("span");d.className="glyphicon glyphicon-refresh",d.style.marginRight="5px";const p=document.createTextNode("Réinitialiser les alertes fermées");l.appendChild(d),l.appendChild(p),l.addEventListener("click",function(){const o=e().length;0!==o?confirm(`Voulez-vous vraiment réinitialiser ${o} alerte(s) fermée(s) ? Elles réapparaîtront lors du prochain chargement de page.`)&&(localStorage.removeItem(t),d.className="glyphicon glyphicon-ok",l.textContent="",l.appendChild(d),l.appendChild(document.createTextNode(" "+(1===o?"1 alerte réinitialisée !":`${o} alertes réinitialisées !`))),l.className="btn btn-success kr-reset-alerts-btn",c(),setTimeout(()=>{d.className="glyphicon glyphicon-refresh",l.textContent="",l.appendChild(d),l.appendChild(document.createTextNode(" Réinitialiser les alertes fermées")),l.className="btn btn-warning btn-block"},3e3)):alert("Aucune alerte fermée à réinitialiser.")});const m=document.createElement("p");function c(){var t;m.textContent=0===(t=e().length)?"Aucune alerte actuellement masquée":1===t?"1 alerte actuellement masquée":`${t} alertes actuellement masquées`}m.className="help-block",m.style.display="inline-block",m.style.marginTop="0",m.style.marginLeft="10px",m.style.verticalAlign="middle",m.style.fontSize="12px",m.style.opacity="0.7",c(),i.appendChild(l),i.appendChild(m),a.appendChild(n),a.appendChild(i),r.parentNode.insertBefore(a,r.nextSibling)},100)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r(),"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",r),document.addEventListener("DOMContentLoaded",a)):(r(),a()),window.KralandMobile&&(window.KralandMobile.clearDismissedAlerts=function(){localStorage.removeItem(t)})}(),function(){function t(){const t=window.location.pathname;if("/"!==t&&"/accueil"!==t&&!t.startsWith("/accueil"))return;const e=Array.from(document.querySelectorAll("h4.list-group-item-heading.count")).find(t=>{const e=t.textContent.trim();return!/^\d+$/.test(e)&&e.length>0});if(!e)return;const o=e.textContent.trim();o.startsWith("Bienvenu")||(e.textContent="Bienvenu "+o)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}(),a.register("Homepage:RightColumn",function(){if(document.body.classList.contains("page-accueil")){var t=document.querySelector(".container > .row > .col-md-3:last-child");if(t){for(var e=t.querySelectorAll("hr"),o=0;o<e.length;o++)e[o].remove();var r=t.querySelector(".ds_user");if(r){var a=document.createElement("a");a.href="/jouer/plateau",a.className="accueil-play-btn",a.innerHTML='<i class="fa fa-play"></i> Jouer',r.insertAdjacentElement("afterend",a)}var n=t.querySelector(":scope > h4"),i=t.querySelectorAll(":scope > .ds_forum");if(n&&i.length){var l=document.createElement("div");l.className="accueil-forum-section",n.parentNode.insertBefore(l,n),l.appendChild(n);for(var d=0;d<i.length;d++)l.appendChild(i[d])}}}},85),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;document.querySelectorAll(".dashboard-section").forEach(t=>{const e=t.querySelector(".dashboard-section-header"),o=t.querySelector(".dashboard-group-title");if(e&&o){const e=t.classList.contains("dashboard-section-mygroup");!function(t,e){const o=t.querySelector(".dashboard-section-header"),r=t.querySelector(".dashboard-cards-grid");if(!o||!r)return;o.classList.add("dashboard-section-header-accordion");const a=e;r.classList.toggle("collapsed",!a),o.classList.toggle("expanded",a);const n=document.createElement("i");n.className="fa fa-chevron-down accordion-icon",o.appendChild(n),o.style.cursor="pointer",o.addEventListener("click",t=>{if(t.target.closest(".dashboard-group-buttons"))return;const e=!r.classList.contains("collapsed");r.classList.toggle("collapsed",e),o.classList.toggle("expanded",!e)})}(t,e)}})}window.KralandMobile&&(window.KralandMobile.initGroupsAccordion=t),a.register("initGroupsAccordion",t,70)}(),a.register("Commerce Accordion",function(){if(!window.location.href.includes("jouer/plateau"))return;const t=["Nourriture","Repas","Boissons","Bons d'état / Loterie","Services"],e=[];document.querySelectorAll("h4.list-group-item-heading").forEach(o=>{const r=o.textContent.trim();if(t.includes(r)){const t=o.parentElement;t&&t.classList.contains("list-group-item")&&e.push({name:r,div:t,h4:o})}}),0!==e.length&&e.forEach((t,e)=>{const o=[];let r=t.div.nextElementSibling;for(;r;)if(r.classList){if(r.classList.contains("ds_forum")&&r.querySelector("h4.list-group-item-heading"))break;"A"===r.tagName&&r.classList.contains("ds_game")&&o.push(r),r=r.nextElementSibling}else r=r.nextElementSibling;const a=document.createElement("div");if(a.className="commerce-products-container",o.forEach(t=>{const e=t.querySelector("img"),o=e&&e.alt||"";o.includes("composants manquants")&&t.classList.add("commerce-status-missing"),o.includes("stock max")&&t.classList.add("commerce-status-full"),/Production \d/.test(o)&&t.classList.add("commerce-status-producing");const r=t.querySelector("h4");r&&/\(0\/\d+\)/.test(r.textContent)&&t.classList.add("commerce-status-empty"),a.appendChild(t)}),!t.div||!t.div.parentElement||!t.h4)return;t.div.parentElement.insertBefore(a,t.div.nextSibling),t.div.classList.add("commerce-category-header"),0===e?t.div.classList.add("expanded"):(a.classList.add("collapsed"),t.div.classList.add("collapsed"));const n=document.createElement("i");n.className="fa fa-chevron-down accordion-icon",t.h4&&t.h4.appendChild&&t.h4.appendChild(n),t.div.style.cursor="pointer",t.div.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const o=!a.classList.contains("collapsed");a.classList.toggle("collapsed",o),t.div.classList.toggle("collapsed",o),t.div.classList.toggle("expanded",!o)})})}),a.register("Panel Sections Collapse",function(){o()&&["Bâtiment","Commerce","Matériel"].forEach(function(t){var e=Array.from(document.querySelectorAll("h3.panel-title")).find(function(e){return e.textContent.includes(t)});if(e){var o=e.parentElement;if(o){var r=o.nextElementSibling;if(r&&r.classList.contains("panel-body")){o.classList.add("building-section-header"),r.classList.add("building-section-content");var a=o.querySelector("span.pull-right.clickable");a&&(a.style.display="none");var n=document.createElement("i");n.className="fa fa-chevron-down accordion-icon",o.appendChild(n),o.classList.add("expanded"),o.style.cursor="pointer",o.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=!r.classList.contains("collapsed");r.classList.toggle("collapsed",e),o.classList.toggle("collapsed",e),o.classList.toggle("expanded",!e)})}}}})}),a.register("initNavigationRow",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelector(".navbar");if(!t)return;const e=document.querySelector('img[alt="Sortir"]');if(!e||!e.parentElement)return;const o=e.parentElement,r=o.querySelector('map[name="exitmap"]'),a=Array.from(document.querySelectorAll('img[src*="/bat/bat"]'));if(0===a.length)return;const n=a.filter(t=>{let e=t;for(;e&&e!==document.body;){if(e.classList&&e.classList.contains("kr-navigation-row"))return!1;e=e.parentElement}return!0});if(n.sort((t,e)=>parseInt(t.src.match(/bat(\d+)\.gif/)?.[1]||"999")-parseInt(e.src.match(/bat(\d+)\.gif/)?.[1]||"999")),0===n.length)return;const i=o.closest(".row.center");i&&(i.style.display="none");const l=n.map(t=>t.closest("a")).filter(t=>null!==t);if(0===l.length)return;const d=document.createElement("div");if(d.className="kr-navigation-row",d.setAttribute("role","group"),e&&r){const t=document.createElement("div");t.className="btn-group kr-direction-cross",t.setAttribute("role","group");const o=document.createElement("div");o.className="btn btn-default alert11 mini kr-direction-link";const a=e.cloneNode(!0);a.style.width="60px",a.style.height="60px",a.style.display="block";const n=r.cloneNode(!0);o.addEventListener("click",t=>{const e=o.getBoundingClientRect(),r=t.clientX-e.left,a=t.clientY-e.top,i=n.querySelectorAll("area");for(const e of i)if("rect"===e.shape){const o=e.coords.split(",").map(t=>parseInt(t)),[n,i,l,d]=o;if(r>=n&&r<=l&&a>=i&&a<=d){t.preventDefault(),t.stopPropagation();const o=e.href;return void(o&&"#"!==o&&(window.location.href=o))}}}),o.appendChild(a),o.appendChild(n),t.appendChild(o),d.appendChild(t)}l.forEach(t=>{const e=document.createElement("div");e.className="btn-group kr-room-access-card",e.setAttribute("role","group");const o=t.cloneNode(!0);o.className="btn btn-default alert11 mini kr-room-link",o.addEventListener("click",t=>{t.stopPropagation();const e=o.href;e&&"#"!==e&&(window.location.href=e)}),e.appendChild(o),d.appendChild(e)}),t.parentNode.insertBefore(d,t.nextSibling)},60),window.innerWidth<768&&window.location.hash&&"#top"!==window.location.hash){const t=history.scrollRestoration;history.scrollRestoration="manual";const e=window.location.pathname+window.location.search;history.replaceState(null,"",e);const o=()=>window.scrollTo(0,0);o(),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",o),window.addEventListener("load",o),setTimeout(()=>{history.scrollRestoration=t},500)}a.register("initNewsToggle",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.getElementById("slide-submenu"),e=document.getElementById("player-header-section");if(t&&e){function o(e){t.innerHTML=e?"▼":"×",t.setAttribute("aria-label",e?"Déplier les nouvelles":"Replier les nouvelles"),t.setAttribute("title",e?"Déplier":"Replier")}const r="true"===localStorage.getItem("kr-news-collapsed");r&&e.classList.add("kr-news-collapsed"),o(r),t.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.classList.toggle("kr-news-collapsed");const r=e.classList.contains("kr-news-collapsed");localStorage.setItem("kr-news-collapsed",r),o(r)},{capture:!0})}},80);const i={BUNDLED_CSS:':root{--kr-primary:#8b0f0e;--kr-primary-dark:#700b09;--kr-gold:#c69100;--kr-highlight:#c41e3a;--kr-highlight-reverse:#f9d9de;--kr-surface:#fff;--kr-text:#0f1724;--kr-muted:#6b7280;--kr-navbar-bg:#111315;--kr-radius:.5rem;--kr-avatar-size:120px;--kr-bg-page:#f5f5f5;--kr-bg-surface:#fff;--kr-bg-elevated:#fff;--kr-bg-hover:#00000005;--kr-bg-active:#0000000d;--kr-text-primary:#0f1724;--kr-text-secondary:#6b7280;--kr-text-muted:#9ca3af;--kr-text-inverse:#fff;--kr-border-default:#00000014;--kr-border-strong:#00000026;--kr-shadow-sm:0 1px 2px #0000000d;--kr-shadow-md:0 4px 6px #00000012;--kr-shadow-lg:0 10px 15px #0000001a;--kr-white:#fff;--kr-focus-ring:#a4120d38;--kr-focus-ring-light:#a4120d2e;--kr-alert-info-bg:#a4120d0f;--kr-alert-info-border:#a4120d24;--kr-btn-shadow:#a5120d1f;--kr-badge-danger:#dc3545;--kr-badge-danger-border:#bd2130;--kr-badge-pnj:#d9534f;--kr-bootstrap-blue:#337ab7;--kr-nation-1:#c41e3a;--kr-nation-2:#c69100;--kr-nation-3:#ff0;--kr-nation-4:#0033a0;--kr-nation-5:#0b6623;--kr-nation-6:#6a0dad;--kr-nation-7:#6b7280;--kr-nation-8:#0a6b2d;--kr-nation-9:#a70;--kr-nation-bg-1:#ff8080;--kr-nation-bg-2:#aa7000;--kr-nation-bg-3:#ffff80;--kr-nation-bg-4:#8080ff;--kr-nation-bg-5:#80ff80;--kr-nation-bg-6:#cc80ff;--kr-nation-bg-7:#aaa;--kr-nation-bg-8:#739773;--kr-nation-bg-9:#aa4;--kr-nation-bg-10:#cff;& .c1{background-color:var(--kr-nation-bg-1)!important}& .c2{background-color:var(--kr-nation-bg-2)!important}& .c3{background-color:var(--kr-nation-bg-3)!important}& .c4{background-color:var(--kr-nation-bg-4)!important}& .c5{background-color:var(--kr-nation-bg-5)!important}& .c6{background-color:var(--kr-nation-bg-6)!important}& .c7{background-color:var(--kr-nation-bg-7)!important}& .c8{background-color:var(--kr-nation-bg-8)!important}& .c9{background-color:var(--kr-nation-bg-9)!important}& .c10{background-color:var(--kr-nation-bg-10)!important}& .mini.c1,& .mini.c2,& .mini.c3,& .mini.c4,& .mini.c5,& .mini.c6,& .mini.c7,& .mini.c8,& .mini.c9,& .mini.c10{color:#000!important;text-shadow:none!important}--mobile-header-height:56px;--mobile-tab-bar-height:48px;--mobile-touch-target:44px;--mobile-spacing-xs:4px;--mobile-spacing-sm:8px;--mobile-spacing-md:12px;--mobile-spacing-lg:16px;--mobile-spacing-xl:24px;--mobile-radius:8px;--mobile-radius-lg:16px;--z-header:1000;--z-tab-bar:999;--z-bottom-sheet:998;--z-drawer:1001;--transition-fast:.15s ease;--transition-normal:.3s ease;--transition-slow:.5s ease;--kr-gauge-pv:#28a745;--kr-gauge-pm:#007bff;--kr-gauge-pp:#ffc107;--kr-overlay-light-10:#ffffff1a;--kr-overlay-light-05:#ffffff0d;--kr-overlay-light-20:#fff3;--kr-overlay-dark-20:#0003;--kr-overlay-dark-30:#0000004d;--kr-overlay-dark-125:#00000020}html.kr-theme-variant-empire-brun{--kr-primary:#5e3b2d;--kr-highlight:#c69100}html.kr-theme-variant-paladium{--kr-primary:#d4af37;--kr-highlight:#044c17}html.kr-theme-variant-theocratie-seelienne{--kr-primary:#0033a0;--kr-highlight:#2d5fcb}html.kr-theme-variant-paradigme-vert{--kr-primary:#0b6623;--kr-highlight:#063803}html.kr-theme-variant-khanat-elmerien{--kr-primary:#6a0dad;--kr-highlight:#7b4c9c}html.kr-theme-variant-confederation-libre{--kr-primary:#6b7280;--kr-highlight:#475369}html.kr-theme-variant-royaume-ruthvenie{--kr-primary:#0a6b2d;--kr-highlight:#c41e3a}html[class*=-dark]{color-scheme:dark;--kr-bg-hover:#ffffff08;--kr-bg-active:#ffffff0f;--kr-border-default:#ffffff14;--kr-border-strong:#ffffff26;--kr-shadow-sm:0 1px 3px #0006;--kr-shadow-md:0 4px 8px #00000080;--kr-shadow-lg:0 10px 20px #0009;--kr-nation-1:#ff8080;--kr-nation-3:#ffe066;--kr-nation-9:#c4b958}html.kr-theme-variant-empire-brun-dark{--kr-primary:#7a5240;--kr-primary-dark:#5e3b2d;--kr-highlight:#d4a574;--kr-highlight-reverse:#1a0f0a;--kr-bg-page:#12100d;--kr-bg-surface:#1e1a15;--kr-bg-elevated:#2a251f;--kr-text-primary:#f5f1ed;--kr-text-secondary:#b8a997;--kr-text-muted:#8a7968;--kr-text-inverse:#12100d;--kr-form-bg:#3a332b;--kr-form-bg-focus:#423a31;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-paladium-dark{--kr-primary:#e6c76e;--kr-primary-dark:#d4af37;--kr-highlight:#4a9d5f;--kr-highlight-reverse:#021a0a;--kr-bg-page:#0f0e0a;--kr-bg-surface:#1a1810;--kr-bg-elevated:#252015;--kr-text-primary:#f5f3e8;--kr-text-secondary:#c4b896;--kr-text-muted:#938567;--kr-text-inverse:#0f0e0a;--kr-form-bg:#3a3420;--kr-form-bg-focus:#43392a;--kr-nation-2:#e6c76e;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-theocratie-seelienne-dark{--kr-primary:#5a8fd9;--kr-primary-dark:#2d5fcb;--kr-highlight:#80b3ff;--kr-highlight-reverse:#000d1f;--kr-bg-page:#0a0e15;--kr-bg-surface:#12182a;--kr-bg-elevated:#1a2438;--kr-text-primary:#e8f0ff;--kr-text-secondary:#9db5d6;--kr-text-muted:#6b7f9e;--kr-text-inverse:#0a0e15;--kr-form-bg:#2a3447;--kr-form-bg-focus:#323d54;--kr-nation-2:#d4a574;--kr-nation-4:#80b3ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-paradigme-vert-dark{--kr-primary:#4d9c61;--kr-primary-dark:#2a7a3d;--kr-highlight:#70c784;--kr-highlight-reverse:#021508;--kr-bg-page:#0a120d;--kr-bg-surface:#0f1a13;--kr-bg-elevated:#1a2820;--kr-text-primary:#e8f5ed;--kr-text-secondary:#a0c4ab;--kr-text-muted:#6d8a75;--kr-text-inverse:#0a120d;--kr-form-bg:#2a3d30;--kr-form-bg-focus:#324539;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#70c784;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-khanat-elmerien-dark{--kr-primary:#96c;--kr-primary-dark:#7b4c9c;--kr-highlight:#b794d9;--kr-highlight-reverse:#1a0425;--kr-bg-page:#0f0a15;--kr-bg-surface:#1a121f;--kr-bg-elevated:#251a2d;--kr-text-primary:#f0e8ff;--kr-text-secondary:#bba0d6;--kr-text-muted:#857299;--kr-text-inverse:#0f0a15;--kr-form-bg:#3a2f47;--kr-form-bg-focus:#443854;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#b794d9;--kr-nation-7:#b2bec3;--kr-nation-8:#81c784}html.kr-theme-variant-confederation-libre-dark{--kr-primary:#9ca3af;--kr-primary-dark:#6b7280;--kr-highlight:#c2c9d6;--kr-highlight-reverse:#0f1115;--kr-bg-page:#0e1013;--kr-bg-surface:#16181c;--kr-bg-elevated:#1f2228;--kr-text-primary:#e8eaed;--kr-text-secondary:#b8bcc4;--kr-text-muted:#7e8591;--kr-text-inverse:#0e1013;--kr-form-bg:#2d3139;--kr-form-bg-focus:#363a43;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#c2c9d6;--kr-nation-8:#81c784}html.kr-theme-variant-royaume-ruthvenie-dark{--kr-primary:#4a9d61;--kr-primary-dark:#2a7a3d;--kr-highlight:#ff6b85;--kr-highlight-reverse:#1a0408;--kr-bg-page:#0d1210;--kr-bg-surface:#141a16;--kr-bg-elevated:#1d2621;--kr-text-primary:#ecf5f0;--kr-text-secondary:#a5c4b0;--kr-text-muted:#708a79;--kr-text-inverse:#0d1210;--kr-form-bg:#2d3d33;--kr-form-bg-focus:#36463b;--kr-nation-2:#d4a574;--kr-nation-4:#74b9ff;--kr-nation-5:#55efc4;--kr-nation-6:#a29bfe;--kr-nation-7:#b2bec3;--kr-nation-8:#70c784}#top{display:none!important}html{height:auto!important}body{flex-direction:column;padding-top:60px;display:flex;height:auto!important;min-height:100vh!important;margin:0!important}nav.navbar{z-index:1030!important;height:auto!important;max-height:60px!important;position:fixed!important;top:0!important;left:0!important;right:0!important}#content{flex:1 0 auto}footer{flex-shrink:0;width:100%}html.kr-hide-footer-quote .footer-quote{display:none!important}.container{width:100%!important;max-width:1608px!important}@media (width>=1920px){.container{max-width:1860px!important}}@media (width>=2560px){.container{max-width:2400px!important}}@media (width>=3840px){.container{max-width:3200px!important}}@media (width>=2560px){#col-leftest{width:6%!important}#col-left{width:20%!important}#col-right{width:74%!important}}@media (width>=3840px){#col-leftest{width:4%!important}#col-left{width:16%!important}#col-right{width:80%!important}}@media (width>=768px){#col-right .container-fluid center>img.img-responsive{object-fit:contain;width:auto;max-height:200px;margin:0 auto;display:block}}@media (width>=3840px){.panel-heading h3{font-size:16px}.panel-body .list-group-item h4{font-size:15px}.panel-body .list-group-item p{font-size:12px}#player-main-panel{font-size:14px}#player-actions-section .btn{padding:8px 14px;font-size:13px}#player-main-panel .btn-group .btn{font-size:13px}}#skills-panel{background-color:var(--kr-white)!important;border:1px solid #0000000f!important;border-radius:5px!important;display:block!important}.navbar-brand{align-items:center!important;padding-top:0!important;padding-bottom:0!important;display:flex!important}.navbar-brand img.kr-logo{vertical-align:middle;height:28px}.navbar-nav>li>a{color:var(--kr-white)!important}.form-control.form-control{border:1px solid #00000014;border-radius:.4rem;padding:.6rem .8rem;font-size:.95rem}.form-control:focus{box-shadow:0 0 0 .18rem var(--kr-focus-ring);border-color:var(--kr-primary);outline:none}textarea.form-control.form-control{font-size:1.4rem!important;line-height:1.6!important}.form-group label{color:var(--kr-text);font-weight:600}input[type=checkbox],input[type=radio]{accent-color:var(--kr-primary)!important}input[type=checkbox]:focus,input[type=radio]:focus{outline:none;box-shadow:0 0 0 .12rem var(--kr-focus-ring-light)!important}input[type=checkbox]:checked{border-color:var(--kr-primary)!important}.label,.badge{background-color:var(--kr-primary);color:var(--kr-white);border-color:var(--kr-primary-dark)}.bg-info{background-color:var(--kr-primary);color:var(--kr-white)}.badge-danger,.navbar-right a[href=kramail] .badge:not(:empty),.navbar-header-buttons-left a[href=kramail] .badge:not(:empty),.navbar-header-buttons-left a[href*=kramail] .badge:not(:empty){background-color:var(--kr-badge-danger)!important;color:var(--kr-white)!important;border-color:var(--kr-badge-danger-border)!important}@keyframes kr-bell-swing{0%{transform:rotate(0)}10%{transform:rotate(14deg)}20%{transform:rotate(-12deg)}30%{transform:rotate(10deg)}40%{transform:rotate(-8deg)}50%{transform:rotate(5deg)}60%{transform:rotate(-3deg)}70%{transform:rotate(1deg)}80%{transform:rotate(0)}to{transform:rotate(0)}}.navbar-right .fa-bell,.navbar-right .fa-envelope{transform-origin:50% 0;display:inline-block}.navbar-right a:has(.badge-danger:not(:empty)) .fa-bell,.navbar-right a:has(.badge:not(:empty)) .fa-envelope{animation:1.5s ease-in-out infinite kr-bell-swing}@media (width<=767px){.navbar-header-buttons-left .fa-bell,.navbar-header-buttons-left .fa-envelope{transform-origin:50% 0;display:inline-block}.navbar-header-buttons-left a:has(.badge-danger:not(:empty)) .fa-bell,.navbar-header-buttons-left a:has(.badge:not(:empty)) .fa-envelope{animation:1.5s ease-in-out infinite kr-bell-swing}}.alert.alert-info{background-color:var(--kr-alert-info-bg);border-color:var(--kr-alert-info-border);color:var(--kr-text)}.alert strong,.alert p{color:var(--kr-text)}.list-group-item{border:none;padding:.6rem .75rem}.list-group-item.btn{border:none!important}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover,.list-group-item.active a{background-color:var(--kr-primary)!important;border-color:var(--kr-primary-dark)!important;color:var(--kr-surface)!important}.list-group-item:hover{color:var(--kr-primary-dark);background-color:#00000005}.img-circle{width:var(--kr-avatar-size);height:var(--kr-avatar-size);min-width:var(--kr-avatar-size);min-height:var(--kr-avatar-size);object-fit:cover;border-radius:50%;display:inline-block}.img-circle.img-responsive,.img-circle.img-thumbnail{width:var(--kr-avatar-size);height:var(--kr-avatar-size);max-width:none!important}.col-md-3.sidebar .avatar,.col-md-2.sidebar .avatar{margin-bottom:.5rem}.list-group a.list-group-item.ds_user,.list-group-item.ds_user{position:relative;min-height:var(--kr-avatar-size)!important;padding-right:calc(var(--kr-avatar-size) + 1rem)!important;align-items:center!important;display:flex!important}.list-group-item.ds_user .pull-right{position:absolute!important;top:50%!important;right:.75rem!important;transform:translateY(-50%)!important}#player-header-section .nopadding,#player-header-section .nopadding-right,#player-main-panel .nopadding,#player-main-panel .nopadding-right,#player-vitals-section .nopadding,#player-vitals-section .nopadding-right{padding-left:15px!important;padding-right:15px!important}#player-main-panel>.row>.nopadding:first-child{padding-left:10px!important;padding-right:10px!important}#player-vitals-section[style*=padding-left]{padding-left:0!important}#player-actions-section{flex-wrap:wrap;gap:.5rem;display:flex;padding:0 15px!important}.kr-quick-access-buttons .col-xs-6{margin-bottom:10px}#player-actions-section hr{width:100%;margin:.5rem 0}.carousel-caption{color:var(--kr-white);background:linear-gradient(#0000008c,#00000059);border-radius:.6rem;padding:1.4rem 1.4rem 56px}.item img[class*=-slide]{max-width:100%;height:auto;margin:0 auto;display:block}a.carousel-control.left,a.carousel-control.right{background-image:none}.modal{pointer-events:auto;justify-content:center;align-items:flex-start;padding-top:30px;display:flex!important;position:fixed!important;overflow-y:hidden!important}.modal.in{overflow-y:hidden!important}.modal-dialog{pointer-events:auto;flex-direction:column;width:900px;max-width:90vw;max-height:calc(100vh - 60px);margin:0 auto 30px;display:flex;overflow-y:auto}.modal-content{flex-direction:column;max-height:100%;display:flex;overflow:hidden}.modal-body{flex:auto;overflow-y:auto}.modal-header,.modal-footer{flex-shrink:0}@media (width<=767px){.bootbox-confirm .modal-body>select:first-of-type,.bootbox-confirm select.form-control{min-height:var(--mobile-touch-target);margin-bottom:var(--mobile-spacing-lg);border-radius:var(--mobile-radius);padding:8px 12px;font-size:16px!important}.bootbox-confirm .panel-heading ul.nav-tabs{margin-bottom:var(--mobile-spacing-md);grid-template-columns:repeat(2,1fr);padding-left:0;gap:var(--mobile-spacing-md)!important;border-bottom:none!important;display:grid!important}.bootbox-confirm .panel-heading ul.nav-tabs>li{padding:0;display:block;float:none!important;margin:0!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a{min-height:var(--mobile-touch-target);text-align:center;background:var(--kr-bg-elevated);transition:all var(--transition-fast);justify-content:center;align-items:center;padding:12px 16px;font-size:.95rem;font-weight:500;text-decoration:none;display:flex;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;margin:0!important}.bootbox-confirm .panel-heading ul.nav-tabs>li.active>a{background:var(--kr-primary);color:#fff;border-color:var(--kr-primary)!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a:hover,.bootbox-confirm .panel-heading ul.nav-tabs>li>a:focus{background:var(--kr-bg-hover);box-shadow:var(--kr-shadow-sm);text-decoration:none;transform:translateY(-1px);border-color:var(--kr-primary)!important}.bootbox-confirm .panel-heading ul.nav-tabs>li>a:active{background:var(--kr-bg-active);transform:translateY(0)}.bootbox-confirm .list-inline>li>a>.fa,.bootbox-confirm .list-inline>li>a>.glyphicon{margin-right:6px;font-size:1.1em}.bootbox-confirm .panel-actions{padding:var(--mobile-spacing-md);background:var(--kr-bg-surface);border-radius:var(--mobile-radius)}.bootbox-confirm .panel-actions:before{content:"Actions";color:var(--kr-text-secondary);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--mobile-spacing-sm);padding-bottom:var(--mobile-spacing-sm);border-bottom:1px solid var(--kr-border-default);font-size:.8125rem;font-weight:600;display:block}.bootbox-confirm .panel-actions .row.form-group{background:#ffffff05;border:1px solid #ffffff14;border-radius:4px;grid-template-columns:44px 1fr 60px 70px;gap:0;transition:all .2s;overflow:hidden;margin:0 0 2px!important;padding:0!important;display:grid!important}.bootbox-confirm .panel-actions .row.form-group:hover{background:#d4a5740d;border-color:#d4a5744d;transform:translate(2px)}.bootbox-confirm .panel-actions .row.form-group:has(input[type=radio]:checked){border-color:var(--kr-primary);background:#d4a5741f;box-shadow:0 0 0 1px #d4a57433}.bootbox-confirm .panel-actions .row.form-group>div{border-right:1px solid #ffffff0d;align-items:center;min-height:44px;margin:0!important;padding:8px 6px!important;display:flex!important}.bootbox-confirm .panel-actions .row.form-group>div:last-child{border-right:none}.bootbox-confirm .panel-actions .row.form-group>div:first-child{background:#0000001a;justify-content:center}.bootbox-confirm .panel-actions .row.form-group>div:nth-child(2){padding-left:12px!important}.bootbox-confirm .panel-actions .row.form-group>div:nth-child(3),.bootbox-confirm .panel-actions .row.form-group>div:nth-child(4){color:var(--kr-text-secondary);background:#00000026;justify-content:center;font-size:.875rem;font-weight:600}.bootbox-confirm .panel-actions input[type=radio]{cursor:pointer;accent-color:var(--kr-primary);flex-shrink:0;width:20px!important;min-width:20px!important;height:20px!important;min-height:20px!important;margin:0!important}.bootbox-confirm .panel-actions label{cursor:pointer;color:var(--kr-text-primary);user-select:none;font-size:.9375rem;font-weight:500;transition:color .2s;margin:0!important}.bootbox-confirm .panel-actions label:hover{color:var(--kr-primary)}.bootbox-confirm table{width:100%;margin-bottom:var(--mobile-spacing-lg);border-collapse:separate;border-spacing:0}.bootbox-confirm table td,.bootbox-confirm table th{vertical-align:middle;border-bottom:1px solid var(--kr-border-default);padding:12px 8px}.bootbox-confirm table th{color:var(--kr-text-secondary);background:var(--kr-bg-elevated);font-size:.875rem;font-weight:600}.bootbox-confirm input[type=checkbox]{cursor:pointer;width:20px;min-width:20px;height:20px;min-height:20px;accent-color:var(--kr-primary);margin:0}.bootbox-confirm .form-group:has(input[type=checkbox]),.bootbox-confirm .form-group:has(select[name=bonus]){width:auto;min-height:44px;margin-right:var(--mobile-spacing-md);margin-bottom:var(--mobile-spacing-md);align-items:center;gap:12px;display:inline-flex}.bootbox-confirm .modal-body label{cursor:pointer;align-items:center;gap:8px;min-height:44px;margin-bottom:0;padding:10px 0;display:inline-flex}.bootbox-confirm select[name=bonus]{border:1px solid var(--kr-border-default);background:var(--kr-bg-surface);min-height:44px;color:var(--kr-text-primary);cursor:pointer;border-radius:8px;padding:10px 12px;font-size:.9375rem}.bootbox-confirm .form-group{margin-bottom:var(--mobile-spacing-lg)}.bootbox-confirm .btn-toolbar{margin-bottom:var(--mobile-spacing-md);flex-wrap:wrap;gap:4px;display:flex}.bootbox-confirm .btn-toolbar .btn-group{margin-bottom:4px;margin-right:0}.bootbox-confirm .btn-toolbar .btn{min-height:var(--mobile-touch-target);min-width:var(--mobile-touch-target);border-radius:6px;justify-content:center;align-items:center;padding:8px 12px;display:inline-flex}.bootbox-confirm .btn-toolbar .btn:hover{background:var(--kr-bg-hover);border-color:var(--kr-primary)}.bootbox-confirm textarea.form-control{resize:vertical;min-height:120px;line-height:1.5;font-size:16px!important}@media (width<=768px){.bootbox-confirm>.modal-dialog{display:block!important}.bootbox-confirm .modal-content{flex-direction:column!important;max-height:90vh!important;display:flex!important}.bootbox-confirm .kraland-modal-header,.bootbox-confirm .kraland-character-title{z-index:110!important;background:#fff!important;flex-shrink:0!important;position:sticky!important;top:0!important}.bootbox-confirm .kraland-modal-header{border-bottom:1px solid #e0e0e0!important;padding:12px 16px 8px!important}.bootbox-confirm .kraland-character-title{margin:0!important;padding:8px 16px!important;font-size:18px!important}.bootbox-confirm .kraland-actions-zone{z-index:100!important;background:#fff!important;border-bottom:2px solid #f0f0f0!important;padding:12px 16px!important;position:sticky!important;top:0!important}.bootbox-confirm .modal-body{flex:1!important;padding:0!important;overflow:hidden auto!important}.bootbox-confirm .kraland-form-zone{padding:16px!important}.bootbox-confirm .kraland-action-footer{z-index:90!important;background:#f8f8f8!important;border-top:1px solid #e0e0e0!important;padding:12px 16px!important;position:sticky!important;bottom:72px!important}.bootbox-confirm .kraland-action-footer p{color:#666!important;margin:0!important;font-size:13px!important}.bootbox-confirm .kraland-modal-footer{z-index:110!important;background:#fff!important;border-top:2px solid #e0e0e0!important;flex-shrink:0!important;gap:12px!important;padding:12px 16px!important;display:flex!important;position:sticky!important;bottom:0!important}.bootbox-confirm .kraland-modal-footer .btn{border-radius:8px!important;flex:1!important;min-height:56px!important;font-size:16px!important}.bootbox-confirm .nav.nav-tabs li a{font-size:15px!important;font-weight:500!important;transition:all .2s!important;box-shadow:0 1px 3px #0000001a!important}.bootbox-confirm .nav.nav-tabs li a:hover{background:#f0f8ff!important;text-decoration:none!important}.bootbox-confirm .nav.nav-tabs li.active a{color:#fff!important;background:#428bca!important;border-color:#428bca!important}.bootbox-confirm .row,.bootbox-confirm [class*=col-],.bootbox-confirm .form-group,.bootbox-confirm .tab-content,.bootbox-confirm .panel-info .panel-heading,.bootbox-confirm .panel-info .panel-body,.bootbox-confirm .panel-info .panel-footer{display:block!important}.bootbox-confirm .panel-info .panel-heading .row,.bootbox-confirm .panel-info .panel-body .row,.bootbox-confirm .panel-info .panel-footer .row{flex-flow:row!important;align-items:center!important;margin-left:0!important;margin-right:0!important;display:flex!important}.bootbox-confirm .panel-info .row>[class*=col-]{flex-shrink:0!important}.bootbox-confirm .panel-info .panel-heading .row>.col-sm-1,.bootbox-confirm .panel-info .panel-body .row>.col-sm-1{flex:0 0!important;width:0!important;max-width:0%!important;padding:0!important;overflow:hidden!important}.bootbox-confirm .panel-info .panel-heading .row>.col-sm-7,.bootbox-confirm .panel-info .panel-body .row>.col-sm-7{flex:0 0 46%!important;max-width:46%!important}.bootbox-confirm .panel-info .panel-heading .row>.col-sm-2:nth-child(3),.bootbox-confirm .panel-info .panel-body .row>.col-sm-2:nth-child(3),.bootbox-confirm .panel-info .panel-heading .row>.col-sm-2:nth-child(4),.bootbox-confirm .panel-info .panel-body .row>.col-sm-2:nth-child(4){flex:0 0 27%!important;max-width:27%!important}.bootbox-confirm .panel-info .panel-heading .row>[class*=col-]:not(.col-sm-1),.bootbox-confirm .panel-info .panel-body .row>[class*=col-]:not(.col-sm-1){padding-left:8px!important;padding-right:8px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-1{flex:0 0 15%!important;max-width:15%!important;padding-left:8px!important;padding-right:4px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-7{flex:0 0 25%!important;max-width:25%!important;padding-left:0!important;padding-right:12px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-2:nth-child(3){flex:0 0 20%!important;max-width:20%!important;padding-left:12px!important;padding-right:4px!important}.bootbox-confirm .panel-info .panel-footer .row>.col-sm-2:nth-child(4){flex:0 0 40%!important;max-width:40%!important;padding-left:0!important;padding-right:8px!important}.bootbox-confirm .panel-info .panel-footer .row{align-items:center!important}.bootbox-confirm .panel-info .panel-footer input[type=checkbox],.bootbox-confirm .panel-info .panel-footer select,.bootbox-confirm .panel-info .panel-footer label{vertical-align:middle!important}.bootbox-confirm table{table-layout:auto!important;width:100%!important;display:table!important}.bootbox-confirm table tbody{display:table-row-group!important}.bootbox-confirm table tr{display:table-row!important}.bootbox-confirm table td,.bootbox-confirm table th{vertical-align:middle!important;display:table-cell!important}.bootbox-confirm .kraland-modal-header select{border-radius:8px!important;width:100%!important;height:48px!important;font-size:16px!important}.bootbox-confirm .kraland-character-title img{object-fit:cover!important;border-radius:8px!important;width:60px!important;height:60px!important;margin-right:12px!important}.bootbox-confirm .kraland-form-zone .panel{border-radius:8px!important;margin-bottom:16px!important}.bootbox-confirm .kraland-form-zone input[type=text],.bootbox-confirm .kraland-form-zone textarea,.bootbox-confirm .kraland-form-zone select{border-radius:6px!important;font-size:16px!important}.bootbox-confirm .kraland-form-zone textarea{min-height:120px!important}}.bootbox-confirm textarea.form-control:focus{border-color:var(--kr-primary);box-shadow:0 0 0 3px var(--kr-focus-ring);outline:none}@media (width<=768px){.bootbox-confirm .kr-alert-collapsible{border-radius:8px!important;margin-bottom:12px!important;padding:0!important;overflow:hidden!important}.bootbox-confirm .kr-alert-toggle{color:#1565c0!important;text-align:left!important;cursor:pointer!important;background:#e3f2fd!important;border:none!important;align-items:center!important;gap:8px!important;width:100%!important;padding:12px 16px!important;font-size:15px!important;font-weight:600!important;transition:background .2s!important;display:flex!important}.bootbox-confirm .kr-alert-toggle:active{background:#bbdefb!important}.bootbox-confirm .kr-alert-toggle i{font-size:18px!important}.bootbox-confirm .kr-alert-content{background:#fff!important;border-top:1px solid #e0e0e0!important;padding:12px 16px!important;animation:.2s slide-down!important}@keyframes slide-down{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.bootbox-confirm .nav.nav-tabs li.active a{color:#fff!important;background:linear-gradient(135deg,#428bca 0%,#3071a9 100%)!important;border-color:#428bca!important;font-weight:600!important;transform:translateY(-1px)!important;box-shadow:0 2px 8px #428bca66!important}.bootbox-confirm .nav.nav-tabs li a:active{transform:translateY(0)!important;box-shadow:0 1px 3px #0003!important}.bootbox-confirm .kraland-form-zone textarea#message{resize:vertical!important;min-height:160px!important;padding:12px!important;font-size:16px!important;line-height:1.5!important}.bootbox-confirm .kr-action-badges{flex-wrap:wrap!important;align-items:center!important;gap:8px!important;display:flex!important}.bootbox-confirm .kr-badge{white-space:nowrap!important;border-radius:16px!important;align-items:center!important;gap:6px!important;padding:6px 12px!important;font-size:13px!important;font-weight:500!important;display:inline-flex!important}.bootbox-confirm .kr-badge i{font-size:14px!important}.bootbox-confirm .kr-badge-cost{color:#856404!important;background:#fff3cd!important;border:1px solid #ffeaa7!important}.bootbox-confirm .kr-badge-duration{color:#0c5460!important;background:#d1ecf1!important;border:1px solid #b8daff!important}.bootbox-confirm .kr-badge-potential{color:#721c24!important;background:#f8d7da!important;border:1px solid #f5c6cb!important}.bootbox-confirm .kr-btn-primary-enhanced{color:#fff!important;background:linear-gradient(135deg,#5cb85c 0%,#449d44 100%)!important;border-color:#449d44!important;font-size:18px!important;font-weight:700!important;transition:all .2s!important;box-shadow:0 4px 12px #5cb85c66!important}.bootbox-confirm .kr-btn-primary-enhanced:active{transform:translateY(2px)!important;box-shadow:0 2px 6px #5cb85c4d!important}.bootbox-confirm .kr-btn-secondary-subtle{color:#666!important;background:#f5f5f5!important;border-color:#ddd!important;font-weight:500!important}.bootbox-confirm .kr-btn-secondary-subtle:active{background:#e0e0e0!important}.bootbox-confirm .kraland-modal-header select optgroup{color:#428bca!important;padding:8px 0!important;font-size:14px!important;font-weight:700!important}.bootbox-confirm .kraland-modal-header select option{padding:8px 12px!important;font-size:15px!important}}.bootbox-confirm .alert{margin-bottom:var(--mobile-spacing-lg);border-radius:var(--mobile-radius);background:var(--kr-alert-info-bg);border:1px solid var(--kr-alert-info-border);padding:12px;font-size:.875rem}.bootbox-confirm .alert .close{opacity:.5;font-size:1.5rem;line-height:1}.bootbox-confirm .modal-footer{background:var(--kr-bg-surface);border-top:2px solid var(--kr-border-strong);padding:var(--mobile-spacing-lg);z-index:100;gap:var(--mobile-spacing-md);flex-direction:column;display:flex;position:sticky;bottom:0;box-shadow:0 -4px 8px #0000000d}.bootbox-confirm .modal-footer p{color:var(--kr-text-primary);padding:var(--mobile-spacing-sm) var(--mobile-spacing-md);background:var(--kr-bg-elevated);border-radius:var(--mobile-radius);border-left:3px solid var(--kr-primary);margin-bottom:0;font-size:.9rem;font-weight:600}.bootbox-confirm .modal-footer .btn{min-height:var(--mobile-touch-target);border-radius:var(--mobile-radius);min-width:100px;padding:10px 24px;font-size:1rem;font-weight:500}.bootbox-confirm .modal-footer>div{gap:var(--mobile-spacing-md);justify-content:flex-end;display:flex}}.pagination>li.active>a{color:var(--kr-surface);background-color:var(--kr-primary-dark);border-color:var(--kr-primary-dark)}.pagination>li>a{color:var(--kr-primary)}.pagination>li.active>a:hover{color:var(--kr-surface);background-color:var(--kr-primary);border-color:var(--kr-primary)}.pagination>li>a:hover{color:var(--kr-primary)}.bg-primary{background-color:var(--kr-primary)!important;color:var(--kr-surface)!important}a:link,a:visited{color:var(--kr-highlight);text-decoration:none;transition:color .12s,opacity .12s}a:hover,a:focus{color:var(--kr-primary-dark);outline:none;text-decoration:underline}button.btn-primary,a.btn-primary{background-color:var(--kr-primary);border-color:var(--kr-primary-dark);color:var(--kr-highlight-reverse);box-shadow:0 6px 18px var(--kr-btn-shadow)}button.btn-primary:hover,button.btn-primary:focus,a.btn-primary:hover,a.btn-primary:focus{background-color:var(--kr-primary-dark)}hr[style*="border-top: 1px solid"][style*="337ab7"]{display:none!important}footer .container.white{position:relative}.container.white .kraland-back-to-top{z-index:1000;position:fixed;bottom:20px;right:20px;transform:none}.dashboard.dashboard-flex{flex-direction:column;gap:15px;display:flex}.dashboard-section{background:var(--kr-surface);border-radius:8px;overflow:hidden;box-shadow:0 2px 4px #00000014}.dashboard-section-header{background:var(--kr-primary);color:var(--kr-white);align-items:center;gap:5px;padding:3px 8px;font-size:9px;font-weight:600;display:flex}.dashboard-group-buttons{gap:6px;display:flex}.dashboard-group-buttons .btn{color:var(--kr-white);background-color:#ffffff26;border:1px solid #ffffff40;border-radius:4px;padding:4px 8px;font-size:12px;transition:all .2s}.dashboard-group-buttons .btn:hover{background-color:#ffffff40;border-color:#fff6;transform:scale(1.05)}.dashboard-group-buttons .btn i{font-size:12px}.dashboard-group-title{text-transform:uppercase;letter-spacing:.5px;flex:1}.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:10px;padding:12px;display:grid}.dashboard-cards-large{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.dashboard-card{background:var(--kr-white);border:1px solid #00000014;border-radius:6px;flex-direction:column;transition:all .2s;display:flex;position:relative;overflow:hidden}.dashboard-card:hover{border-color:var(--kr-primary);transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}.dashboard-card-large{min-height:90px}.dashboard-card-link{color:inherit;flex-direction:column;flex:1;text-decoration:none;display:flex}.dashboard-card-link:hover{text-decoration:none}.dashboard-card-header{background:#00000005;align-items:center;display:flex}.dashboard-card-avatar-wrapper{flex-shrink:0;justify-content:center;align-items:center;width:82px;height:82px;display:flex;position:relative}.dashboard-card-hp-circle{pointer-events:none;z-index:1;width:82px;height:82px;position:absolute;top:0;left:0}.dashboard-card-avatar{object-fit:cover;border:2px solid var(--kr-primary);z-index:2;border-radius:50%;flex-shrink:0;width:70px;height:70px;position:relative}.dashboard-card-large .dashboard-card-avatar{width:70px;height:70px}.dashboard-card-name-container{flex:1;align-items:center;gap:6px;min-width:0;display:flex}.dashboard-card-world{object-fit:contain;flex-shrink:0;width:20px;height:10px}.dashboard-card-name{color:var(--kr-text);text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical;flex:1;font-size:11px;font-weight:600;line-height:1.2;display:-webkit-box;overflow:hidden}.dashboard-card-large .dashboard-card-name{font-size:13px}.dashboard-card-body{flex-direction:column;flex:1;gap:3px;min-height:0;padding:0 8px 5px;display:flex}.dashboard-card-status{color:var(--kr-muted);text-overflow:ellipsis;white-space:nowrap;text-align:center;font-size:9px;line-height:1.2;overflow:hidden}.dashboard-card-large .dashboard-card-status{white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:11px;display:-webkit-box}.dashboard-card-hp{background:#00000014;height:6px;margin:0;position:relative}.dashboard-card-hp-fill{border-radius:0;height:100%;transition:width .3s,background-color .3s}.dashboard-card-pnj{background:var(--kr-badge-pnj);color:var(--kr-white);text-transform:uppercase;letter-spacing:.3px;z-index:1;border-radius:3px;padding:2px 5px;font-size:8px;font-weight:600;position:absolute;top:8px;right:8px}.dashboard-card-actions{opacity:.7;z-index:2;flex-direction:row;align-items:center;gap:4px;transition:opacity .2s;display:flex;position:absolute;bottom:4px;right:4px}.dashboard-card:hover .dashboard-card-actions{opacity:1}.dashboard-card-actions>div{flex-direction:column;gap:2px;display:flex;height:auto!important;margin:0!important;padding:0!important}.dashboard-card-actions>div>div{height:auto!important;margin:0!important;padding:0!important}.dashboard-card-actions a{background-color:#0009;border-radius:3px;justify-content:center;align-items:center;min-width:24px;height:24px;transition:background-color .2s;display:inline-flex;padding:4px 6px!important}.dashboard-card-actions a:hover{background-color:#000c}.dashboard-card-actions a i{color:var(--kr-white);margin:0;font-size:12px}@media (width<=767px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px}.dashboard-cards-large{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}}@media (width>=1920px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;padding:14px}}@media (width>=2560px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:14px}.dashboard-card-avatar{width:76px;height:76px}.dashboard-card-hp-circle,.dashboard-card-avatar-wrapper{width:88px;height:88px}.dashboard-card-name{font-size:12px}}@media (width>=3840px){.dashboard-cards-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}.dashboard-card-avatar{width:84px;height:84px}.dashboard-card-hp-circle,.dashboard-card-avatar-wrapper{width:96px;height:96px}.dashboard-card-name{font-size:14px}.dashboard-section-header{padding:5px 10px;font-size:11px}}.btn-toolbar .btn:not(.dropdown-menu *){background-color:var(--kr-surface)!important;color:var(--kr-primary)!important;box-shadow:none!important;background-image:none!important;border:1px solid #0000000f!important}.btn-toolbar .btn:not(.dropdown-menu *) i,.btn-toolbar .btn:not(.dropdown-menu *) .fa,.btn-toolbar .btn:not(.dropdown-menu *) .fas,.btn-toolbar .btn:not(.dropdown-menu *) .far{color:inherit!important}html[class*=-dark] body{background-color:var(--kr-bg-page);color:var(--kr-text-primary)}html[class*=-dark] .panel,html[class*=-dark] .panel-default{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .panel-heading{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .panel-body{background-color:var(--kr-bg-surface);color:var(--kr-text-primary)}html[class*=-dark] .panel-footer{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default)}html[class*=-dark] .well{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .kr-tamper-theme label{color:var(--kr-text-primary)}html[class*=-dark] .kr-tamper-theme .control-label{color:var(--kr-text-secondary)}html[class*=-dark] .kr-tamper-theme h4{color:var(--kr-text-primary)}html[class*=-dark] .modal-content{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .modal-header,html[class*=-dark] .modal-body,html[class*=-dark] .modal-footer{background-color:var(--kr-bg-surface);color:var(--kr-text-primary);border-color:var(--kr-border-default)}html[class*=-dark] .form-control{background-color:var(--kr-form-bg);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .form-control::placeholder{color:var(--kr-text-muted)}html[class*=-dark] .form-control:focus{background-color:var(--kr-form-bg-focus);border-color:var(--kr-primary);color:var(--kr-text-primary)}html[class*=-dark] .form-group label,html[class*=-dark] label{color:var(--kr-text-primary)}html[class*=-dark] .input-group-addon{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .btn-primary{background-color:var(--kr-primary);border-color:var(--kr-primary-dark);color:var(--kr-text-primary)}html[class*=-dark] .btn-primary:hover,html[class*=-dark] .btn-primary:focus,html[class*=-dark] .btn-primary:active{background-color:var(--kr-primary-dark);border-color:var(--kr-primary-dark);color:var(--kr-text-primary)}html[class*=-dark] .btn-default{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .btn-default:hover{background-color:var(--kr-bg-active);border-color:var(--kr-border-strong)}html[class*=-dark] .btn-default:focus,html[class*=-dark] .btn-default:active{background-color:var(--kr-bg-hover);border-color:var(--kr-border-strong);color:var(--kr-text-primary)}html[class*=-dark] .list-group-item{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .list-group-item:hover{background-color:var(--kr-bg-hover)}html[class*=-dark] .list-group-item-heading{color:var(--kr-text-primary)}html[class*=-dark] .list-group-item-text{color:var(--kr-text-secondary)}html[class*=-dark] .table{color:var(--kr-text-primary)}html[class*=-dark] .table>thead>tr>th,html[class*=-dark] .table>tbody>tr>th,html[class*=-dark] .table>tfoot>tr>th{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-primary)}html[class*=-dark] .table>tbody>tr>td{border-color:var(--kr-border-default)}html[class*=-dark] .table-striped>tbody>tr:nth-of-type(odd){background-color:var(--kr-bg-hover)}html[class*=-dark] .table.table-striped>tbody>tr{background-color:var(--kr-bg-page)}html[class*=-dark] .table.table-striped>tbody>tr:nth-of-type(odd){background-color:var(--kr-bg-elevated)}html[class*=-dark] .table-hover>tbody>tr:hover{background-color:var(--kr-bg-active)}html[class*=-dark] .dropdown-menu{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-strong)}html[class*=-dark] .dropdown-menu>li>a{color:var(--kr-text-primary)}html[class*=-dark] .dropdown-menu>li>a:hover,html[class*=-dark] .dropdown-menu>li>a:focus{background-color:var(--kr-bg-hover);color:var(--kr-text-primary)}html[class*=-dark] .dropdown-menu>.active>a,html[class*=-dark] .dropdown-menu>.active>a:hover,html[class*=-dark] .dropdown-menu>.active>a:focus{background-color:var(--kr-primary);color:var(--kr-text-inverse)}.dropdown-menu table img,.btn-toolbar .dropdown-menu table img{object-fit:contain!important;flex-shrink:0!important;width:32px!important;height:32px!important;display:block!important}html[class*=-dark] .nav-tabs{border-color:var(--kr-border-default)}html[class*=-dark] .nav-tabs>li>a{color:var(--kr-text-primary)}html[class*=-dark] .nav-tabs>li>a:hover{background-color:var(--kr-bg-hover);border-color:var(--kr-border-default)}html[class*=-dark] .nav-tabs>li.active>a,html[class*=-dark] .nav-tabs>li.active>a:hover,html[class*=-dark] .nav-tabs>li.active>a:focus{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default) var(--kr-border-default) transparent;color:var(--kr-text-primary)}html[class*=-dark] .alert{border-color:var(--kr-border-default);color:var(--kr-text-primary)!important}html[class*=-dark] .alert *{color:inherit!important}html[class*=-dark] .alert a{text-decoration:underline;color:var(--kr-primary)!important}html[class*=-dark] .alert-info{color:var(--kr-text-primary);background-color:#7a524026;border-color:#7a52404d}html[class*=-dark] .alert-success{color:var(--kr-text-primary);background-color:#22c55e26;border-color:#22c55e4d}html[class*=-dark] .alert-warning{color:var(--kr-text-primary);background-color:#f59e0b26;border-color:#f59e0b4d}html[class*=-dark] .alert-danger{color:var(--kr-text-primary);background-color:#ef444426;border-color:#ef44444d}html[class*=-dark] .progress{background-color:var(--kr-bg-elevated)}html[class*=-dark] .dashboard-card{background:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .dashboard-card:hover{box-shadow:var(--kr-shadow-md)}html[class*=-dark] .dashboard-card-header{background:var(--kr-bg-hover)}html[class*=-dark] .dashboard-card-name{color:var(--kr-text-primary)}html[class*=-dark] .dashboard-card-status{color:var(--kr-text-muted)}html[class*=-dark] .dashboard-section{background:var(--kr-bg-surface)}html[class*=-dark] .dashboard-card-hp{background:var(--kr-bg-elevated)}html[class*=-dark] .chat li{border-bottom-color:var(--kr-border-default)}html[class*=-dark] .panel-body-scroll{background-color:var(--kr-bg-surface)}html[class*=-dark] #flap{background-color:var(--kr-bg-elevated)}html[class*=-dark] #flap a.open,html[class*=-dark] #flap a.closed{background:var(--kr-bg-elevated);color:var(--kr-text-primary)}html[class*=-dark] .map-box{background-color:var(--kr-bg-surface);border-color:var(--kr-border-default)}html[class*=-dark] .map-box-title{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] .map-box-content{color:var(--kr-text-primary)}html[class*=-dark] .map-box-bottom{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] .f1{color:var(--kr-nation-1)}html[class*=-dark] .f2{color:var(--kr-nation-2)}html[class*=-dark] .f3{color:var(--kr-nation-3)}html[class*=-dark] .f4{color:var(--kr-nation-4)}html[class*=-dark] .f5{color:var(--kr-nation-5)}html[class*=-dark] .f6{color:var(--kr-nation-6)}html[class*=-dark] .f7{color:var(--kr-nation-7)}html[class*=-dark] .f8{color:var(--kr-nation-8)}html[class*=-dark] .f9{color:var(--kr-nation-9)}html[class*=-dark] .c1{background-color:var(--kr-nation-bg-1)}html[class*=-dark] .c2{background-color:var(--kr-nation-bg-2)}html[class*=-dark] .c3{background-color:var(--kr-nation-bg-3)}html[class*=-dark] .c4{background-color:var(--kr-nation-bg-4)}html[class*=-dark] .c5{background-color:var(--kr-nation-bg-5)}html[class*=-dark] .c6{background-color:var(--kr-nation-bg-6)}html[class*=-dark] .c7{background-color:var(--kr-nation-bg-7)}html[class*=-dark] .c8{background-color:var(--kr-nation-bg-8)}html[class*=-dark] .c9{background-color:var(--kr-nation-bg-9)}html[class*=-dark] .c10{background-color:var(--kr-nation-bg-10)}html[class*=-dark] font[color=\\#f4ac00],html[class*=-dark] font[color=f4ac00]{color:#ffbe33!important}html[class*=-dark] font[color=\\#f77400],html[class*=-dark] font[color=f77400]{color:#f83!important}html[class*=-dark] font[color=\\#ed6161],html[class*=-dark] font[color=ed6161]{color:#ff7a7a!important}html[class*=-dark] font[color=\\#d50000],html[class*=-dark] font[color=d50000]{color:#f33!important}html[class*=-dark] font[color=olive]{color:#b3b333!important}html[class*=-dark] font[color=\\#219c5a],html[class*=-dark] font[color="219c5a"]{color:#3c7!important}html[class*=-dark] font[color=\\#006f00],html[class*=-dark] font[color="006f00"]{color:#0b0!important}html[class*=-dark] font[color=teal]{color:#3cc!important}html[class*=-dark] font[color=\\#5577bc],html[class*=-dark] font[color="5577bc"]{color:#79d!important}html[class*=-dark] font[color=\\#2b2be4],html[class*=-dark] font[color="2b2be4"]{color:#55f!important}html[class*=-dark] font[color=navy]{color:#55c!important}html[class*=-dark] font[color=purple]{color:#c5c!important}html[class*=-dark] font[color=\\#4B0082],html[class*=-dark] font[color="4B0082"],html[class*=-dark] font[color="4b0082"]{color:#85c!important}html[class*=-dark] font[color=maroon]{color:#c55!important}html[class*=-dark] font[color=\\#5e432d],html[class*=-dark] font[color="5e432d"]{color:#a75!important}html[class*=-dark] font[color=gray]{color:#aaa!important}html[class*=-dark] font[color=\\#5a5a5a],html[class*=-dark] font[color="5a5a5a"]{color:#999!important}html[class*=-dark] font[color=\\#000000],html[class*=-dark] font[color="000000"]{color:#ccc!important}html[class*=-dark] .red{color:#f33!important}html[class*=-dark] .blue{color:#38f!important}html[class*=-dark] [style*="background-color:#f4ac00"],html[class*=-dark] [style*="background-color: #f4ac00"]{background-color:#ffbe33!important}html[class*=-dark] [style*="background-color:#f77400"],html[class*=-dark] [style*="background-color: #f77400"]{background-color:#f83!important}html[class*=-dark] [style*="background-color:#ed6161"],html[class*=-dark] [style*="background-color: #ed6161"]{background-color:#ff7a7a!important}html[class*=-dark] [style*="background-color:#d50000"],html[class*=-dark] [style*="background-color: #d50000"]{background-color:#f33!important}html[class*=-dark] [style*="background-color:#808000"],html[class*=-dark] [style*="background-color: #808000"]{background-color:#b3b333!important}html[class*=-dark] [style*="background-color:#219c5a"],html[class*=-dark] [style*="background-color: #219c5a"]{background-color:#3c7!important}html[class*=-dark] [style*="background-color:#006f00"],html[class*=-dark] [style*="background-color: #006f00"]{background-color:#0b0!important}html[class*=-dark] [style*="background-color:#008080"],html[class*=-dark] [style*="background-color: #008080"]{background-color:#3cc!important}html[class*=-dark] [style*="background-color:#5577bc"],html[class*=-dark] [style*="background-color: #5577bc"]{background-color:#79d!important}html[class*=-dark] [style*="background-color:#2b2be4"],html[class*=-dark] [style*="background-color: #2b2be4"]{background-color:#55f!important}html[class*=-dark] [style*="background-color:#000080"],html[class*=-dark] [style*="background-color: #000080"]{background-color:#55c!important}html[class*=-dark] [style*="background-color:#800080"],html[class*=-dark] [style*="background-color: #800080"]{background-color:#c5c!important}html[class*=-dark] [style*="background-color:#4B0082"],html[class*=-dark] [style*="background-color: #4B0082"],html[class*=-dark] [style*="background-color:#4b0082"],html[class*=-dark] [style*="background-color: #4b0082"]{background-color:#85c!important}html[class*=-dark] [style*="background-color:#800000"],html[class*=-dark] [style*="background-color: #800000"]{background-color:#c55!important}html[class*=-dark] [style*="background-color:#5e432d"],html[class*=-dark] [style*="background-color: #5e432d"]{background-color:#a75!important}html[class*=-dark] [style*="background-color:#808080"],html[class*=-dark] [style*="background-color: #808080"]{background-color:#aaa!important}html[class*=-dark] [style*="background-color:#5a5a5a"],html[class*=-dark] [style*="background-color: #5a5a5a"]{background-color:#999!important}html[class*=-dark] [style*="background-color:#000000"],html[class*=-dark] [style*="background-color: #000000"]{background-color:#ccc!important}html[class*=-dark] ::-webkit-scrollbar-track{background-color:var(--kr-bg-page)}html[class*=-dark] ::-webkit-scrollbar-thumb{background-color:var(--kr-text-muted)}html[class*=-dark] ::-webkit-scrollbar-thumb:hover{background-color:var(--kr-text-secondary)}html[class*=-dark] ::selection{background-color:var(--kr-primary);color:var(--kr-text-inverse)}html[class*=-dark] footer{background-color:var(--kr-bg-elevated);border-top:1px solid var(--kr-border-default)}html[class*=-dark] .footer-quote{color:var(--kr-text-secondary)}html[class*=-dark] #skills-panel{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}html[class*=-dark] hr{display:none}html[class*=-dark] .carousel-control{color:var(--kr-primary);opacity:.7}html[class*=-dark] .carousel-control:hover,html[class*=-dark] .carousel-control:focus{color:var(--kr-highlight);opacity:.9}html[class*=-dark] .carousel-indicators li{background-color:var(--kr-border-default);border-color:var(--kr-border-default)}html[class*=-dark] .carousel-indicators .active{background-color:var(--kr-primary);border-color:var(--kr-primary)}html[class*=-dark] a:link,html[class*=-dark] a:visited{color:var(--kr-highlight)}html[class*=-dark] a:hover,html[class*=-dark] a:focus{color:var(--kr-primary)}html[class*=-dark] a.prev,html[class*=-dark] a.next{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] a.prev:hover,html[class*=-dark] a.next:hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-highlight)!important}html[class*=-dark] .btn-warning{background-color:var(--kr-primary)!important;border-color:var(--kr-primary-dark)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .btn-warning:hover{background-color:var(--kr-highlight)!important;border-color:var(--kr-primary)!important}html[class*=-dark] img[src*="/mat/94/"]{filter:none;opacity:.85}html[class*=-dark] img[src*="/mat/94/"]:hover{filter:none;opacity:1}html[class*=-dark] img[src*="/bat/bat"]{filter:none;opacity:.85}html[class*=-dark] img[src*="/bat/bat"]:hover{filter:none;opacity:1}html[class*=-dark] img[src*="/voc/"]{filter:none;opacity:.85}html[class*=-dark] img[src*="/voc/"]:hover{filter:none;opacity:1}.c100{background-color:var(--kr-bg-elevated,#f5f5f5)!important;border-radius:50%!important;justify-content:center!important;align-items:center!important;width:80px!important;height:80px!important;display:flex!important;position:relative!important;overflow:visible!important}.c100 .slice,.c100 .bar,.c100 .fill{display:none!important}.c100>span{z-index:10!important;color:var(--kr-text-primary,#333)!important;text-align:center!important;font-size:20px!important;font-weight:600!important;position:relative!important}.c100:after{content:""!important;background-color:var(--kr-bg-elevated,#f5f5f5)!important;z-index:5!important;border-radius:50%!important;width:68px!important;height:68px!important;position:absolute!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}.c100:before{content:""!important;background:conic-gradient(var(--clock-color,#8b0000) 0deg, var(--clock-color,#8b0000) calc(var(--clock-deg,0) * 1deg), transparent calc(var(--clock-deg,0) * 1deg), transparent 360deg)!important;z-index:1!important;border-radius:50%!important;width:100%!important;height:100%!important;transition:none!important;position:absolute!important;top:0!important;left:0!important}.c100[data-second-lap=true]:before{box-shadow:0 0 0 1px var(--kr-bg-elevated,#f5f5f5), 0 0 0 5px var(--clock-color,#32cd32), inset 0 0 0 2px var(--clock-color,#32cd32)!important}.c100.p0{--clock-deg:0}.c100.p1{--clock-deg:3.6}.c100.p2{--clock-deg:7.2}.c100.p3{--clock-deg:10.8}.c100.p4{--clock-deg:14.4}.c100.p5{--clock-deg:18}.c100.p6{--clock-deg:21.6}.c100.p7{--clock-deg:25.2}.c100.p8{--clock-deg:28.8}.c100.p9{--clock-deg:32.4}.c100.p10{--clock-deg:36}.c100.p11{--clock-deg:39.6}.c100.p12{--clock-deg:43.2}.c100.p13{--clock-deg:46.8}.c100.p14{--clock-deg:50.4}.c100.p15{--clock-deg:54}.c100.p16{--clock-deg:57.6}.c100.p17{--clock-deg:61.2}.c100.p18{--clock-deg:64.8}.c100.p19{--clock-deg:68.4}.c100.p20{--clock-deg:72}.c100.p21{--clock-deg:75.6}.c100.p22{--clock-deg:79.2}.c100.p23{--clock-deg:82.8}.c100.p24{--clock-deg:86.4}.c100.p25{--clock-deg:90}.c100.p26{--clock-deg:93.6}.c100.p27{--clock-deg:97.2}.c100.p28{--clock-deg:100.8}.c100.p29{--clock-deg:104.4}.c100.p30{--clock-deg:108}.c100.p31{--clock-deg:111.6}.c100.p32{--clock-deg:115.2}.c100.p33{--clock-deg:118.8}.c100.p34{--clock-deg:122.4}.c100.p35{--clock-deg:126}.c100.p36{--clock-deg:129.6}.c100.p37{--clock-deg:133.2}.c100.p38{--clock-deg:136.8}.c100.p39{--clock-deg:140.4}.c100.p40{--clock-deg:144}.c100.p41{--clock-deg:147.6}.c100.p42{--clock-deg:151.2}.c100.p43{--clock-deg:154.8}.c100.p44{--clock-deg:158.4}.c100.p45{--clock-deg:162}.c100.p46{--clock-deg:165.6}.c100.p47{--clock-deg:169.2}.c100.p48{--clock-deg:172.8}.c100.p49{--clock-deg:176.4}.c100.p50{--clock-deg:180}.c100.p51{--clock-deg:183.6}.c100.p52{--clock-deg:187.2}.c100.p53{--clock-deg:190.8}.c100.p54{--clock-deg:194.4}.c100.p55{--clock-deg:198}.c100.p56{--clock-deg:201.6}.c100.p57{--clock-deg:205.2}.c100.p58{--clock-deg:208.8}.c100.p59{--clock-deg:212.4}.c100.p60{--clock-deg:216}.c100.p61{--clock-deg:219.6}.c100.p62{--clock-deg:223.2}.c100.p63{--clock-deg:226.8}.c100.p64{--clock-deg:230.4}.c100.p65{--clock-deg:234}.c100.p66{--clock-deg:237.6}.c100.p67{--clock-deg:241.2}.c100.p68{--clock-deg:244.8}.c100.p69{--clock-deg:248.4}.c100.p70{--clock-deg:252}.c100.p71{--clock-deg:255.6}.c100.p72{--clock-deg:259.2}.c100.p73{--clock-deg:262.8}.c100.p74{--clock-deg:266.4}.c100.p75{--clock-deg:270}.c100.p76{--clock-deg:273.6}.c100.p77{--clock-deg:277.2}.c100.p78{--clock-deg:280.8}.c100.p79{--clock-deg:284.4}.c100.p80{--clock-deg:288}.c100.p81{--clock-deg:291.6}.c100.p82{--clock-deg:295.2}.c100.p83{--clock-deg:298.8}.c100.p84{--clock-deg:302.4}.c100.p85{--clock-deg:306}.c100.p86{--clock-deg:309.6}.c100.p87{--clock-deg:313.2}.c100.p88{--clock-deg:316.8}.c100.p89{--clock-deg:320.4}.c100.p90{--clock-deg:324}.c100.p91{--clock-deg:327.6}.c100.p92{--clock-deg:331.2}.c100.p93{--clock-deg:334.8}.c100.p94{--clock-deg:338.4}.c100.p95{--clock-deg:342}.c100.p96{--clock-deg:345.6}.c100.p97{--clock-deg:349.2}.c100.p98{--clock-deg:352.8}.c100.p99{--clock-deg:356.4}.c100.p100{--clock-deg:360}html[class*=-dark] .c100{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] .c100:after{background-color:var(--kr-bg-elevated)!important}html[class*=-dark] .c100>span{color:var(--kr-text-primary)!important;width:80px!important;height:80px!important;font-size:20px!important;font-weight:600!important;line-height:80px!important}html[class*=-dark] .c100 .slice{border-color:var(--kr-bg-elevated)!important}html[class*=-dark] .c100 .bar{border-color:var(--kr-primary)!important}html[class*=-dark] .c100 .fill{border-color:var(--kr-bg-elevated)!important}html[class*=-dark] .pagination{background-color:#0000!important}html[class*=-dark] .pagination>li>a,html[class*=-dark] .pagination>li>span{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] .pagination>li.disabled>a,html[class*=-dark] .pagination>li.disabled>span{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-muted)!important;opacity:.6!important}html[class*=-dark] .pagination>li>a:hover,html[class*=-dark] .pagination>li>span:hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-primary)!important}html[class*=-dark] .pagination>.active>a,html[class*=-dark] .pagination>.active>span,html[class*=-dark] .pagination>.active>a:hover,html[class*=-dark] .pagination>.active>span:hover{background-color:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .dataTables_paginate{background-color:#0000!important}html[class*=-dark] .dataTables_paginate .paginate_button{background-color:var(--kr-bg-elevated)!important;border:1px solid var(--kr-border-default)!important;color:var(--kr-text-primary)!important;box-shadow:none!important;background-image:none!important}html[class*=-dark] .dataTables_paginate .paginate_button.current{background-color:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .dataTables_paginate .paginate_button.disabled,html[class*=-dark] .dataTables_paginate .paginate_button.disabled:hover{background-color:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-muted)!important;opacity:.6!important;cursor:not-allowed!important}html[class*=-dark] .dataTables_paginate .paginate_button:not(.disabled):hover{background-color:var(--kr-bg-hover)!important;border-color:var(--kr-border-strong)!important;color:var(--kr-primary)!important}html[class*=-dark] .dataTables_paginate .paginate_button.current:hover{background-color:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:var(--kr-text-inverse)!important}html[class*=-dark] .dataTables_wrapper{color:var(--kr-text-primary)}html[class*=-dark] .dataTables_info,html[class*=-dark] .dataTables_filter,html[class*=-dark] .dataTables_length{color:var(--kr-text-secondary)!important}html[class*=-dark] .dataTables_filter label,html[class*=-dark] .dataTables_length label{color:var(--kr-text-secondary)}html[class*=-dark] .dataTables_filter input,html[class*=-dark] .dataTables_length select{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] .dataTables_filter input:focus,html[class*=-dark] .dataTables_length select:focus{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-primary)!important;outline:none!important}html[class*=-dark] table.dataTable{color:var(--kr-text-primary)!important;background-color:#0000!important}html[class*=-dark] table.dataTable thead th,html[class*=-dark] table.dataTable thead td{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] table.dataTable thead th.sorting,html[class*=-dark] table.dataTable thead th.sorting_asc,html[class*=-dark] table.dataTable thead th.sorting_desc{background-color:var(--kr-bg-elevated)!important}html[class*=-dark] table.dataTable thead th.sorting:hover,html[class*=-dark] table.dataTable thead th.sorting_asc:hover,html[class*=-dark] table.dataTable thead th.sorting_desc:hover{background-color:var(--kr-bg-hover)!important}html[class*=-dark] table.dataTable tbody tr,html[class*=-dark] table.dataTable tbody tr.odd{background-color:var(--kr-bg-surface)!important}html[class*=-dark] table.dataTable tbody tr.even{background-color:var(--kr-bg-hover)!important}html[class*=-dark] table.dataTable tbody tr:hover{background-color:var(--kr-bg-active)!important}html[class*=-dark] table.dataTable tbody td{border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}html[class*=-dark] table.dataTable tbody td.dataTables_empty{background-color:var(--kr-bg-surface)!important;color:var(--kr-text-secondary)!important}html[class*=-dark] table.dataTable tfoot th,html[class*=-dark] table.dataTable tfoot td{background-color:var(--kr-bg-elevated)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}body>div:has([id^=c]){min-height:550px;display:block;position:relative}body>map{display:none}@media (width<=767px){html{overflow-anchor:none!important}.container{width:100%!important;max-width:100%!important;padding-left:15px!important;padding-right:15px!important}.navbar-header{justify-content:center!important;align-items:center!important;width:100vw!important;height:60px!important;margin-left:calc(50% - 50vw)!important;margin-right:calc(50% - 50vw)!important;padding-left:0!important;padding-right:0!important;display:flex!important;position:relative!important}.navbar-brand{float:none!important;align-items:center!important;margin:0!important;padding:15px!important;display:flex!important}.navbar-toggle{float:none!important;backdrop-filter:blur(10px)!important;background:#ffffff26!important;border:none!important;border-radius:12px!important;flex-direction:column!important;justify-content:center!important;align-items:center!important;gap:4px!important;width:48px!important;min-width:48px!important;height:48px!important;min-height:48px!important;margin:0!important;padding:8px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;display:flex!important;position:absolute!important;top:50%!important;right:15px!important;transform:translateY(-50%)!important;box-shadow:0 2px 8px #00000026!important}.navbar-toggle:hover,.navbar-toggle:focus{background:#ffffff40!important;transform:translateY(-50%)scale(1.05)!important;box-shadow:0 4px 12px #0003!important}.navbar-toggle:active{transform:translateY(-50%)scale(.98)!important}.navbar-toggle .icon-bar{background-color:#fff!important;border-radius:2px!important;width:22px!important;height:2px!important;transition:all .3s cubic-bezier(.4,0,.2,1)!important;display:block!important}.navbar-toggle:hover .icon-bar:nth-child(2){width:18px!important;margin-left:4px!important}.navbar-toggle:hover .icon-bar:nth-child(4){width:18px!important}.navbar-collapse{border-top:1px solid #ffffff1a!important;width:100%!important;box-shadow:inset 0 1px #ffffff1a!important}.navbar-collapse.in{max-height:calc(100vh - 60px)!important;overflow-y:auto!important}.navbar-nav>li>a{padding:15px 20px!important;font-size:16px!important}.navbar-nav.navbar-right>li>a{padding:15px 12px!important}.navbar-brand img.kr-logo{height:24px!important}body.mobile-mode>.container>.row>[class*=col-md-],body.mobile-mode>.container>.row>[class*=col-sm-],body.mobile-mode .container:not(.bootbox)>.row>[class*=col-md-],body.mobile-mode .container:not(.bootbox)>.row>[class*=col-sm-]{float:none!important;width:100%!important;margin-bottom:15px!important;padding-left:10px!important;padding-right:10px!important}.carousel{margin-bottom:20px!important}.carousel .carousel-caption{background:#000000b3!important;padding:15px!important;position:relative!important;bottom:0!important;left:0!important;right:0!important}.carousel .carousel-caption h1{font-size:1.5rem!important;line-height:1.3!important}.carousel .carousel-caption p{font-size:.95rem!important}.carousel-inner>.item>img{width:100%!important;height:auto!important}a.list-group-item.ds_users,a.list-group-item.ds_characters,a.list-group-item.ds_online,.panel-body.panel-news ul.demo li.news-item:nth-child(n+2){display:none!important}.panel-default ul.pagination.pull-right>li>a{min-width:32px!important;min-height:32px!important;padding:6px 10px!important;font-size:12px!important;line-height:1.2!important}.list-group-item.active{justify-content:space-between!important;align-items:center!important;padding:10px 15px!important;display:flex!important}#slide-submenu{cursor:pointer!important;color:inherit!important;background:0 0!important;border:none!important;flex-shrink:0!important;margin-left:10px!important;padding:4px 8px!important;font-size:18px!important;line-height:1!important;transition:opacity .2s!important}#slide-submenu:hover{opacity:.7!important}#player-header-section.kr-news-collapsed .panel.panel-default{display:none!important}.dashboard-cards-grid{grid-template-columns:repeat(3,1fr)!important;gap:8px!important}.dashboard-card{padding:10px!important}.dashboard-card h4{font-size:1.1rem!important}.panel{margin-bottom:15px!important}.panel-heading{flex-wrap:wrap!important;align-items:center!important;gap:10px!important;padding:10px 15px!important;display:flex!important}.panel-heading .pull-right{float:none!important;align-items:center!important;margin-left:auto!important;display:flex!important}.panel-body{padding:15px!important}.pagination{margin:10px 0!important}.pagination>li>a,.pagination>li>span{box-sizing:border-box!important;justify-content:center!important;align-items:center!important;width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;min-height:44px!important;max-height:44px!important;padding:12px 16px!important;font-size:16px!important;line-height:1!important;display:flex!important}h1.page-header{margin-bottom:10px!important}a[name^=msg]{clip-path:inset(50%)!important;white-space:nowrap!important;border:0!important;width:0!important;height:0!important;margin:0!important;padding:0!important;position:absolute!important;overflow:hidden!important}.well{margin-bottom:15px!important;padding:15px!important}.alert{margin-bottom:15px!important;padding:12px 15px!important}#flap{z-index:1050!important;background:var(--kr-bg-surface)!important;width:85%!important;max-width:320px!important;height:100vh!important;transition:right .3s!important;position:fixed!important;top:0!important;right:-100%!important;overflow-y:auto!important;box-shadow:-2px 0 10px #0000004d!important}#flap.mobile-open{right:0!important}a[href*=\\#flap]{z-index:1000!important;background:var(--kr-primary)!important;color:#fff!important;text-align:center!important;width:56px!important;height:56px!important;box-shadow:var(--kr-shadow-lg)!important;border-radius:50%!important;justify-content:center!important;align-items:center!important;font-size:18px!important;font-weight:700!important;text-decoration:none!important;display:flex!important;position:fixed!important;bottom:20px!important;right:20px!important}#skills-panel{z-index:1050!important;background:var(--kr-bg-surface)!important;width:85%!important;max-width:320px!important;height:100vh!important;padding:15px!important;transition:left .3s!important;position:fixed!important;top:0!important;left:-100%!important;overflow-y:auto!important;box-shadow:2px 0 10px #0000004d!important}#skills-panel.mobile-open{left:0!important}.col-md-1:has(#skills-panel){width:0!important;margin:0!important;padding:0!important;position:static!important}#skills-panel .grid-transformed{grid-template-columns:repeat(2,1fr)!important;gap:8px!important;display:grid!important}body.mobile-mode>.container>.row>.col-md-3,body.mobile-mode>.container>.row>.col-md-6,body.mobile-mode>.container>.row>.col-md-8,body.mobile-mode>.container>.row>.col-md-1{float:none!important;width:100%!important;padding-left:15px!important;padding-right:15px!important}.panel-heading img{max-width:60px!important;max-height:60px!important}.panel-body>div{margin-bottom:10px!important}.progress{height:24px!important;margin-bottom:8px!important}.progress-bar{font-size:12px!important;line-height:24px!important}.panel-body:has(map),.panel-body:has([id^=c]){-webkit-overflow-scrolling:touch!important;padding:10px!important;overflow-x:auto!important}body>div:has([id^=c]){min-height:400px!important}map+img,[id^=c] img{max-width:none!important;height:auto!important}.list-group{margin-bottom:15px!important}.list-group-item{justify-content:space-between!important;align-items:center!important;gap:10px!important;min-height:44px!important;padding:10px 12px!important;display:flex!important}.list-group-item img:not(.dashboard-card-avatar,.dashboard-card-world){flex-shrink:0!important;width:40px!important;height:40px!important}.list-group-item-heading{margin-bottom:4px!important;font-size:14px!important}.list-group-item-text{font-size:12px!important}.panel-body h4{margin-top:15px!important;margin-bottom:10px!important;font-size:1rem!important}.panel-body a{border-radius:4px!important;align-items:center!important;gap:10px!important;margin-bottom:5px!important;padding:8px!important;font-size:14px!important;display:flex!important}.panel-body a:hover{background-color:var(--kr-bg-hover)!important}.panel-body a img{flex-shrink:0!important;width:32px!important;height:32px!important}.table-responsive{-webkit-overflow-scrolling:touch!important;margin-bottom:15px!important;overflow-x:auto!important}body.mobile-mode #col-right table:not(.dataTable){-webkit-overflow-scrolling:touch!important;display:block!important;overflow-x:auto!important}.table>thead>tr>th,.table>tbody>tr>th,.table>tfoot>tr>th,.table>thead>tr>td,.table>tbody>tr>td,.table>tfoot>tr>td{padding:8px!important;font-size:13px!important}a:not(.list-group-item),button,.btn,input[type=button],input[type=submit],input[type=reset]{justify-content:center!important;align-items:center!important;min-height:44px!important;display:inline-flex!important}.btn{padding:12px 20px!important;font-size:16px!important}.btn-xs{min-height:32px!important;padding:6px 12px!important;font-size:14px!important}.btn-sm{min-height:38px!important;padding:8px 16px!important;font-size:14px!important}.btn-lg{min-height:50px!important;padding:14px 24px!important;font-size:18px!important}.form-control{height:44px!important;padding:10px 12px!important;font-size:16px!important}textarea.form-control{height:auto!important;min-height:100px!important}select.form-control{height:44px!important}input[type=checkbox],input[type=radio]{width:20px!important;height:20px!important;margin:4px!important}label{cursor:pointer!important;padding:5px 0!important;display:inline-block!important}.btn+.btn{margin-top:8px!important;margin-left:0!important}.btn-group-vertical>.btn{margin-top:0!important;margin-bottom:8px!important}.btn-group{flex-direction:column!important;width:100%!important;display:flex!important}.btn-group>.btn{width:100%!important;margin-bottom:8px!important}.breadcrumb{padding:10px 15px!important;font-size:14px!important}.nav-tabs>li>a{padding:12px 16px!important;font-size:16px!important}.dropdown-menu>li>a{padding:12px 20px!important;font-size:16px!important}.modal-dialog{width:auto!important;margin:10px!important}.modal-content{border-radius:8px!important}.modal-header,.modal-body,.modal-footer{padding:15px!important}.popover{max-width:calc(100vw - 40px)!important}.tooltip{font-size:14px!important}.footer{padding:15px!important;font-size:14px!important}h1{font-size:1.75rem!important}h2{font-size:1.5rem!important}h3{font-size:1.25rem!important}h4{font-size:1.1rem!important}h5{font-size:1rem!important}h6{font-size:.9rem!important}.row{margin-left:-10px!important;margin-right:-10px!important}.hidden-xs{display:none!important}.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}.kr-mobile-overlay{z-index:1040;opacity:0;background:#00000080;transition:opacity .3s;display:none;position:fixed;inset:0}.kr-mobile-overlay.active{opacity:1;display:block}.kr-mobile-close{background:var(--kr-primary);color:#fff;cursor:pointer;z-index:10;border:none;border-radius:50%;justify-content:center;align-items:center;width:40px;height:40px;font-size:20px;display:flex;position:absolute;top:10px;right:10px}.kr-mobile-close:hover{background:var(--kr-primary-dark)}.kr-mobile-skills-toggle{z-index:1000!important;width:56px!important;height:56px!important;box-shadow:var(--kr-shadow-lg)!important;border-radius:50%!important;padding:0!important;display:none!important;position:fixed!important;bottom:90px!important;right:20px!important}@media (width<=767px){.kr-mobile-skills-toggle{justify-content:center!important;align-items:center!important;display:flex!important}body.mobile-mode .desktop-only,body.mobile-mode .mobile-hidden{display:none}}@media (width>=768px){body.mobile-mode .mobile-only{display:none}}@media (width<=767px){.visible-xs-block{display:block}.visible-xs-inline{display:inline}.visible-xs-inline-block{display:inline-block}.hidden-xs{display:none}body.mobile-mode{& .mobile-mini-profile{cursor:pointer;transition:all var(--transition-normal);padding:12px;position:relative;background:var(--kr-bg-surface)!important;border-bottom:1px solid var(--kr-border-default)!important}& .mobile-mini-profile:active{background:var(--kr-bg-hover)!important}& .mobile-mini-profile.collapsed{min-height:72px}& .mobile-mini-profile.expanded{min-height:200px}& .mobile-mini-profile-header{align-items:center;gap:12px;margin-bottom:8px;display:flex}& .mobile-mini-profile .avatar{transition:all var(--transition-normal);object-fit:cover;border-radius:4px;flex-shrink:0;width:48px!important;height:48px!important}& .mobile-mini-profile.expanded .avatar{width:64px!important;height:64px!important}& .mobile-mini-profile-info{flex:1;min-width:0}& .mobile-mini-profile-name-row{justify-content:space-between!important;align-items:center!important;gap:8px!important;margin-bottom:2px!important;display:flex!important}& .mobile-mini-profile-name{white-space:nowrap!important;text-overflow:ellipsis!important;color:var(--kr-text-primary)!important;flex:1!important;font-size:14px!important;font-weight:600!important;overflow:hidden!important}& .mobile-mini-profile-manage-btn{background:var(--kr-bg-surface)!important;border:none!important;flex-shrink:0!important;justify-content:center!important;align-items:center!important;min-width:44px!important;min-height:44px!important;padding:8px!important;font-size:20px!important;display:flex!important}& .mobile-mini-profile-manage-btn:active{background:var(--kr-bg-hover)!important}& .mobile-mini-profile-money{color:var(--kr-text-secondary)!important;align-items:center!important;gap:4px!important;font-size:13px!important;display:flex!important}& .mobile-mini-profile-clock{color:var(--kr-text-muted)!important;margin-left:8px!important;font-size:12px!important}& .mobile-mini-profile-settings{background:var(--kr-bg-hover)!important;cursor:pointer!important;z-index:10!important;border-radius:50%!important;justify-content:center!important;align-items:center!important;width:32px!important;height:32px!important;font-size:16px!important;text-decoration:none!important;display:flex!important;position:absolute!important;top:12px!important;right:12px!important}& .mobile-mini-profile-settings:hover{background:var(--kr-bg-active)!important}& .mobile-mini-profile-gauges-compact{gap:8px!important;margin-top:4px!important;font-size:11px!important;display:flex!important}& .mobile-gauge-compact{flex:1!important;align-items:center!important;gap:2px!important;display:flex!important}& .mobile-gauge-compact-label{min-width:20px!important;font-size:10px!important;font-weight:600!important}& .mobile-gauge-compact-bar{background:var(--kr-border-default)!important;border-radius:3px!important;flex:1!important;height:6px!important;position:relative!important;overflow:hidden!important}& .mobile-gauge-compact-fill{height:100%!important;transition:width var(--transition-normal)!important;position:absolute!important;top:0!important;left:0!important}& .mobile-gauge-compact-fill.pv{background:var(--kr-gauge-pv)!important}& .mobile-gauge-compact-fill.pm{background:var(--kr-gauge-pm)!important}& .mobile-gauge-compact-fill.pp{background:var(--kr-gauge-pp)!important}& .mobile-gauge-compact-value{color:var(--kr-text-secondary)!important;white-space:nowrap!important;text-align:right!important;min-width:20px!important;font-size:10px!important}& .mobile-mini-profile-details{max-height:0!important;transition:max-height var(--transition-normal)!important;overflow:hidden!important}& .mobile-mini-profile.expanded .mobile-mini-profile-details{max-height:1200px!important}& .mobile-mini-profile-gauges-full{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:4px!important;margin:12px 0!important;padding:12px!important}& .mobile-gauge-full{margin-bottom:8px!important}& .mobile-gauge-full:last-child{margin-bottom:0!important}& .mobile-gauge-full-header{justify-content:space-between!important;margin-bottom:4px!important;font-size:12px!important;font-weight:600!important;display:flex!important}& .mobile-gauge-full-bar{background:var(--kr-border-default)!important;border-radius:6px!important;height:12px!important;position:relative!important;overflow:hidden!important}& .mobile-gauge-full-fill{height:100%!important;transition:width var(--transition-normal)!important;position:absolute!important;top:0!important;left:0!important}& .mobile-gauge-full-fill.pv{background:var(--kr-gauge-pv)!important}& .mobile-gauge-full-fill.pm{background:var(--kr-gauge-pm)!important}& .mobile-gauge-full-fill.pp{background:var(--kr-gauge-pp)!important}& .mobile-mini-profile-characteristics{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:4px!important;grid-template-columns:repeat(6,1fr)!important;gap:0!important;margin:12px 0!important;padding:12px!important;display:grid!important}& .mobile-characteristic-badge{justify-content:center!important;align-items:center!important;min-width:44px!important;min-height:44px!important;margin:4px!important;display:flex!important}& .mobile-characteristic-badge:active{background:var(--kr-bg-hover)!important}& .mobile-mini-profile-skills{-webkit-overflow-scrolling:touch!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:4px!important;grid-template-columns:repeat(auto-fill,minmax(44px,1fr))!important;gap:8px!important;max-height:350px!important;margin:12px 0!important;padding:12px!important;display:grid!important;overflow-y:auto!important}& .mobile-skill-item{justify-content:center!important;align-items:center!important;min-height:44px!important;margin:0!important;display:flex!important}& .mobile-skill-item:active{background:var(--kr-bg-hover)!important}& .mobile-mini-profile-chevron{color:var(--kr-text-secondary)!important;transition:transform var(--transition-normal)!important;pointer-events:none!important;font-size:14px!important;position:absolute!important;bottom:12px!important;right:12px!important}& .mobile-mini-profile.expanded .mobile-mini-profile-chevron{transform:rotate(-180deg)!important}& #player-header-section,& #player-actions-section{display:none!important}}body.mobile-mode{& .panel-body.grid-transformed,& .kr-mobile-skills-toggle,& .kr-mobile-overlay,& #skills-panel,& .col-md-1:has(#skills-panel){display:none!important}}body.mobile-mode{& .mobile-quick-actions.btn-group-justified{border-bottom:1px solid var(--kr-border-default)!important;background:var(--kr-bg-surface)!important;flex-direction:row!important;width:100%!important;display:flex!important}& .mobile-quick-actions .btn-group{flex:1 1 0!important;display:flex!important}& .mobile-quick-action.btn{background:var(--kr-bg-surface)!important;width:100%!important;min-height:64px!important;color:var(--kr-text-primary)!important;border-left:none!important;border-right:1px solid var(--kr-border-default)!important;transition:all var(--transition-fast)!important;border-top:none!important;border-bottom:none!important;border-radius:0!important;flex-direction:column!important;flex:1!important;justify-content:center!important;align-items:center!important;padding:8px 4px!important;display:flex!important}& .mobile-quick-action.btn:first-child{border-left:1px solid var(--kr-border-default)!important}& .mobile-quick-action.btn:last-child{border-right:1px solid var(--kr-border-default)!important}& .mobile-quick-action.btn:active{box-shadow:inset 0 3px 5px var(--kr-overlay-dark-125)!important;transform:scale(.95)!important}& .mobile-quick-action.btn.disabled,& .mobile-quick-action.btn[disabled]{opacity:.65!important;cursor:not-allowed!important}& .mobile-quick-action-icon,& .mobile-quick-action.btn i{margin-bottom:2px!important;font-size:24px!important;display:block!important}& .mobile-quick-action-label{margin-top:2px!important;font-size:12px!important;line-height:1.2!important;display:block!important}}body.mobile-mode{& .mobile-tab-bar.nav-tabs{top:var(--mobile-header-height);z-index:calc(var(--z-header) - 1);white-space:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none;flex-wrap:nowrap;margin-bottom:0;display:flex;position:sticky;overflow-x:auto;background:var(--kr-bg-surface)!important;border-bottom:2px solid var(--kr-border-default)!important}& .mobile-tab-bar.nav-tabs::-webkit-scrollbar{display:none}& .mobile-tab-bar.nav-tabs>li{float:none;flex:1 1 0;min-width:0}& .mobile-tab-bar.nav-tabs>li>a{min-height:var(--mobile-touch-target);transition:all var(--transition-fast);border:none;border-bottom:3px solid #0000;border-radius:0;flex-direction:column;justify-content:center;align-items:center;margin-right:0;padding:8px 4px;display:flex;color:var(--kr-text-primary)!important;background:0 0!important}& .mobile-tab-icon{margin-bottom:4px!important;font-size:18px!important;display:block!important}& .mobile-tab-label{text-align:center!important;white-space:nowrap!important;text-overflow:ellipsis!important;max-width:100%!important;font-size:10px!important;line-height:1.2!important;display:block!important;overflow:hidden!important}& .mobile-tab-bar.nav-tabs>li>a:hover{border-color:#0000;background:var(--kr-bg-hover)!important}& .mobile-tab-bar.nav-tabs>li.active>a,& .mobile-tab-bar.nav-tabs>li.active>a:hover,& .mobile-tab-bar.nav-tabs>li.active>a:focus{color:var(--kr-primary);border-bottom-color:var(--kr-primary);background:0 0;font-weight:600}& .mobile-tab-bar.nav-tabs .badge{margin-left:var(--mobile-spacing-xs)}& .mobile-tab-bar.nav-tabs:after{content:"";background:linear-gradient(to right, transparent, var(--kr-bg-surface));pointer-events:none;width:20px;position:absolute;top:0;bottom:0;right:0}& .mobile-tab-bar.nav-tabs.scrolled-end:after{display:none}}body.mobile-mode{& .navbar,& .navbar-default,& .navbar-inverse{z-index:var(--z-header);background:var(--kr-navbar-bg);border-bottom:1px solid var(--kr-overlay-light-10);box-shadow:0 2px 4px var(--kr-overlay-dark-30);min-height:var(--mobile-header-height);margin-bottom:0;position:sticky;top:0}& .navbar .container{padding-left:10px;padding-right:10px}& .navbar-toggle{border:1px solid var(--kr-overlay-light-20);background:0 0;border-radius:4px;order:1;margin:8px 0 8px auto;padding:9px 10px;display:block}& .navbar-toggle:hover,& .navbar-toggle:focus{background:var(--kr-overlay-light-10)}& .navbar-toggle .icon-bar{background-color:var(--kr-white)}& .navbar-header .navbar-brand{height:var(--mobile-header-height);align-items:center;min-width:44px;margin-right:auto!important;padding:8px 12px!important;display:flex!important}& .navbar-header .navbar-brand img{width:auto;max-height:32px}& .navbar-header .navbar-brand:active{background:var(--kr-overlay-dark-20);transform:scale(.95)}& .navbar-brand[data-moved-below-navbar]{display:none!important}& .navbar-header-buttons-left,& .navbar-header-buttons-right{height:var(--mobile-header-height);align-items:center;display:flex}& .navbar-header-buttons-left{order:-1;padding-left:8px}& .navbar-header-buttons-right{order:2;margin-left:auto;padding-right:8px}& .navbar-header-buttons-left li,& .navbar-header-buttons-right li{margin:0 2px;list-style:none;display:inline-block}& .navbar-header-buttons-left li a,& .navbar-header-buttons-right li a{border-radius:4px;justify-content:center;align-items:center;font-size:18px;text-decoration:none;transition:background-color .15s;display:flex;position:relative;min-width:44px!important;min-height:44px!important;color:var(--kr-white)!important;padding:10px!important}& .navbar-header-buttons-left li a:active,& .navbar-header-buttons-right li a:active{background-color:var(--kr-overlay-light-10)}& .navbar-header-buttons-left .badge,& .navbar-header-buttons-right .badge{border-radius:8px!important;min-width:16px!important;height:16px!important;padding:2px 4px!important;font-size:10px!important;line-height:12px!important;position:absolute!important;top:6px!important;right:6px!important}& .navbar-header{align-items:center;width:100%;display:flex}& .navbar-right{border-top:1px solid var(--kr-overlay-light-10)!important;margin:0!important;padding:8px 0!important}& .navbar-right>li>a{padding:15px 10px}& .navbar-collapse{border-top:1px solid var(--kr-overlay-light-10);box-shadow:inset 0 1px 0 var(--kr-overlay-light-05);max-height:calc(100vh - var(--mobile-header-height));-webkit-overflow-scrolling:touch;overflow-y:auto}& .navbar-collapse.in,& .navbar-collapse.collapsing{overflow-y:auto;height:auto!important}& .navbar-nav{margin:0;padding:8px 0}& .navbar-nav>li>a{border-bottom:1px solid var(--kr-overlay-light-05)!important;align-items:center!important;min-height:44px!important;padding:14px 20px!important;font-size:16px!important;line-height:1.5!important;transition:background-color .15s!important;display:flex!important}& .navbar-nav>li>a:active{background:var(--kr-overlay-light-10)!important;transition:none!important}& .navbar-nav>li>a .caret,& .navbar-nav .dropdown-menu{display:none!important}& .navbar-right>li{display:inline-block!important}& .navbar-right>li>a,& .navbar-right>li>button{border-radius:4px!important;justify-content:center!important;align-items:center!important;min-width:44px!important;min-height:44px!important;margin:0 4px!important;padding:12px!important;font-size:18px!important;display:inline-flex!important}& .navbar-right>li>a:active,& .navbar-right>li>button:active{background:var(--kr-overlay-light-10)!important}& .navbar-right .badge{min-width:18px!important;height:18px!important;padding:2px 5px!important;font-size:11px!important;line-height:14px!important;position:absolute!important;top:8px!important;right:8px!important}}body.mobile-mode .dashboard-section-header-accordion{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:background-color var(--transition-fast);position:relative}body.mobile-mode .dashboard-section-header-accordion:active{background-color:var(--kr-overlay-light-05)}body.mobile-mode .dashboard-section-header-accordion .accordion-icon{transition:transform var(--transition-normal);color:var(--kr-text-secondary);pointer-events:none;font-size:14px;position:absolute;top:50%;right:15px;transform:translateY(-50%)rotate(0)}body.mobile-mode .dashboard-section-header-accordion.expanded .accordion-icon{transform:translateY(-50%)rotate(-180deg)}body.mobile-mode .dashboard-cards-grid{transition:max-height var(--transition-normal) ease-in-out, opacity var(--transition-normal) ease-in-out, margin var(--transition-fast);opacity:1;max-height:5000px;overflow:hidden}body.mobile-mode .dashboard-cards-grid.collapsed{opacity:0;pointer-events:none;max-height:0;margin:0}body.mobile-mode .dashboard-section{margin-bottom:10px}body.mobile-mode .dashboard-section-mygroup .dashboard-section-header{background:var(--kr-bg-hover);border-left:3px solid var(--kr-primary)}body.mobile-mode .dashboard-cards-grid{background:0 0;grid-template-columns:repeat(2,1fr);gap:8px;padding:8px 6px;display:grid}body.mobile-mode .dashboard-card{background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:8px;width:100%;min-height:auto;margin:0;position:relative;overflow:hidden}body.mobile-mode .dashboard-card-link{transition:all var(--transition-fast);background:0 0;border:none;border-radius:0;flex-direction:column;align-items:center;padding:6px 4px 2px;text-decoration:none;display:flex}body.mobile-mode .dashboard-card-link:hover,body.mobile-mode .dashboard-card-link:active{background:var(--kr-bg-active)}body.mobile-mode .dashboard-card-header{flex-direction:column;align-items:center;width:100%;margin-bottom:2px;display:flex}body.mobile-mode .dashboard-card-avatar-wrapper{width:60px;height:60px;margin-bottom:2px;position:relative}body.mobile-mode .dashboard-card-hp-circle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px!important;height:60px!important}body.mobile-mode .dashboard-card-hp-circle circle{stroke-width:2px!important}body.mobile-mode .dashboard-card-avatar{object-fit:cover;z-index:1;border-radius:50%;margin:5px;position:relative;width:50px!important;height:50px!important}body.mobile-mode .dashboard-card-name-container{flex-direction:column;align-items:center;gap:2px;width:100%;display:flex}body.mobile-mode .dashboard-card-world{opacity:.6;width:14px!important;height:14px!important}body.mobile-mode .dashboard-card-name{color:var(--kr-text-primary);text-align:center;text-overflow:ellipsis;-webkit-line-clamp:2;overflow-wrap:break-word;-webkit-box-orient:vertical;max-width:100%;font-size:11px;font-weight:500;line-height:1.2;display:-webkit-box;overflow:hidden}body.mobile-mode .dashboard-card-body{width:100%;min-height:18px;padding:2px 4px 0}body.mobile-mode .dashboard-card-body:empty{display:none}body.mobile-mode .dashboard-card-status{color:var(--kr-text-secondary);text-align:center;text-overflow:ellipsis;white-space:nowrap;font-size:9px;font-style:italic;overflow:hidden}body.mobile-mode .dashboard-card-badge{background:var(--kr-primary);color:var(--kr-text-primary);text-transform:uppercase;z-index:2;border-radius:4px;padding:2px 4px;font-size:8px;font-weight:600;position:absolute;top:4px;right:4px}body.mobile-mode .dashboard-card-actions{border-top:1px solid var(--kr-border-default);opacity:1;justify-content:center;gap:8px;margin-top:2px;padding:4px 4px 2px;display:flex;position:static}body.mobile-mode .dashboard-card-actions a{background:var(--kr-bg-surface);border:1px solid var(--kr-border-default);width:26px;height:26px;color:var(--kr-text-secondary);transition:all var(--transition-fast);border-radius:6px;justify-content:center;align-items:center;text-decoration:none;display:flex;min-height:26px!important;padding:0!important}body.mobile-mode .dashboard-card-actions a:hover{background:var(--kr-primary);border-color:var(--kr-primary);color:var(--kr-text-primary);transform:scale(1.1)}body.mobile-mode .dashboard-card-actions i{font-size:13px}body.mobile-mode .dashboard-card-actions:empty{display:none!important}body.mobile-mode .dashboard-group-buttons{align-items:center}body.mobile-mode .dashboard-group-buttons .btn+.btn{margin-top:0!important}body.mobile-mode .dashboard-group-buttons .btn{justify-content:center;align-items:center;width:28px;display:flex;height:28px!important;min-height:28px!important;padding:0!important}body.mobile-mode .building-section-header>span.pull-right.clickable{display:none!important}}.commerce-category-header{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:background-color var(--transition-fast);position:relative}.commerce-category-header:hover{background-color:var(--kr-bg-hover)}.commerce-category-header:active{background-color:var(--kr-bg-active)}.commerce-category-header .accordion-icon{transition:transform var(--transition-normal);color:var(--kr-text-secondary);font-size:14px;position:absolute;top:50%;right:12px;transform:translateY(-50%)}.commerce-category-header.expanded .accordion-icon{transform:translateY(-50%)rotate(-180deg)}.commerce-products-container{opacity:1;max-height:5000px;transition:max-height var(--transition-normal), opacity var(--transition-normal);overflow:hidden}.commerce-products-container.collapsed{opacity:0;max-height:0!important}@media (width<=767px){body.mobile-mode .commerce-products-container{flex-direction:column;gap:0;padding:0;display:flex}body.mobile-mode .commerce-products-container>a.list-group-item{background-color:var(--kr-bg-surface);border:none;border-bottom:1px solid var(--kr-border-default);min-height:56px;transition:background-color var(--transition-fast);border-radius:0;gap:10px;flex-direction:row!important;align-items:center!important;padding:8px 12px!important;display:flex!important}body.mobile-mode .commerce-products-container>a.list-group-item:active{background-color:var(--kr-bg-hover)}body.mobile-mode .commerce-products-container>a.list-group-item img{flex-shrink:0;width:36px;height:36px;margin:0;display:block;float:none!important}body.mobile-mode .commerce-products-container>a.list-group-item h4{text-align:left;-webkit-line-clamp:2;text-overflow:ellipsis;overflow-wrap:break-word;-webkit-box-orient:vertical;flex:1;min-width:0;margin:0;font-size:13px;line-height:1.3;display:-webkit-box;overflow:hidden}body.mobile-mode .commerce-products-container>a.list-group-item p{text-align:left;color:var(--kr-text-secondary);-webkit-line-clamp:1;text-overflow:ellipsis;-webkit-box-orient:vertical;margin:2px 0 0;font-size:11px;line-height:1.2;display:-webkit-box;overflow:hidden}body.mobile-mode .commerce-products-container>a.list-group-item p i{display:none}body.mobile-mode .commerce-products-container>a.list-group-item .mention{text-align:right;white-space:nowrap;background-color:#0000;border-radius:0;flex-shrink:0;padding:0;font-size:12px;line-height:1.3;position:static;float:none!important}body.mobile-mode .commerce-products-container>a.list-group-item .mention .xmini{opacity:.7;font-size:10px}body.mobile-mode .commerce-products-container>a.commerce-status-empty{opacity:.5}body.mobile-mode .commerce-products-container>a.commerce-status-full{border-left:3px solid #4caf50!important}body.mobile-mode .commerce-products-container>a.commerce-status-missing{border-left:3px solid #f44336!important}body.mobile-mode .commerce-products-container>a.commerce-status-producing{border-left:3px solid var(--kr-primary)!important}}@media (width>=768px){.commerce-products-container{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px;padding:8px 0;display:grid}}body.mobile-mode .building-section-header{cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:background-color var(--transition-fast);position:relative}body.mobile-mode .building-section-header:hover{background-color:var(--kr-bg-hover)}body.mobile-mode .building-section-header:active{background-color:var(--kr-bg-active)}body.mobile-mode .building-section-header .accordion-icon{transition:transform var(--transition-normal);color:var(--kr-text-secondary);font-size:14px;position:absolute;top:50%;right:12px;transform:translateY(-50%)}body.mobile-mode .building-section-header.expanded .accordion-icon{transform:translateY(-50%)rotate(-180deg)}body.mobile-mode .building-section-content{opacity:1;max-height:5000px;transition:max-height var(--transition-normal), opacity var(--transition-normal);overflow:hidden}body.mobile-mode .building-section-content.collapsed{opacity:0;max-height:0!important}body.mobile-mode .building-section-content img.img-responsive{display:block;max-width:100%!important;height:auto!important}body.mobile-mode .kr-navigation-row{table-layout:fixed;border-collapse:separate;border-spacing:0;width:100%;margin-bottom:5px;display:table!important}body.mobile-mode .kr-navigation-row+.container{padding-top:10px!important}body.mobile-mode .kr-navigation-row>.btn-group{vertical-align:middle;width:1%;float:none!important;display:table-cell!important}body.mobile-mode .kr-direction-link{text-align:center;flex-direction:column;justify-content:center;align-items:center;width:100%;position:relative;height:60px!important;padding:0!important;display:flex!important}body.mobile-mode .kr-direction-link img{width:60px;height:60px;display:block}body.mobile-mode .kr-direction-link map{width:100%;height:100%;position:absolute;top:0;left:0}body.mobile-mode .kr-room-link{text-align:center;flex-direction:column;justify-content:center;align-items:center;width:100%;font-size:10px;line-height:1.2;height:60px!important;padding:0!important;display:flex!important}body.mobile-mode .kr-room-link img{width:60px;height:60px;display:block}body.mobile-mode .kr-navigation-row>.btn-group:first-child .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:first-child .kr-room-link{border-radius:4px 0 0 4px}body.mobile-mode .kr-navigation-row>.btn-group:last-child .kr-room-link{border-radius:0 4px 4px 0}body.mobile-mode .kr-navigation-row>.btn-group:not(:first-child) .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:not(:first-child) .kr-room-link{border-left:none}body.mobile-mode .kr-navigation-row>.btn-group:only-child .kr-direction-link,body.mobile-mode .kr-navigation-row>.btn-group:only-child .kr-room-link{border-radius:4px}@media (width<=767px){body.mobile-mode .container,body.mobile-mode .container-fluid,body.mobile-mode [class*=col-]{padding-left:0!important;padding-right:0!important}body.mobile-mode .row{margin-left:0!important;margin-right:0!important}body.mobile-mode .dashboard{width:100%!important;margin-left:0!important;margin-right:0!important;padding:0!important}.panel-group{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-left:none!important;border-right:none!important;border-radius:0!important;width:calc(100% + 30px)!important;margin-bottom:5px!important;margin-left:-15px!important;margin-right:-15px!important}.panel-group .panel{box-shadow:none!important;background:0 0!important;border:none!important;border-radius:0!important;margin-bottom:0!important}.panel-group .panel+.panel{border-top:1px solid var(--kr-border-default)!important}.panel-group .panel-heading{background:var(--kr-bg-surface)!important;transition:background-color var(--transition-fast)!important;border:none!important;border-radius:0!important;align-items:center!important;margin:0!important;padding:12px 0!important}.panel-group .panel-heading:active{background:var(--kr-bg-hover)!important}.panel-group .panel-collapse{border:none!important}.panel-group .panel-body{background:var(--kr-bg-surface)!important;border:none!important;padding:10px 0!important}.panel-group .panel-title{color:var(--kr-text-primary)!important;font-size:14px!important;font-weight:500!important}.panel-group .panel-title a{color:var(--kr-text-primary)!important;text-decoration:none!important;display:block!important}.panel-group .panel-title a:hover{color:var(--kr-text-primary)!important}body.mobile-mode .modal-backdrop{background-color:#0009!important}body.mobile-mode .modal-dialog{width:100%!important;max-width:calc(100vw - 20px)!important;max-height:calc(100vh - 20px)!important;margin:10px!important}body.mobile-mode .modal-content{border-radius:8px!important}body.mobile-mode .modal-header{padding:15px!important}body.mobile-mode .modal-header h3{margin:0!important;font-size:18px!important}body.mobile-mode .modal-header .close,body.mobile-mode .bootbox-close-button{opacity:.7!important;width:44px!important;height:44px!important;padding:10px!important;font-size:28px!important;line-height:24px!important}body.mobile-mode .modal-body{-webkit-overflow-scrolling:touch!important;padding:15px!important;overflow-y:auto!important}body.mobile-mode .modal-body select{border-radius:6px!important;width:100%!important;height:44px!important;margin-bottom:15px!important;padding:10px!important;font-size:16px!important}body.mobile-mode .modal-body .nav-tabs{border:none!important;flex-wrap:wrap!important;gap:10px!important;margin-bottom:20px!important;display:flex!important}body.mobile-mode .modal-body .nav-tabs>li{border:none!important;flex:calc(50% - 5px)!important;min-width:0!important;margin:0!important}body.mobile-mode .modal-body .nav-tabs>li>a{border:1px solid var(--kr-border-default)!important;background:var(--kr-bg-secondary)!important;min-height:44px!important;color:var(--kr-text-primary)!important;text-align:center!important;overflow-wrap:break-word!important;border-radius:6px!important;justify-content:center!important;align-items:center!important;padding:12px 10px!important;font-size:15px!important;font-weight:500!important;transition:all .2s!important;display:flex!important}body.mobile-mode .modal-body .nav-tabs>li.active>a,body.mobile-mode .modal-body .nav-tabs>li>a:hover,body.mobile-mode .modal-body .nav-tabs>li>a:focus{background:var(--kr-primary)!important;color:var(--kr-surface)!important;border-color:var(--kr-primary)!important}body.mobile-mode .modal-body .form-group{margin-bottom:20px!important}body.mobile-mode .modal-body label{margin-bottom:8px!important;font-size:15px!important;font-weight:500!important;display:block!important}body.mobile-mode .modal-body input[type=text],body.mobile-mode .modal-body input[type=number],body.mobile-mode .modal-body textarea{border-radius:6px!important;width:100%!important;min-height:44px!important;padding:10px!important;font-size:16px!important}body.mobile-mode .modal-body textarea{resize:vertical!important;min-height:120px!important}body.mobile-mode .modal-body input[type=checkbox],body.mobile-mode .modal-body input[type=radio]{width:20px!important;height:20px!important;margin-right:10px!important}body.mobile-mode .modal-body .checkbox label,body.mobile-mode .modal-body .radio label{cursor:pointer!important;align-items:center!important;min-height:44px!important;padding:8px 0!important;display:flex!important}body.mobile-mode .modal-body table{font-size:14px!important}body.mobile-mode .modal-body table td,body.mobile-mode .modal-body table th{padding:10px 8px!important}body.mobile-mode .modal-body table th{text-align:center!important}body.mobile-mode .modal-footer{border-top:1px solid var(--kr-border-default)!important;background:var(--kr-bg-surface)!important;gap:10px!important;padding:15px!important;display:flex!important}body.mobile-mode .modal-footer .btn{box-sizing:border-box!important;border-radius:6px!important;flex:1!important;min-height:48px!important;max-height:48px!important;padding:12px 20px!important;font-size:16px!important;font-weight:600!important;line-height:1.2!important}body.mobile-mode .modal-footer .btn-primary{order:2!important}body.mobile-mode .modal-footer .btn-default{order:1!important}body.mobile-mode .modal-body .alert{border-radius:6px!important;margin-bottom:15px!important;padding:12px!important;font-size:14px!important;line-height:1.5!important}body.mobile-mode .modal-header img{border-radius:4px!important;max-width:60px!important;max-height:60px!important}body.mobile-mode .bootbox.modal select[name=top].form-control{border:2px solid var(--kr-border-default)!important;background-color:var(--kr-bg-elevated)!important;border-radius:8px!important;min-height:56px!important;padding:12px 16px!important;font-size:16px!important;transition:border-color .2s!important}body.mobile-mode .bootbox.modal select[name=top].form-control:focus{border-color:var(--kr-primary)!important;outline:none!important;box-shadow:0 0 0 3px #4299e11a!important}body.mobile-mode .bootbox.modal select[name=top].form-control+br,body.mobile-mode .bootbox.modal .row:has(>.col-md-6>select[name=top]){margin-bottom:16px!important}body.mobile-mode .bootbox.modal h3{background:var(--kr-bg-surface)!important;border-radius:8px!important;align-items:center!important;gap:12px!important;margin:0 0 16px!important;padding:12px 16px!important;font-size:18px!important;line-height:1.3!important;display:flex!important}body.mobile-mode .bootbox.modal h3 img[width="80"]{border-radius:6px!important;flex-shrink:0!important;order:-1!important;width:48px!important;max-width:48px!important;height:48px!important;max-height:48px!important}body.mobile-mode .bootbox.modal h3 .pull-right{float:none!important;order:-1!important;margin:0!important}body.mobile-mode .bootbox.modal h3 .mini.center{justify-content:flex-start!important;gap:8px!important;margin:0!important;display:flex!important}body.mobile-mode .bootbox.modal h3 .mini.center a{justify-content:center!important;align-items:center!important;min-width:44px!important;min-height:44px!important;display:inline-flex!important}body.mobile-mode .bootbox.modal h3 .btn.btn-xs{min-width:44px!important;min-height:44px!important;margin-left:auto!important;padding:8px!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .panel-heading{-webkit-overflow-scrolling:touch!important;scrollbar-width:none!important;-ms-overflow-style:none!important;border-bottom:2px solid var(--kr-border-default)!important;background:var(--kr-bg-surface)!important;flex-flow:row!important;margin:0!important;padding:0!important;display:flex!important;overflow:hidden auto!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .panel-heading::-webkit-scrollbar{display:none!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs{background:0 0!important;border:none!important;flex-wrap:nowrap!important;flex-shrink:0!important;gap:0!important;margin:0!important;padding:0!important;display:flex!important;position:relative!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs::-webkit-scrollbar{display:none!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li{border:none!important;flex:none!important;width:auto!important;min-width:88px!important;height:44px!important;margin:0!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li>a{white-space:nowrap!important;height:44px!important;min-height:44px!important;color:var(--kr-text-secondary)!important;text-align:center!important;background:0 0!important;border:none!important;border-bottom:3px solid #0000!important;border-radius:0!important;justify-content:center!important;align-items:center!important;margin:0!important;padding:10px 16px!important;font-size:14px!important;font-weight:500!important;line-height:1.2!important;transition:all .2s!important;display:flex!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a,body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a:hover,body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li.active>a:focus{background:var(--kr-bg-elevated)!important;color:var(--kr-primary)!important;border:none!important;border-bottom:3px solid var(--kr-primary)!important;height:44px!important;font-weight:600!important}body.mobile-mode .bootbox.modal .panel.with-nav-tabs .nav-tabs>li>a:active{background:var(--kr-bg-active)!important;transform:scale(.96)!important}body.mobile-mode .bootbox.modal .panel-body.panel-order{padding:16px!important}body.mobile-mode .bootbox.modal .merged-columns{padding:12px!important;font-size:14px!important;line-height:1.6!important}body.mobile-mode .bootbox.modal .panel-heading{background:var(--kr-bg-elevated)!important;border-bottom:2px solid var(--kr-border-default)!important;padding:0!important;font-weight:600!important}body.mobile-mode .bootbox.modal .panel-heading .merged-columns{color:var(--kr-text-secondary)!important;text-transform:uppercase!important;letter-spacing:.5px!important;font-size:13px!important}body.mobile-mode .bootbox.modal .panel-footer{background:var(--kr-bg-elevated)!important;border-top:1px solid var(--kr-border-default)!important;border:none!important;gap:6px!important;padding:0!important;display:flex!important}body.mobile-mode .bootbox.modal .panel-footer label{margin:0!important;font-size:14px!important}body.mobile-mode .bootbox.modal .panel-footer select{border:1px solid var(--kr-border-default)!important;border-radius:6px!important;padding:6px 8px!important;font-size:14px!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group{background:var(--kr-bg-elevated)!important;border:2px solid var(--kr-border-default)!important;border-radius:8px!important;min-height:56px!important;margin:0 0 8px!important;transition:all .2s!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group:has(input[type=radio]:checked){border-color:var(--kr-primary)!important;background:var(--kr-alert-info-bg)!important;box-shadow:0 0 0 3px #4299e11a!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group:active{background:var(--kr-bg-active)!important;transform:scale(.98)!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div{justify-content:center!important;align-items:center!important;padding:0 8px!important;display:flex!important}body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div.col-sm-1,body.mobile-mode .bootbox.modal .panel-actions .row.form-group>div.col-sm-7{justify-content:flex-start!important}body.mobile-mode .bootbox.modal .panel-actions input[type=radio]{opacity:0!important;width:0!important;height:0!important;position:absolute!important}body.mobile-mode .bootbox.modal .panel-actions label{cursor:pointer!important;width:100%!important;margin:0!important;padding:14px 0!important;font-size:15px!important;font-weight:400!important;display:block!important}body.mobile-mode .bootbox.modal .panel-actions input[type=radio]:checked+label{font-weight:600!important}body.mobile-mode .bootbox.modal .panel-actions .center{font-size:14px!important;font-weight:600!important}body.mobile-mode .bootbox.modal .btn-toolbar{grid-template-columns:repeat(6,1fr)!important;gap:4px!important;width:100%!important;max-width:100%!important;margin:0 0 16px!important;padding:0!important;display:grid!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn-group{display:contents!important}body.mobile-mode .bootbox.modal .btn-toolbar:before,body.mobile-mode .bootbox.modal .btn-toolbar:after,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group:before,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group:after,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown:before,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown:after,body.mobile-mode .bootbox.modal .btn-toolbar span.dropdown:before,body.mobile-mode .bootbox.modal .btn-toolbar span.dropdown:after{content:none!important;width:0!important;height:0!important;margin:0!important;padding:0!important;display:none!important}body.mobile-mode .bootbox.modal .btn-toolbar>.btn,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>a.btn,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>button.btn,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>.dropdown{box-sizing:border-box!important;border-width:1px!important;border-radius:4px!important;place-items:center!important;width:100%!important;min-width:44px!important;max-width:none!important;height:44px!important;min-height:44px!important;max-height:44px!important;margin:0!important;padding:8px!important;font-size:18px!important;line-height:1!important;transition:all .2s!important;display:grid!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown{display:contents!important;position:relative!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle{background:0 0!important;border:none!important;justify-content:center!important;align-items:center!important;width:100%!important;min-width:44px!important;height:44px!important;min-height:44px!important;margin:0!important;padding:0!important;text-decoration:none!important;display:flex!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle>.btn{box-sizing:border-box!important;border-width:1px!important;border-radius:4px!important;justify-content:center!important;align-items:center!important;width:100%!important;min-width:44px!important;height:44px!important;min-height:44px!important;margin:0!important;padding:8px!important;font-size:18px!important;line-height:1!important;display:flex!important}body.mobile-mode .bootbox.modal .btn-toolbar .btn:active,body.mobile-mode .bootbox.modal .btn-toolbar .btn-group>a.btn:active,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle:active,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown>a.dropdown-toggle>.btn:active{background:var(--kr-bg-active)!important;opacity:.8!important;transform:scale(.95)!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown .dropdown-menu,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu{z-index:10000!important;max-width:90vw!important;max-height:50vh!important;margin-bottom:4px!important;padding:12px!important;position:absolute!important;top:auto!important;bottom:100%!important;overflow-y:auto!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown.open .dropdown-menu,body.mobile-mode .bootbox.modal .btn-toolbar .dropdown:has([aria-expanded=true]) .dropdown-menu{display:block!important}body.mobile-mode .bootbox.modal .modal-dialog,body.mobile-mode .bootbox.modal .modal-content,body.mobile-mode .bootbox.modal .modal-body,body.mobile-mode .bootbox.modal .modal-footer,body.mobile-mode .bootbox.modal .btn-toolbar,body.mobile-mode .bootbox.modal .dropdown{filter:none!important;perspective:none!important;will-change:auto!important;contain:none!important;z-index:auto!important;transform:none!important}body.mobile-mode .bootbox.modal .modal-content,body.mobile-mode .bootbox.modal .modal-body,body.mobile-mode .bootbox.modal .panel-body{overflow:visible!important}body.mobile-mode .bootbox.modal{z-index:1050!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu table{width:100%!important}body.mobile-mode .bootbox.modal .btn-toolbar .dropdown-menu table td a{justify-content:center!important;align-items:center!important;min-width:44px!important;min-height:44px!important;display:inline-flex!important}body.mobile-mode .bootbox.modal .dropdown-backdrop{z-index:1049!important}body.mobile-mode .bootbox.modal textarea#message,body.mobile-mode .bootbox.modal textarea.form-control{border:2px solid var(--kr-border-default)!important;border-radius:8px!important;min-height:120px!important;padding:12px!important;font-size:16px!important;line-height:1.5!important;transition:border-color .2s!important}body.mobile-mode .bootbox.modal textarea#message:focus,body.mobile-mode .bootbox.modal textarea.form-control:focus{border-color:var(--kr-primary)!important;outline:none!important;box-shadow:0 0 0 3px #4299e11a!important}body.mobile-mode .bootbox.modal .pull-right:has(#car),body.mobile-mode .bootbox.modal #car{color:var(--kr-text-secondary)!important;margin-top:4px!important;font-size:13px!important;font-weight:500!important}body.mobile-mode .bootbox.modal .modal-footer{padding:12px 16px!important;padding-bottom:max(12px, env(safe-area-inset-bottom))!important;background:var(--kr-bg-surface)!important;border-top:1px solid var(--kr-border-default)!important;z-index:100!important;flex-shrink:0!important;gap:10px!important;margin:0!important;display:flex!important;position:sticky!important;bottom:0!important;box-shadow:0 -2px 8px #00000014!important}body.mobile-mode .bootbox.modal .modal-footer .btn{border:none!important;border-radius:8px!important;min-height:50px!important;margin:0!important;font-size:16px!important;font-weight:600!important;transition:all .2s!important}body.mobile-mode .bootbox.modal .modal-footer .btn-default{flex:1!important;order:1!important}body.mobile-mode .bootbox.modal .modal-footer .btn-primary{flex:2!important;order:2!important;min-height:52px!important}body.mobile-mode .bootbox.modal .modal-footer .btn:active{transform:scale(.97)!important}body.mobile-mode #kr-tamper-theme-form .form-group{margin-bottom:20px}body.mobile-mode #kr-tamper-theme-form .form-group>div[style*=padding-left]{grid-template-columns:1fr!important;gap:12px!important;padding:0!important;display:grid!important}body.mobile-mode #kr-tamper-theme-form .form-group>div>div{background:#ffffff0d!important;border:1px solid #ffffff1a!important;border-radius:8px!important;flex-direction:column!important;align-items:flex-start!important;gap:8px!important;padding:12px!important;display:flex!important}body.mobile-mode #kr-tamper-theme-form .form-group .lefticon{display:none!important}body.mobile-mode #kr-tamper-theme-form .form-group img{border-radius:4px!important;width:100%!important;height:auto!important;margin:0!important;display:block!important}body.mobile-mode #kr-tamper-theme-form .form-group label{cursor:pointer!important;align-items:center!important;gap:8px!important;width:100%!important;margin:0!important;font-size:14px!important;line-height:1.4!important;display:flex!important}body.mobile-mode #kr-tamper-theme-form .form-group input[type=radio],body.mobile-mode #kr-tamper-theme-form .form-group input[type=checkbox]{flex-shrink:0!important;width:20px!important;height:20px!important;margin:0!important;position:static!important}body.mobile-mode #kr-tamper-theme-form .form-group>label.control-label{width:100%!important;margin-bottom:12px!important;font-size:16px!important;font-weight:600!important;display:block!important}body.mobile-mode .panel-default{box-shadow:none!important;background:0 0!important;border:none!important}body.mobile-mode .panel-default>.panel-heading{background:var(--kr-bg-surface)!important;border-radius:var(--mobile-radius)!important;padding:var(--mobile-spacing-lg)!important;margin-bottom:var(--mobile-spacing-md)!important;border:none!important;align-items:center!important}body.mobile-mode .panel-default>.panel-heading h3{color:var(--kr-text-primary)!important;margin:0!important;font-size:20px!important;font-weight:700!important}body.mobile-mode .panel-default .table>thead{display:none!important}body.mobile-mode .panel-default .table>tbody{flex-direction:column!important;gap:4px!important;display:flex!important}body.mobile-mode .panel-default .table>tbody>tr{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;box-shadow:var(--kr-shadow-sm)!important;transition:all var(--transition-fast)!important;border-radius:8px!important;grid-template-rows:auto!important;grid-template-columns:1fr!important;min-height:auto!important;padding:6px!important;display:grid!important;position:relative!important}body.mobile-mode .panel-default .table>tbody>tr:active{background:var(--kr-bg-hover)!important;transform:scale(.98)!important}body.mobile-mode .panel-default .table>tbody>tr>td{border:none!important;width:100%!important;padding:0!important;display:block!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child{flex-direction:column!important;grid-row:1!important;display:flex!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2),body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3){grid-row:2!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4){grid-row:4!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child{order:1!important;margin:0!important;font-size:0!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child>a{color:var(--kr-text-primary)!important;font-size:15px!important;font-weight:700!important;line-height:1.1!important;text-decoration:none!important;display:block!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:first-child>a:active{color:var(--kr-primary)!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum{color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;font-size:11px!important;line-height:1.2!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum>.lefticon{display:none!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum a{color:var(--kr-text-secondary)!important;font-weight:500!important;text-decoration:none!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>span.tagforum a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.mobile-mode .panel-default .table>tbody>tr>td:first-child>p:nth-child(2),body.mobile-mode .panel-default .table>tbody>tr>.forum-description-wrapper>p{color:var(--kr-text-secondary)!important;order:999!important;margin:0!important;font-size:12px!important;line-height:1.2!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-description-wrapper{margin:0 0 6px!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2),body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3),body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td{color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;padding:0!important;font-size:11px!important;display:inline!important}body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper{margin:0 0 2px!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(2):after,body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td:first-child:after{content:" sujets · "!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(3):after,body.mobile-mode .panel-default .table>tbody>tr>.forum-stats-wrapper>td:nth-child(2):after{content:" messages"!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4),body.mobile-mode .panel-default .table>tbody>tr>td:last-child{border-top:1px solid var(--kr-border-default)!important;color:var(--kr-text-secondary)!important;order:5!important;margin-top:0!important;padding-top:3px!important;font-size:11px!important;display:block!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4):before,body.mobile-mode .panel-default .table>tbody>tr>td:last-child:before{content:"→ "!important;color:var(--kr-text-secondary)!important;margin-right:4px!important;font-weight:400!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a{color:var(--kr-text-primary)!important;font-size:12px!important;font-weight:500!important;text-decoration:none!important;display:inline!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a:active,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>a:after,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>a:after{content:" · "!important;color:var(--kr-text-muted)!important;font-weight:400!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p{color:var(--kr-text-secondary)!important;margin:0!important;font-size:13px!important;display:inline!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a{color:var(--kr-text-secondary)!important;box-shadow:none!important;background:0 0!important;border:none!important;align-items:center!important;min-width:20px!important;min-height:20px!important;padding:0!important;text-decoration:none!important;display:inline-flex!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a:active,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a:active{color:var(--kr-primary)!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4)>p>a .glyphicon,body.mobile-mode .panel-default .table>tbody>tr>td:last-child>p>a .glyphicon{vertical-align:middle!important;width:20px!important;height:20px!important;font-size:14px!important;line-height:20px!important;display:inline-block!important}body.mobile-mode .panel-default .table>tbody>tr>td:nth-child(4) img{vertical-align:middle!important;max-height:16px!important;margin:0 2px!important}.navbar-collapse .dropdown.open>.dropdown-menu{float:none!important;width:100%!important;box-shadow:none!important;background-color:#0000!important;border:none!important;margin:0!important;padding:0!important;display:block!important;position:static!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a{clear:both!important;color:var(--kr-text-primary)!important;white-space:nowrap!important;background-color:#0000!important;border-left:4px solid #0000!important;padding:10px 15px 10px 25px!important;font-weight:400!important;line-height:1.4286!important;display:block!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a:hover,.navbar-collapse .dropdown.open>.dropdown-menu>li>a:focus{color:var(--kr-text-primary)!important;border-left-color:var(--kr-primary)!important;background-color:#0000000d!important}.navbar-collapse .dropdown.open>.dropdown-menu>li>a:active{color:var(--kr-primary)!important;border-left-color:var(--kr-primary)!important;background-color:#00000014!important}.navbar-collapse .dropdown.open>.dropdown-menu>.divider{background-color:var(--kr-border-default)!important;height:1px!important;margin:9px 0!important}.navbar-collapse .dropdown.open>.dropdown-menu>.dropdown-header{color:var(--kr-text-muted)!important;white-space:nowrap!important;text-transform:uppercase!important;padding:3px 15px 3px 25px!important;font-size:12px!important;font-weight:600!important;line-height:1.4286!important;display:block!important}.navbar-collapse .dropdown.open>.dropdown-menu>.active>a,.navbar-collapse .dropdown.open>.dropdown-menu>.active>a:hover,.navbar-collapse .dropdown.open>.dropdown-menu>.active>a:focus{color:var(--kr-primary)!important;border-left-color:var(--kr-primary)!important;background-color:#0000001a!important}.navbar-collapse .navbar-nav>li>a{padding:15px!important}.navbar-collapse .dropdown>a.dropdown-toggle .caret{border-top-color:currentColor!important;border-bottom-color:#0000!important}.navbar-collapse .dropdown.open>a.dropdown-toggle .caret{border-top-color:#0000!important;border-bottom-color:currentColor!important;transform:rotate(180deg)!important}}.forums-cards-container{background:var(--kr-bg-page);padding:12px 8px;display:none}.mobile-mode .forums-cards-container{display:block}.mobile-mode table[data-mobile-hidden=true]{display:none!important}.forum-card{background:var(--kr-bg-surface);border:1px solid var(--kr-border-default);border-radius:12px;margin:0 12px 12px;transition:background .2s;overflow:hidden}.forum-card *,.forum-card-link *,.forum-card-header *,.forum-footer *{text-align:left!important}.forum-card:active{background:var(--kr-bg-hover)}.forum-card-link{color:inherit;-webkit-tap-highlight-color:#8b0f0e0d;min-height:100px;padding:16px;text-decoration:none;flex-direction:column!important;justify-content:flex-start!important;align-items:flex-start!important;display:flex!important}.forum-card-link:hover,.forum-card-link:focus{color:inherit;text-decoration:none}.forum-card-header{text-align:left;margin-bottom:8px}.forum-title{color:var(--kr-text-primary);margin:0;padding:0;font-size:18px;font-weight:700;line-height:1.3;text-align:left!important}.forum-description{color:var(--kr-text-secondary);-webkit-line-clamp:2;text-overflow:ellipsis;-webkit-box-orient:vertical;margin:0 0 8px;font-size:14px;line-height:1.5;display:-webkit-box;overflow:hidden;text-align:left!important}.forum-moderators{color:var(--kr-text-muted);margin:0 0 10px;font-size:12px;font-style:normal;font-weight:400;text-align:left!important}.forum-footer{border-top:1px solid var(--kr-border-default);margin-top:auto;padding-top:10px;text-align:left!important}.forum-stats{color:var(--kr-text-muted);white-space:nowrap;margin-bottom:6px;font-size:13px;text-align:left!important}.forum-topics,.forum-messages{color:var(--kr-text-secondary);font-weight:600}.forum-separator{color:var(--kr-text-muted);margin:0 4px}.forum-last-activity{color:var(--kr-text-secondary);font-size:13px;line-height:1.5;text-align:left!important}.last-user{color:var(--kr-text-primary);font-weight:600}.last-time{color:var(--kr-text-muted);font-size:12px}.forum-card:has(.forum-topics:empty){opacity:.6}.forum-card-link:focus{outline-offset:2px;outline:2px solid #2196f3}.mini-chat-fab{color:#fff;z-index:1000;cursor:pointer;background:#2196f3;border:none;border-radius:50%;width:56px;height:56px;font-size:14px;font-weight:700;transition:all .3s;position:fixed;bottom:80px;right:16px;box-shadow:0 4px 12px #0000004d}.mini-chat-fab:active{transform:scale(.95);box-shadow:0 2px 8px #0000004d}.mini-chat-fab.active{background:#f44336}.mini-chat-fab .fab-text{line-height:1;display:block}.mobile-mode .mini-chat-overlay{background:#fff;z-index:999!important;width:100%!important;height:auto!important;position:fixed!important;inset:56px 0 0!important}@media (width>=768px) and (width<=1024px) and (orientation:portrait){.forum-card{margin:12px 24px}.forum-card-link{padding:20px}}@media (width>=768px){.forums-cards-container{display:none!important}table[data-mobile-hidden=true]{display:table!important}.mini-chat-fab{display:none}}@media (width<=767px){.dataTables_wrapper{-webkit-overflow-scrolling:touch!important;padding:0!important;overflow-x:auto!important}.dataTables_length,.dataTables_filter{width:100%!important;margin:0 0 var(--mobile-spacing-md)!important;text-align:left!important;float:none!important;display:block!important}.dataTables_length label{align-items:center!important;gap:8px!important;margin:0!important;font-size:14px!important;display:flex!important}.dataTables_length select{min-height:var(--mobile-touch-target)!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;background-color:var(--kr-bg-surface)!important;flex:none!important;min-width:80px!important;padding:10px 32px 10px 12px!important;font-size:16px!important}.dataTables_filter label{align-items:center!important;gap:8px!important;width:100%!important;margin:0!important;font-size:14px!important;display:flex!important}.dataTables_filter input{min-height:var(--mobile-touch-target)!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;background-color:var(--kr-bg-surface)!important;flex:1!important;width:100%!important;padding:10px 16px!important;font-size:16px!important}.dataTables_filter input:focus,.dataTables_length select:focus{outline:2px solid var(--kr-primary)!important;outline-offset:2px!important;border-color:var(--kr-primary)!important}body.page-forum .panel-default{box-shadow:none!important;background:0 0!important;border:none!important}body.page-forum .panel-default>.panel-heading{border:none!important;border-bottom:1px solid var(--kr-border-default)!important;background:0 0!important;border-radius:0!important;align-items:center!important;margin-bottom:0!important;padding:12px 16px!important}body.page-forum .panel-default>.panel-body{padding:0!important}body.page-forum .panel-default>.panel-heading h3{color:var(--kr-primary)!important;margin:0!important;font-size:16px!important;font-weight:600!important}body.page-forum .panel-default .table>thead{display:none!important}body.page-forum .panel-default .table>tbody{flex-direction:column!important;gap:8px!important;display:flex!important}body.page-forum .panel-default .table>tbody>tr{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;transition:background var(--transition-fast)!important;border-radius:12px!important;grid-template-rows:auto!important;grid-template-columns:1fr!important;min-height:auto!important;padding:12px!important;display:grid!important;position:relative!important}body.page-forum .panel-default .table>tbody>tr:active{background:var(--kr-bg-hover)!important}body.page-forum .panel-default .table>tbody>tr>td{border:none!important;width:100%!important;padding:0!important;display:block!important}body.page-forum .panel-default .table>tbody>tr>td:first-child{flex-direction:column!important;grid-row:1!important;display:flex!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(2),body.page-forum .panel-default .table>tbody>tr>td:nth-child(3){grid-row:2!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4){grid-row:4!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child{order:1!important;margin:0!important;font-size:0!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child>a{color:var(--kr-text-primary)!important;font-size:15px!important;font-weight:700!important;line-height:1.1!important;text-decoration:none!important;display:block!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:first-child>a:active{color:var(--kr-primary)!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum{color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;font-size:11px!important;line-height:1.2!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum>.lefticon{display:none!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum a{color:var(--kr-text-secondary)!important;font-weight:500!important;text-decoration:none!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>span.tagforum a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.page-forum .panel-default .table>tbody>tr>td:first-child>p:nth-child(2),body.page-forum .panel-default .table>tbody>tr>.forum-description-wrapper>p{color:var(--kr-text-secondary)!important;order:999!important;margin:0!important;font-size:12px!important;line-height:1.2!important}body.page-forum .panel-default .table>tbody>tr>.forum-description-wrapper{margin:0 0 6px!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(2),body.page-forum .panel-default .table>tbody>tr>td:nth-child(3),body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td{color:var(--kr-text-secondary)!important;order:2!important;margin:0!important;padding:0!important;font-size:11px!important;display:inline!important}body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper{margin:0 0 2px!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(2):after,body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td:first-child:after{content:" sujets · "!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(3):after,body.page-forum .panel-default .table>tbody>tr>.forum-stats-wrapper>td:nth-child(2):after{content:" messages"!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4),body.page-forum .panel-default .table>tbody>tr>td:last-child{border-top:1px solid var(--kr-border-default)!important;color:var(--kr-text-secondary)!important;order:5!important;margin-top:0!important;padding-top:3px!important;font-size:11px!important;display:block!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4):before,body.page-forum .panel-default .table>tbody>tr>td:last-child:before{content:"→ "!important;color:var(--kr-text-secondary)!important;margin-right:4px!important;font-weight:400!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a,body.page-forum .panel-default .table>tbody>tr>td:last-child>a{color:var(--kr-text-primary)!important;font-size:12px!important;font-weight:500!important;text-decoration:none!important;display:inline!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a:active,body.page-forum .panel-default .table>tbody>tr>td:last-child>a:active{color:var(--kr-primary)!important;text-decoration:underline!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>a:after,body.page-forum .panel-default .table>tbody>tr>td:last-child>a:after{content:" · "!important;color:var(--kr-text-muted)!important;font-weight:400!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p,body.page-forum .panel-default .table>tbody>tr>td:last-child>p{color:var(--kr-text-secondary)!important;margin:0!important;font-size:13px!important;display:inline!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a,body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a{color:var(--kr-text-secondary)!important;box-shadow:none!important;background:0 0!important;border:none!important;align-items:center!important;min-width:20px!important;min-height:20px!important;padding:0!important;text-decoration:none!important;display:inline-flex!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a:active,body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a:active{color:var(--kr-primary)!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4)>p>a .glyphicon,body.page-forum .panel-default .table>tbody>tr>td:last-child>p>a .glyphicon{vertical-align:middle!important;width:20px!important;height:20px!important;font-size:14px!important;line-height:20px!important;display:inline-block!important}body.page-forum .panel-default .table>tbody>tr>td:nth-child(4) img{vertical-align:middle!important;max-height:16px!important;margin:0 2px!important}body.page-forum table.dataTable thead{display:none!important}body.page-forum table.dataTable tbody{gap:var(--mobile-spacing-md)!important;flex-direction:column!important;display:flex!important}body.page-forum table.dataTable tbody tr{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;transition:background var(--transition-fast)!important;cursor:pointer!important;border-radius:12px!important;flex-direction:column!important;margin:0!important;padding:12px!important;display:flex!important;overflow:hidden!important}body.page-forum table.dataTable tbody tr:active{background:var(--kr-bg-hover)!important}body.page-forum table.dataTable tbody td:nth-child(2),body.page-forum table.dataTable tbody td:nth-child(3),body.page-forum table.dataTable tbody td:nth-child(4),body.page-forum table.dataTable tbody td:nth-child(5){display:none!important}body.page-forum table.dataTable tbody td:first-child{min-height:var(--mobile-touch-target)!important;gap:var(--mobile-spacing-sm)!important;flex-direction:column!important;padding:0!important;display:flex!important}body.page-forum table.dataTable tbody td:first-child p{align-items:flex-start!important;gap:8px!important;margin:0 0 4px!important;padding:0!important;display:flex!important}body.page-forum table.dataTable tbody td:first-child p a{color:var(--kr-text-primary)!important;flex:1!important;font-size:15px!important;font-weight:600!important;line-height:1.4!important;text-decoration:none!important;display:block!important}body.page-forum table.dataTable tbody td:first-child p a:active{color:var(--kr-primary)!important}body.page-forum table.dataTable tbody td:first-child>ul:first-of-type,body.page-forum table.dataTable tbody td:first-child>ul:nth-of-type(2){display:none!important}body.page-forum table.dataTable tbody td:first-child .forum-tags{flex-wrap:wrap!important;gap:3px!important;margin-top:6px!important;display:flex!important}body.page-forum table.dataTable tbody td:first-child .forum-tags .glyphicon{color:var(--kr-text-muted)!important;font-size:8px!important}body.page-forum table.dataTable tbody td:first-child .forum-tags a{color:var(--kr-text-secondary)!important;background:var(--kr-bg-hover)!important;transition:all var(--transition-fast)!important;border-radius:2px!important;align-items:center!important;padding:1px 4px!important;font-size:9px!important;text-decoration:none!important;display:inline-flex!important}body.page-forum table.dataTable tbody td:first-child .forum-tags a:active{background:var(--kr-bg-active)!important}.forum-topic-stats-mobile{color:var(--kr-text-secondary)!important;align-items:center!important;gap:4px!important;margin-top:4px!important;font-size:13px!important;display:flex!important}.forum-topic-stats-mobile i{font-size:12px!important}.forum-topic-stats-mobile .stats-sep{color:var(--kr-text-muted)!important;margin:0 4px!important}body.page-forum table.dataTable tbody td:nth-child(5) a:first-child{color:var(--kr-text-primary)!important;align-items:center!important;gap:4px!important;font-size:14px!important;font-weight:600!important;text-decoration:none!important;display:inline-flex!important}body.page-forum table.dataTable tbody td:nth-child(5) a:first-child img{vertical-align:middle!important;width:16px!important;height:16px!important}body.page-forum table.dataTable tbody td:nth-child(5) p{color:var(--kr-text-muted)!important;align-items:center!important;gap:6px!important;margin:0!important;font-size:13px!important;display:flex!important}body.page-forum table.dataTable tbody td:nth-child(5) p a .glyphicon{color:var(--kr-primary)!important;font-size:12px!important}body.page-forum table.dataTable tbody td:nth-child(5):active{background:var(--kr-bg-active)!important}.dataTables_paginate{justify-content:center!important;gap:var(--mobile-spacing-sm)!important;margin-top:var(--mobile-spacing-lg)!important;padding:0!important;display:flex!important}.dataTables_paginate .paginate_button{min-height:var(--mobile-touch-target)!important;min-width:var(--mobile-touch-target)!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;background:var(--kr-bg-surface)!important;color:var(--kr-text-primary)!important;cursor:pointer!important;transition:all var(--transition-fast)!important;justify-content:center!important;align-items:center!important;padding:10px 16px!important;font-size:16px!important;text-decoration:none!important;display:inline-flex!important}.dataTables_paginate .paginate_button.current{background:var(--kr-primary)!important;color:#fff!important;border-color:var(--kr-primary)!important;font-weight:600!important}.dataTables_paginate .paginate_button.disabled{opacity:.4!important;cursor:not-allowed!important;pointer-events:none!important}.dataTables_paginate .paginate_button:not(.disabled,.current):active{background:var(--kr-bg-active)!important;transform:scale(.95)!important}.dataTables_info{text-align:center!important;color:var(--kr-text-secondary)!important;margin-top:var(--mobile-spacing-md)!important;padding:0 var(--mobile-spacing-md)!important;font-size:14px!important}html[class*=-dark] table.dataTable tbody tr{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}html[class*=-dark] table.dataTable tbody td:first-child{border-bottom-color:var(--kr-border-default)!important}html[class*=-dark] table.dataTable tbody td:nth-child(5){background:#ffffff08!important}html[class*=-dark] .dataTables_filter input,html[class*=-dark] .dataTables_length select,html[class*=-dark] .dataTables_paginate .paginate_button{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important;color:var(--kr-text-primary)!important}body.page-kramail h1.page-header{border-bottom:none!important;flex-direction:column!important;align-items:stretch!important;gap:12px!important;margin:0!important;padding:12px 16px!important;display:flex!important}body.page-kramail h1.page-header .pull-right{float:none!important;flex-wrap:wrap!important;align-items:center!important;gap:8px!important;width:100%!important;display:flex!important}body.page-kramail h1.page-header .pull-right>a.btn,body.page-kramail h1.page-header .pull-right>.btn-group>.btn{box-sizing:border-box!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;width:44px!important;height:44px!important;color:var(--kr-text-primary)!important;transition:all var(--transition-fast)!important;border-radius:10px!important;justify-content:center!important;align-items:center!important;margin:0!important;padding:0!important;font-size:0!important;line-height:0!important;text-decoration:none!important;display:flex!important}body.page-kramail h1.page-header .pull-right>a.btn>i,body.page-kramail h1.page-header .pull-right>.btn-group>.btn>i{font-size:18px!important;line-height:1!important}body.page-kramail h1.page-header .pull-right>a.btn.btn-primary{background:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:#fff!important}body.page-kramail h1.page-header .pull-right>a.btn:active,body.page-kramail h1.page-header .pull-right>.btn-group>.btn:active{opacity:.9!important;transform:scale(.97)!important}body.page-kramail h1.page-header .pull-right>.btn-group{width:44px!important;height:44px!important;position:relative!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:10px!important;min-width:260px!important;padding:8px 0!important;left:auto!important;right:0!important;box-shadow:0 4px 16px #0006!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a{min-height:44px!important;color:var(--kr-text-primary)!important;white-space:nowrap!important;align-items:center!important;gap:8px!important;padding:12px 16px!important;font-size:15px!important;display:flex!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a:active{background:#ffffff14!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a .label-simple{color:var(--kr-text-primary)!important;font-size:15px!important}body.page-kramail h1.page-header .pull-right>.btn-group>.dropdown-menu>li>a input[type=checkbox]{width:18px!important;height:18px!important}body.page-kramail .panel.panel-default{box-shadow:none!important;background:0 0!important;border:none!important;margin:0!important}body.page-kramail .panel-heading{border-bottom:1px solid var(--kr-border-default)!important;background:0 0!important;padding:12px 16px!important}body.page-kramail .panel-heading h3.panel-title{color:var(--kr-primary)!important;font-size:16px!important;font-weight:600!important}body.page-kramail .panel-heading .glyphicon-chevron-up{float:right!important;color:var(--kr-text-secondary)!important}body.page-kramail .panel-body{padding:0!important}body.page-kramail #topics_wrapper .dataTables_length{display:none!important}body.page-kramail #topics_wrapper .dataTables_filter{text-align:left!important;width:100%!important;padding:12px 16px!important}body.page-kramail #topics_wrapper .dataTables_filter label{width:100%!important;color:var(--kr-text-secondary)!important;align-items:center!important;gap:8px!important;margin:0!important;font-size:14px!important;display:flex!important}body.page-kramail #topics_wrapper .dataTables_filter input[type=search],body.page-kramail #topics_wrapper .dataTables_filter input{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;height:44px!important;color:var(--kr-text-primary)!important;transition:border-color var(--transition-fast), box-shadow var(--transition-fast)!important;appearance:none!important;border-radius:22px!important;flex:1!important;padding:0 16px!important;font-size:16px!important}body.page-kramail #topics_wrapper .dataTables_filter input:focus{border-color:var(--kr-primary)!important;outline:none!important;box-shadow:0 0 0 3px #d4863e26!important}body.page-kramail #topics_wrapper .dataTables_info{color:var(--kr-text-muted)!important;text-align:center!important;padding:8px 16px!important;font-size:13px!important}body.page-kramail #topics_wrapper .dataTables_paginate{text-align:center!important;padding:8px 16px 16px!important}body.page-kramail #topics_wrapper .dataTables_paginate .paginate_button{border-radius:8px!important;min-width:44px!important;min-height:44px!important;margin:0 4px!important;padding:10px 14px!important;font-size:14px!important}body.page-kramail #topics thead{display:none!important}body.page-kramail #topics{border-collapse:separate!important;width:100%!important;display:block!important}body.page-kramail #topics tbody{flex-direction:column!important;gap:8px!important;padding:8px 16px!important;display:flex!important}body.page-kramail #topics tbody tr{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;cursor:pointer!important;transition:background var(--transition-fast)!important;border-radius:12px!important;grid-template-rows:auto auto!important;grid-template-columns:36px 1fr!important;gap:4px 10px!important;min-height:56px!important;padding:12px!important;display:grid!important;position:relative!important}body.page-kramail #topics tbody tr:active{background:var(--kr-bg-hover)!important}body.page-kramail #topics tbody td:first-child{border:none!important;grid-area:1/1/-1!important;justify-content:center!important;align-items:center!important;width:auto!important;padding:0!important;display:flex!important}body.page-kramail #topics tbody td:first-child input[type=checkbox]{cursor:pointer!important;width:20px!important;height:20px!important;accent-color:var(--kr-primary)!important}body.page-kramail #topics tbody td:nth-child(2){border:none!important;grid-area:1/2!important;padding:0!important;display:block!important;overflow:hidden!important}body.page-kramail #topics tbody td:nth-child(2) p.nomargin{margin:0!important;padding:0!important}body.page-kramail #topics tbody td:nth-child(2) span[id^=ajax-m]{align-items:center!important;gap:8px!important;display:flex!important;overflow:hidden!important}body.page-kramail #topics tbody td:nth-child(2) a:first-child i.fa,body.page-kramail #topics tbody td:nth-child(2) a:first-child i.far,body.page-kramail #topics tbody td:nth-child(2) a:first-child i.fas{color:var(--kr-text-secondary)!important;flex-shrink:0!important;font-size:16px!important}body.page-kramail #topics tbody td:nth-child(2) span[id^=ajax-m]>a:first-child{flex-shrink:0!important;align-items:center!important;min-height:0!important;padding:0!important;display:flex!important}body.page-kramail #topics tbody td:nth-child(2) a:last-of-type{color:var(--kr-text-primary)!important;text-overflow:ellipsis!important;white-space:nowrap!important;flex:1!important;min-width:0!important;min-height:0!important;padding:0!important;font-size:15px!important;font-weight:500!important;line-height:1.3!important;text-decoration:none!important;display:block!important;overflow:hidden!important}body.page-kramail #topics tbody td:nth-child(2) span.invisible{display:none!important}body.page-kramail #topics tbody td:nth-child(3){color:var(--kr-text-secondary)!important;border:none!important;grid-area:2/2!important;padding:0!important;font-size:13px!important;display:inline!important}body.page-kramail #topics tbody td:nth-child(3) a{color:var(--kr-text-secondary)!important;font-size:13px!important;text-decoration:none!important}body.page-kramail #topics tbody td:nth-child(4){color:var(--kr-text-muted)!important;text-align:right!important;border:none!important;padding:0!important;font-size:12px!important;display:block!important;position:absolute!important;bottom:12px!important;right:12px!important}body.page-kramail #topics tbody td:nth-child(4) span.invisible{display:none!important}body.page-kramail #topics_wrapper .btn-group{gap:4px!important;padding:8px 16px!important;display:flex!important}body.page-kramail #topics_wrapper .btn-group .btn{border-radius:8px!important;min-width:44px!important;min-height:44px!important;padding:10px!important;font-size:14px!important}.kramail-character-selector{cursor:pointer!important;user-select:none!important;border-radius:var(--mobile-radius)!important;transition:background var(--transition-fast)!important;align-items:center!important;gap:8px!important;margin:-8px -12px!important;padding:8px 12px!important;display:inline-flex!important;position:relative!important}.kramail-character-selector:active{background:var(--kr-bg-active)!important}.kramail-dropdown-icon{transition:transform var(--transition-fast)!important;color:var(--kr-text-secondary)!important;font-size:12px!important}.kramail-character-dropdown{display:none;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:var(--mobile-radius)!important;min-width:calc(100vw - 48px)!important;box-shadow:var(--kr-shadow-lg)!important;z-index:1000!important;flex-direction:column!important;max-height:70vh!important;margin-top:8px!important;position:absolute!important;top:100%!important;left:0!important;right:auto!important;overflow:hidden auto!important}.kramail-character-dropdown[style*="display: block"],.kramail-character-dropdown[style*=display\\:block]{display:flex!important}.kramail-character-option{text-align:center!important;min-height:var(--mobile-touch-target)!important;color:var(--kr-text-primary)!important;border-bottom:1px solid var(--kr-border-default)!important;transition:background var(--transition-fast)!important;flex-direction:column!important;align-items:center!important;padding:12px 16px!important;text-decoration:none!important;display:flex!important}.kramail-character-option>div:first-child{justify-content:center!important;width:100%!important}.kramail-character-option>div:last-child{text-align:center!important}.kramail-character-option:last-child{border-bottom:none!important}.kramail-character-option:active{background:var(--kr-bg-active)!important}html[class*=-dark] .kramail-character-dropdown{background:var(--kr-bg-surface)!important;border-color:var(--kr-border-default)!important}html[class*=-dark] .kramail-character-option{color:var(--kr-text-primary)!important;border-bottom-color:var(--kr-border-default)!important}.forum-top:has(.kramail-actions-moved){display:none!important}body.mobile-mode ul.media-list.forum>li.media.well.kramail-post-restructured{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;border-radius:12px!important;flex-direction:column!important;margin:0 16px 16px!important;padding:0!important;list-style:none!important;display:flex!important;overflow:hidden!important}body.mobile-mode li.kramail-post-restructured>.pull-left,body.mobile-mode li.kramail-post-restructured>.media-body{display:none!important}.kramail-msg-header{border-bottom:1px solid var(--kr-border-default)!important;align-items:center!important;gap:12px!important;padding:12px 16px!important;display:flex!important}.kramail-msg-header .kramail-msg-avatar{object-fit:cover!important;border-radius:8px!important;flex-shrink:0!important;width:48px!important;height:48px!important}.kramail-msg-header-info{flex:1!important;min-width:0!important}.kramail-msg-sender{color:var(--kr-text-primary)!important;margin-bottom:2px!important;font-size:15px!important;font-weight:600!important}.kramail-msg-sender a{color:inherit!important;text-decoration:none!important}.kramail-msg-date{color:var(--kr-text-muted)!important;align-items:center!important;gap:4px!important;font-size:12px!important;display:flex!important}.kramail-msg-date i{font-size:11px!important}.kramail-msg-recipients{color:var(--kr-text-secondary)!important;border-bottom:1px solid var(--kr-border-default)!important;padding:8px 16px!important;font-size:13px!important;line-height:1.5!important}.kramail-msg-recipients strong{color:var(--kr-text-muted)!important;font-weight:500!important}.kramail-msg-recipients a{color:var(--kr-primary)!important;text-decoration:none!important}.kramail-msg-body{color:var(--kr-text-primary)!important;overflow-wrap:break-word!important;padding:16px!important;font-size:15px!important;line-height:1.6!important}.kramail-msg-body blockquote,.kramail-msg-body .blockquote,.kramail-msg-body .quote{border-left:3px solid var(--kr-primary)!important;color:var(--kr-text-secondary)!important;background:#ffffff08!important;border-top:none!important;border-bottom:none!important;border-right:none!important;border-radius:0 8px 8px 0!important;margin:12px 0!important;padding:12px 16px!important;font-size:14px!important;line-height:1.5!important}.kramail-msg-body blockquote .fa-quote-left,.kramail-msg-body blockquote .text-warning{color:var(--kr-primary)!important;opacity:.6!important;margin-right:6px!important;font-size:12px!important}.kramail-msg-signature{border-top:1px solid var(--kr-border-default)!important;color:var(--kr-text-muted)!important;margin-top:16px!important;padding-top:12px!important;font-size:13px!important;line-height:1.5!important}.kramail-msg-signature img.icon{vertical-align:middle!important;max-height:18px!important}body.mobile-mode .center:has(>ul.pagination){padding:8px 16px 16px!important}body.mobile-mode .center>ul.pagination.t{justify-content:center!important;gap:8px!important;margin:0!important;padding:0!important;list-style:none!important;display:flex!important}body.mobile-mode .center>ul.pagination.t>li{list-style:none!important}body.mobile-mode .center>ul.pagination.t>li>a{background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;width:44px!important;height:44px!important;color:var(--kr-text-primary)!important;border-radius:10px!important;justify-content:center!important;align-items:center!important;font-size:16px!important;text-decoration:none!important;transition:all .15s!important;display:flex!important}body.mobile-mode .center>ul.pagination.t>li>a:active{background:var(--kr-primary)!important;border-color:var(--kr-primary)!important;color:#fff!important;transform:scale(.97)!important}ul.media-list.forum>li.media.forum-post-restructured{border-bottom:1px solid #ffffff1a!important;margin-bottom:24px!important;padding:12px 8px!important;list-style:none!important;display:block!important}ul.media-list.forum>li.media .forum-header{flex-wrap:nowrap!important;margin-bottom:12px!important;margin-left:0!important;margin-right:0!important;display:flex!important}ul.media-list.forum>li.media .forum-content-row{margin-left:0!important;margin-right:0!important}.forum-user-section{text-align:center!important;flex-direction:column!important;align-items:center!important;padding:0 8px!important;display:flex!important}.forum-user-section img.avatar,.forum-user-section .user-info img:first-child{border-radius:4px!important;max-width:80px!important;height:auto!important;margin-bottom:8px!important}.forum-user-section .cartouche strong,.forum-user-section strong a{white-space:normal!important;overflow-wrap:break-word!important;hyphens:auto!important;text-overflow:clip!important;max-width:100%!important;min-height:0!important;font-size:13px!important;line-height:1.2!important;display:block!important;overflow:visible!important}.forum-user-section [data-kr-rank-title]{flex-wrap:nowrap!important;justify-content:center!important;align-items:center!important;gap:4px!important;max-width:100%!important;margin-top:4px!important;display:inline-flex!important}.forum-user-section [data-kr-rank-title] img{flex-shrink:0!important;max-width:24px!important;max-height:24px!important;margin:0!important}.forum-user-section [data-kr-rank-title] strong{color:#bbb!important;white-space:normal!important;overflow-wrap:break-word!important;hyphens:auto!important;text-overflow:clip!important;text-align:center!important;flex:auto!important;min-width:0!important;max-width:none!important;font-size:10px!important;font-weight:400!important;line-height:1.3!important;overflow:visible!important}.forum-user-section .post-date-mobile{color:#999!important;text-align:center!important;margin-top:4px!important;font-size:11px!important}.forum-user-section strong:not(.cartouche strong,[data-kr-rank-title] strong){color:#bbb!important;white-space:nowrap!important;text-overflow:ellipsis!important;max-width:100%!important;margin-top:4px!important;font-size:10px!important;font-weight:400!important;overflow:hidden!important}.forum-actions-section{flex-direction:column!important;align-items:flex-end!important;gap:8px!important;padding:0 8px!important;display:flex!important}.forum-actions-section .pull-right{float:none!important;flex-flow:wrap!important;justify-content:center!important;align-items:center!important;gap:8px!important;width:100%!important;display:flex!important}.forum-actions-section .btn-group{flex-flow:row!important;gap:0!important;display:inline-flex!important}.forum-actions-section .btn{border:none!important;border-radius:0!important;justify-content:center!important;align-items:center!important;width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;margin:0!important;padding:0!important;font-size:14px!important;line-height:44px!important;display:inline-flex!important}.forum-actions-section .btn-group-xs>.btn,.forum-actions-section .btn-group-xs .btn{min-width:44px!important}.forum-actions-section .btn i{font-size:11px!important;line-height:24px!important}.forum-content-row{margin-top:0!important}.forum-content-section{border-top:1px dashed #ffffff26!important;width:100%!important;padding:12px 8px!important;font-size:15px!important;line-height:1.6!important}.forum-content-section .forum-msg,.forum-content-section>div{width:100%!important;margin:0!important;padding:0!important}.forum-content-section blockquote{border-left:3px solid #fff3!important;margin:8px 0!important;padding:8px 12px!important;font-size:14px!important}.forum-content-section img{max-width:100%!important;height:auto!important}.forum-content-section .spoiler{margin:8px 0!important}.forum-content-section hr,.forum-content-section .signature{color:#999!important;border-top:1px solid #ffffff1a!important;margin-top:16px!important;padding-top:16px!important;font-size:12px!important}}@media (width<=768px){.container,.container-fluid{padding-left:12px!important;padding-right:12px!important}.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12{float:none!important;width:100%!important;margin-left:0!important;margin-right:0!important;padding-left:0!important;padding-right:0!important}.form-group{margin-bottom:var(--mobile-spacing-lg);width:100%;overflow:hidden;margin-left:0!important;margin-right:0!important;padding-left:12px!important;padding-right:12px!important}.input-group{width:100%!important;display:block!important}.form-group .col-md-10,.form-group .col-sm-10{overflow:hidden}.btn-toolbar{margin-bottom:var(--mobile-spacing-md);border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);-webkit-overflow-scrolling:touch;white-space:nowrap;background:#00000005;flex-wrap:nowrap;gap:4px;padding:8px;overflow:auto hidden;display:flex!important}.btn-toolbar::-webkit-scrollbar{height:4px}.btn-toolbar::-webkit-scrollbar-track{background:#0000000d;border-radius:2px}.btn-toolbar::-webkit-scrollbar-thumb{background:#00000026;border-radius:2px}.btn-toolbar .btn-group{border-right:1px solid var(--kr-border-default);flex-shrink:0;gap:0;margin-right:8px;padding-right:8px;flex-direction:row!important;margin:0!important;display:flex!important}.btn-toolbar .btn-group:last-child{border-right:none;margin-right:0;padding-right:0}.btn-toolbar .btn{width:var(--mobile-touch-target);height:var(--mobile-touch-target);transition:all var(--transition-fast);border-radius:6px;flex-shrink:0;justify-content:center;align-items:center;font-size:16px;min-width:var(--mobile-touch-target)!important;margin:0!important;padding:0!important;display:flex!important}.btn-toolbar .btn:hover{border-color:var(--kr-primary);color:var(--kr-primary);background:#8b0f0e1a}.btn-toolbar .btn:active{background:#8b0f0e33;transform:scale(.95)}.btn-toolbar .btn:focus-visible{border-color:var(--kr-primary);outline:none;box-shadow:0 0 0 3px #8b0f0e1a}.form-control{line-height:1.5;min-height:var(--mobile-touch-target)!important;padding:12px var(--mobile-spacing-md)!important;border-radius:var(--mobile-radius)!important;font-size:16px!important}.form-control:focus{border-color:var(--kr-primary);outline:none;box-shadow:0 0 0 3px #8b0f0e1a}textarea.form-control{resize:vertical;font-family:monospace;line-height:1.6;min-height:150px!important}select.form-control{height:auto;min-height:var(--mobile-touch-target)}.form-group label{margin-bottom:var(--mobile-spacing-sm);text-transform:uppercase;letter-spacing:.5px;color:var(--kr-text);font-size:14px;font-weight:600;display:block}.form-group label .required{color:var(--kr-primary)}.form-group .checkbox{align-items:center;gap:var(--mobile-spacing-md);min-height:var(--mobile-touch-target);margin-right:var(--mobile-spacing-lg);margin-bottom:0;padding:8px 0;display:inline-flex}.form-group .checkbox input[type=checkbox]{cursor:pointer;min-width:20px;min-height:20px;accent-color:var(--kr-primary);flex-shrink:0;width:20px!important;height:20px!important;margin:0!important}.form-group .checkbox label{cursor:pointer;text-transform:none;letter-spacing:normal;margin:0;padding:8px 0;font-size:16px;font-weight:500;display:inline}button.btn-primary.pull-right{z-index:90;font-size:16px;font-weight:600;border:none!important;border-radius:0!important;width:100%!important;height:56px!important;margin:0!important;padding:12px 16px!important;position:fixed!important;bottom:0!important;left:0!important;right:0!important}button.btn-primary.pull-right:active{background:var(--kr-primary-dark);transform:scale(.98)}.form-group:last-of-type{padding-bottom:60px}.panel-group{width:100%;overflow:hidden}.panel-title{margin:0;font-size:16px}.accordion-toggle,a[data-toggle=collapse]{padding:var(--mobile-spacing-md) var(--mobile-spacing-lg);border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);cursor:pointer;transition:all var(--transition-fast);min-height:var(--mobile-touch-target);color:var(--kr-text);background:#00000005;justify-content:space-between;align-items:center;font-weight:500;text-decoration:none;display:flex}.accordion-toggle:hover,a[data-toggle=collapse]:hover{border-color:var(--kr-primary);color:var(--kr-primary);background:#8b0f0e0d}.panel-collapse{border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);margin-top:-1px}.panel-body{padding:var(--mobile-spacing-lg)}}body.page-kramail .editeur-text .form-group hr,body.page-kramail .editeur-text .form-group+.form-group>.col-sm-2:empty+.col-sm-10>hr{display:none!important}body.page-kramail .editeur-text .form-group:has(#results){margin-bottom:0;padding-top:0}body.page-kramail .editeur-text #results hr{display:none!important}body.page-kramail .editeur-text select.form-control,body.page-kramail .editeur-text .form-group:has(input[type=checkbox]) input[type=checkbox]{cursor:pointer}body.page-kramail .editeur-text .form-group>label.control-label .required{color:var(--kr-primary);font-weight:700}body.page-kramail h1.page-header .btn-default{border-radius:var(--kr-radius);font-weight:500;transition:all .15s}body.page-kramail h1.page-header .btn-default:hover{border-color:var(--kr-primary);color:var(--kr-primary)}@media (width>=769px){body.page-kramail form.form-horizontal.editeur-text{background:var(--kr-bg-surface);border:1px solid var(--kr-border-strong);border-radius:var(--kr-radius);box-shadow:var(--kr-shadow-md);margin-top:8px;padding:28px 32px}body.page-kramail h1.page-header{margin-bottom:16px;padding-bottom:12px;border-bottom-color:var(--kr-primary)!important}body.page-kramail .editeur-text .input-group-addon{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-secondary);text-align:center;min-width:42px}body.page-kramail .editeur-text .input-group-addon i.fa,body.page-kramail .editeur-text .input-group-addon i.far,body.page-kramail .editeur-text .input-group-addon i.fas{color:var(--kr-primary);font-size:14px}body.page-kramail .editeur-text .input-group-addon .btn.btn-primary{border-radius:4px;min-width:36px;min-height:32px;padding:4px 12px;font-size:16px;font-weight:700}body.page-kramail .editeur-text .form-group label[for],body.page-kramail .editeur-text .form-group>label.col-sm-1{text-transform:uppercase;letter-spacing:.3px;color:var(--kr-text-secondary);font-size:13px;font-weight:600}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]){background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);margin-top:8px;padding:16px 20px!important}body.page-kramail .editeur-text .form-group:has(input[type=checkbox])>label.col-md-2,body.page-kramail .editeur-text .form-group:has(input[type=checkbox])>label.col-sm-2{color:var(--kr-text-primary);font-size:14px;font-weight:700}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]) .checkbox-inline{cursor:pointer;margin-right:24px;padding:6px 4px 6px 24px}body.page-kramail .editeur-text>div:last-child{text-align:right;border-top:1px solid var(--kr-border-default);clear:both;margin-top:8px;padding-top:16px}body.page-kramail .editeur-text button.btn-primary.pull-right{letter-spacing:.3px;border-radius:var(--kr-radius);min-width:180px;box-shadow:0 4px 12px var(--kr-btn-shadow);margin:0;padding:12px 32px;font-size:15px;font-weight:600;transition:all .2s;float:none!important}body.page-kramail .editeur-text button.btn-primary.pull-right:hover{box-shadow:0 6px 20px var(--kr-btn-shadow);transform:translateY(-1px)}body.page-kramail .editeur-text button.btn-primary.pull-right:active{box-shadow:0 2px 8px var(--kr-btn-shadow);transform:translateY(0)}body.page-kramail .editeur-text .btn-toolbar{background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);flex-wrap:wrap;gap:4px;margin-bottom:8px;padding:8px;display:flex}body.page-kramail .editeur-text .btn-toolbar .btn-group{border-right:1px solid var(--kr-border-default);margin-right:4px;padding-right:8px}body.page-kramail .editeur-text .btn-toolbar .btn-group:last-child{border-right:none;margin-right:0;padding-right:0}body.page-kramail .editeur-text .btn-toolbar .btn{border-radius:4px;justify-content:center;align-items:center;min-width:34px;min-height:32px;transition:all .15s;display:inline-flex}body.page-kramail .editeur-text .btn-toolbar .btn:hover{background:var(--kr-bg-active)!important;border-color:var(--kr-primary)!important}body.page-kramail .editeur-text textarea[name="c[5]"],body.page-kramail .editeur-text textarea[placeholder=Votre\\ message]{min-height:250px;line-height:1.6}body.page-kramail .editeur-text .col-sm-10>.btn-toolbar+textarea.form-control{margin-top:0;border-top:none!important;border-top-left-radius:0!important;border-top-right-radius:0!important}body.page-kramail .editeur-text .col-sm-10>.btn-toolbar{border-bottom:1px solid var(--kr-border-default);border-bottom-right-radius:0!important;border-bottom-left-radius:0!important;margin-bottom:0!important}body.page-kramail .editeur-text .form-group>label.control-label{text-transform:uppercase;letter-spacing:.4px;color:var(--kr-text-secondary);font-size:13px;font-weight:600}body.page-kramail .editeur-text .form-group{margin-bottom:20px}}@media (width<=768px){body.page-kramail-compose h1.page-header .kramail-character-selector .kramail-character-dropdown,body.page-kramail-compose h1.page-header .kramail-character-selector .kramail-dropdown-icon{display:none!important}body.page-kramail-compose h1.page-header .kramail-character-selector{pointer-events:none;flex:1;min-width:0;cursor:default!important}body.page-kramail-compose h1.page-header{flex-wrap:nowrap;align-items:center;gap:10px;flex-direction:row!important;display:flex!important}body.page-kramail-compose h1.page-header .pull-right{flex-shrink:0;margin-left:auto;float:none!important;width:auto!important}body.page-kramail-compose h1.page-header .pull-right .btn{white-space:nowrap;justify-content:center;align-items:center;min-width:44px;min-height:44px;padding:8px 12px;font-size:14px;display:inline-flex!important}body.page-kramail .editeur-text .input-group{border-radius:var(--mobile-radius);flex-wrap:nowrap;overflow:hidden;display:flex!important}body.page-kramail .editeur-text .input-group-addon{flex-shrink:0;justify-content:center;align-items:center;border-right:none!important;border-radius:0!important;width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;padding:0!important;display:flex!important}body.page-kramail .editeur-text .input-group-addon:first-child{border-radius:var(--mobile-radius) 0 0 var(--mobile-radius)!important}body.page-kramail .editeur-text .input-group .form-control{flex:1;min-width:0;border-radius:0 var(--mobile-radius) var(--mobile-radius) 0!important;border-left:none!important;height:44px!important}body.page-kramail .editeur-text .input-group-addon .btn{color:inherit;justify-content:center;align-items:center;font-size:18px;font-weight:700;background:0 0!important;border:none!important;width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;margin:0!important;padding:0!important;display:flex!important}body.page-kramail .editeur-text .btn-toolbar{-webkit-overflow-scrolling:touch;background:var(--kr-bg-hover);flex-wrap:nowrap;overflow:auto hidden;border-radius:var(--mobile-radius) var(--mobile-radius) 0 0!important;border:1px solid var(--kr-border-default)!important;border-bottom:1px solid var(--kr-border-default)!important;gap:0!important;margin-bottom:0!important;padding:0!important;display:flex!important}body.page-kramail .editeur-text .btn-toolbar .btn-group{flex-shrink:0;border:none!important;border-right:1px solid var(--kr-border-default)!important;border-radius:0!important;flex-direction:row!important;width:auto!important;margin:0!important;padding:0!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group:last-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type{border-right:none!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group>.btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group>a.btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown>a>.btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown .dropdown-toggle .btn,body.page-kramail .editeur-text .btn-toolbar>.btn-group .dropdown>.dropdown-toggle{flex-shrink:0;justify-content:center;align-items:center;width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;color:var(--kr-text-primary,#f5f1ed)!important;background:0 0!important;border:none!important;border-right:1px solid #ffffff0d!important;border-radius:0!important;margin:0!important;padding:0!important;display:flex!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group>.btn i,body.page-kramail .editeur-text .btn-toolbar>.btn-group>a.btn i{color:inherit!important}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown{flex-shrink:0;display:flex!important}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn{width:44px!important;min-width:44px!important;max-width:44px!important;height:44px!important;color:var(--kr-text-primary,#d4a574)!important;background:0 0!important;border:none!important;border-radius:0!important;margin:0!important;padding:0!important}body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn i,body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn .fa,body.page-kramail .editeur-text .btn-toolbar .btn-group .dropdown>.dropdown-toggle>.btn .far{color:inherit!important}body.page-kramail .editeur-text .btn-toolbar .dropdown-menu .btn-group .btn{border:1px solid #ffffff1a!important;border-radius:4px!important;width:auto!important;min-width:28px!important;max-width:none!important;height:auto!important;min-height:28px!important;margin:2px!important;padding:4px 6px!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group:first-child>.btn:first-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group:first-child>a.btn:first-child{border-radius:var(--mobile-radius) 0 0 var(--mobile-radius)!important}body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type>.btn:last-child,body.page-kramail .editeur-text .btn-toolbar>.btn-group[aria-label]:last-of-type>a.btn:last-child{border-radius:0 var(--mobile-radius) var(--mobile-radius) 0!important;border-right:none!important}body.page-kramail .editeur-text .btn-toolbar .btn:active{background:#8b0f0e26!important}body.page-kramail .editeur-text .btn-toolbar::-webkit-scrollbar{height:3px}body.page-kramail .editeur-text .btn-toolbar::-webkit-scrollbar-thumb{background:#ffffff26;border-radius:2px}body.page-kramail .editeur-text .btn-toolbar+textarea.form-control,body.page-kramail .editeur-text .col-sm-10>.btn-toolbar+textarea.form-control{margin-top:0;border-top:none!important;border-top-left-radius:0!important;border-top-right-radius:0!important}body.page-kramail .editeur-text .btn-toolbar .dropdown-menu{max-height:50vh;overflow-y:auto;border-radius:var(--mobile-radius) var(--mobile-radius) 0 0!important;z-index:1050!important;background:var(--kr-bg-surface)!important;border:1px solid var(--kr-border-default)!important;width:auto!important;max-width:calc(100vw - 16px)!important;padding:12px!important;position:fixed!important;inset:auto 8px 60px!important;box-shadow:0 -4px 24px #0006!important}body.page-kramail .editeur-text .checkbox-inline{white-space:nowrap;align-items:center;gap:8px;min-height:44px;margin-bottom:8px;margin-right:16px;padding-left:0!important;display:flex!important}body.page-kramail .editeur-text .checkbox-inline input[type=checkbox]{flex-shrink:0;min-width:20px;width:20px!important;height:20px!important;margin-top:0!important;margin-left:0!important;position:static!important}body.page-kramail .editeur-text .form-group:has(input[type=checkbox]){background:var(--kr-bg-hover);border:1px solid var(--kr-border-default);border-radius:var(--mobile-radius);margin-top:8px;padding:12px 16px!important}body.page-kramail .editeur-text .form-group>label.control-label{color:var(--kr-text-secondary)}body.page-kramail .editeur-text .form-group:last-of-type{padding-bottom:70px!important}}@media (width>=768px){body.page-evenements #col-left .form-group{margin-bottom:10px;overflow:hidden}body.page-evenements #col-left .form-group>label.control-label{float:none;text-align:left;text-transform:uppercase;letter-spacing:.5px;width:100%;color:var(--kr-text-secondary);padding:0 0 4px;font-size:11px}body.page-evenements #col-left .form-group>.col-sm-10{float:none;width:100%;padding:0}body.page-evenements #col-left .input-group-addon{background-color:var(--kr-bg-elevated);border-color:var(--kr-border-default);color:var(--kr-text-secondary);text-align:center;min-width:36px}body.page-evenements #col-left form>br{display:none}body.page-evenements #col-left .center{text-align:center;margin:10px 0}body.page-evenements #col-left input[name="n[4]"]{margin:2px}body.page-evenements #col-left .form-group.row.center{justify-content:center;gap:8px;margin:8px 0;display:flex}body.page-evenements #col-left .form-group.row.center>div{float:none;width:auto;padding:0}body.page-evenements #col-left form hr{border-top-color:var(--kr-border-default);margin:10px 0}}.forum-thread-detail>div:nth-of-type(2),.page-forum-sujet [role=main]>div>div:nth-of-type(2)>div:nth-of-type(3),.forum-thread-metadata+div:has(a[href*="/forum/tags/"]){display:none}.kr-changelog-modal{z-index:10000;opacity:0;width:100%;height:100%;transition:opacity .3s;display:none;position:fixed;top:0;left:0}.kr-changelog-modal.active{opacity:1;justify-content:center;align-items:center;display:flex}.kr-changelog-overlay{cursor:pointer;width:100%;height:100%;position:absolute;top:0;left:0;background:#000000bf!important}.kr-changelog-content{border-radius:var(--kr-radius)!important;box-shadow:var(--kr-shadow-lg)!important;z-index:10001!important;color:#fff!important;background:#000000f2!important;border:1px solid #ffffff0f!important;flex-direction:column!important;width:90%!important;max-width:600px!important;max-height:90vh!important;display:flex!important;position:fixed!important;top:50%!important;left:50%!important;overflow:hidden!important;transform:translate(-50%,-50%)!important}.kr-changelog-header{border-bottom:1px solid var(--kr-border-default);padding:24px 24px 16px;position:relative}.kr-changelog-header h2{color:var(--kr-primary);margin:0;font-size:20px;font-weight:600}.kr-changelog-close{display:none!important}.kr-changelog-body{flex:1;padding:16px 24px;overflow-y:auto}.kr-changelog-subtitle{color:var(--kr-muted);margin:0 0 16px;font-size:14px}.kr-changelog-list{margin:0;padding:0;list-style:none}.kr-changelog-list li{color:var(--kr-text);padding:8px 0 8px 24px;font-size:14px;line-height:1.5;position:relative}.kr-changelog-list li:before{content:"✓";color:var(--kr-primary);font-size:16px;font-weight:700;position:absolute;left:0}.kr-changelog-footer{border-top:1px solid var(--kr-border-default);flex-wrap:wrap;gap:12px;padding:16px 24px;display:flex}.kr-changelog-footer button{border:1px solid var(--kr-border-strong);border-radius:var(--kr-radius);background:var(--kr-surface);min-width:120px;color:var(--kr-text);cursor:pointer;flex:1;padding:10px 16px;font-size:14px;font-weight:500;transition:all .2s}.kr-changelog-view-all{background:var(--kr-primary)!important;color:#fff!important;border-color:var(--kr-primary)!important}.kr-changelog-view-all:hover{background:var(--kr-primary-dark)!important;border-color:var(--kr-primary-dark)!important}.kr-changelog-close-btn:hover{background:var(--kr-bg-hover)}.kr-changelog-modal.kr-changelog-full .kr-changelog-content-full{max-width:800px}.kr-changelog-body-full{max-height:500px}.kr-changelog-version{margin-bottom:24px}.kr-changelog-version h3{color:var(--kr-primary);border-bottom:1px solid var(--kr-border-default);margin:0 0 12px;padding-bottom:8px;font-size:16px;font-weight:600}.kr-changelog-version ul{margin:0;padding:0;list-style:none}.kr-changelog-version li{color:var(--kr-text);padding:6px 0 6px 20px;font-size:13px;line-height:1.5;position:relative}.kr-changelog-version li:before{content:"•";color:var(--kr-primary);font-weight:700;position:absolute;left:5px}.kr-changelog-btn{margin-bottom:16px}.kr-changelog-inline{color:var(--kr-primary);vertical-align:middle;cursor:pointer;background:0 0;border:none;margin-left:8px;padding:0;font-size:13px;text-decoration:none;display:inline}.kr-changelog-inline:hover{color:var(--kr-primary-dark);text-decoration:underline}@media (width<=768px){.kr-changelog-content{width:95%;max-height:85vh}.kr-changelog-header{padding:16px 16px 12px}.kr-changelog-header h2{font-size:18px}.kr-changelog-body{padding:12px 16px}.kr-changelog-list li{padding:6px 0 6px 20px;font-size:13px}.kr-changelog-footer{flex-direction:column;padding:12px 16px}.kr-changelog-footer button{width:100%}.kr-changelog-content-full{max-width:95%}}html[class*=-dark] .mini.c1{color:#000!important;text-shadow:none!important;background-color:#ff8080eb!important}html[class*=-dark] .mini.c2{color:#000!important;text-shadow:none!important;background-color:#aa7000eb!important}html[class*=-dark] .mini.c3{color:#000!important;text-shadow:none!important;background-color:#ffff80eb!important}html[class*=-dark] .mini.c4{color:#000!important;text-shadow:none!important;background-color:#8080ffeb!important}html[class*=-dark] .mini.c5{color:#000!important;text-shadow:none!important;background-color:#80ff80eb!important}html[class*=-dark] .mini.c6{color:#000!important;text-shadow:none!important;background-color:#cc80ffeb!important}html[class*=-dark] .mini.c7{color:#000!important;text-shadow:none!important;background-color:#aaaaaaeb!important}html[class*=-dark] .mini.c8{color:#000!important;text-shadow:none!important;background-color:#739773eb!important}html[class*=-dark] .mini.c9{color:#000!important;text-shadow:none!important;background-color:#aaaa44eb!important}html[class*=-dark] .mini.c10{color:#000!important;text-shadow:none!important;background-color:#ccffffeb!important}@media (width>=768px){.page-accueil .alert-info{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default);border-left:4px solid var(--kr-primary);color:var(--kr-text-primary);border-radius:var(--kr-radius);margin-bottom:16px;padding:10px 14px;font-size:13px}.page-accueil .alert-info .close{color:var(--kr-text-muted);opacity:.7;text-shadow:none}.page-accueil #player-header-section{border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);overflow:hidden}.page-accueil #player-header-section>.list-group-item.active{background:var(--kr-primary);border-color:var(--kr-primary);color:#fff;border-radius:0;font-size:13px;font-weight:600}.page-accueil #player-header-section .panel{box-shadow:none;border:none;border-radius:0;margin-bottom:0}.page-accueil #player-header-section .panel-body{background:var(--kr-bg-surface);padding:0}.page-accueil #player-header-section .panel-body .news-item{border-bottom:1px solid var(--kr-border-default);padding:8px 10px}.page-accueil #player-header-section .panel-body .news-item:last-child{border-bottom:none}.page-accueil #player-header-section .pagination{background:var(--kr-bg-surface);border-top:1px solid var(--kr-border-default);margin:0;padding:4px 10px}.page-accueil .kraland-metrics{border:none;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px;margin-top:10px;padding:0;display:grid}.page-accueil .kraland-metrics .list-group-item{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);text-align:center;flex-direction:column;align-items:center;padding:10px 8px;display:flex}.page-accueil .kraland-metrics .list-group-item .pull-right{order:-1;margin-bottom:4px;position:static!important;transform:none!important}.page-accueil .kraland-metrics .list-group-item .pull-right .fa{color:var(--kr-primary);font-size:20px}.page-accueil .kraland-metrics .list-group-item h4.count{color:var(--kr-primary);margin:0;font-size:20px;font-weight:700}.page-accueil .kraland-metrics .list-group-item p{color:var(--kr-text-muted);text-transform:uppercase;letter-spacing:.5px;margin:2px 0 0;font-size:10px}.page-accueil .ds_user{background:var(--kr-bg-elevated);border-radius:var(--kr-radius);text-align:center;margin-bottom:10px;border:1px solid var(--kr-border-default)!important;padding:12px!important;display:block!important}.page-accueil .ds_user h4{color:var(--kr-text-primary);margin:8px 0 0;font-size:16px;font-weight:600}.page-accueil .ds_user .pull-right{margin-bottom:8px;float:none!important;position:static!important;transform:none!important}.page-accueil .ds_user .pull-right img{border-radius:50%;width:80px;height:80px}.accueil-play-btn{background:var(--kr-primary);text-align:center;border-radius:var(--kr-radius);margin-bottom:10px;padding:10px;font-size:15px;font-weight:600;transition:opacity .15s;display:block;color:#fff!important;text-decoration:none!important}.accueil-play-btn:hover{opacity:.85;color:#fff!important}.accueil-play-btn .fa{margin-right:6px}.accueil-forum-section{background:var(--kr-bg-elevated);border:1px solid var(--kr-border-default);border-radius:var(--kr-radius);overflow:hidden}.accueil-forum-section h4{background:var(--kr-bg-active);color:var(--kr-text-primary);border-bottom:1px solid var(--kr-border-default);text-align:center;margin:0;padding:8px 12px;font-size:13px;font-weight:600}.accueil-forum-section .ds_forum{border-bottom:1px solid var(--kr-border-default);transition:background .15s;display:block;background:var(--kr-bg-surface)!important;border-top:none!important;border-left:none!important;border-right:none!important;border-radius:0!important;padding:8px 12px!important}.accueil-forum-section .ds_forum:last-child{border-bottom:none}.accueil-forum-section .ds_forum:hover{background:var(--kr-bg-hover)!important}.accueil-forum-section .ds_forum h4{text-align:left;text-transform:uppercase;letter-spacing:.3px;color:var(--kr-primary);background:0 0;border-bottom:none;margin:0 0 2px;padding:0;font-size:10px}.accueil-forum-section .ds_forum p{color:var(--kr-text-primary);margin:0;font-size:12px}.page-accueil #myCarousel{border-radius:var(--kr-radius);box-shadow:var(--kr-shadow-md);max-width:570px;margin-left:auto;margin-right:auto;overflow:hidden}.page-accueil #myCarousel .carousel-caption{background:linear-gradient(#0000,#000000bf);border-radius:0;padding:30px 20px 14px;bottom:0;left:0;right:0}.page-accueil #myCarousel .carousel-caption h1,.page-accueil #myCarousel .carousel-caption h3{text-shadow:0 1px 3px #00000080;margin:0 0 4px;font-size:16px;font-weight:600}.page-accueil #myCarousel .carousel-caption p{opacity:.9;text-shadow:0 1px 2px #00000080;margin:0 0 8px;font-size:12px}.page-accueil #myCarousel .carousel-caption .btn,.page-accueil #myCarousel .carousel-indicators{display:none!important}}@media (width>=2560px){.page-accueil #col-left{width:25%!important}.page-accueil #col-right{width:50%!important}}@media (width>=3840px){.page-accueil #col-left{width:25%!important}.page-accueil #col-right{width:50%!important}}@media (width<=767px){.page-accueil .row{flex-direction:column!important;display:flex!important}.page-accueil #col-t{flex-direction:column!important;order:-1!important;margin-bottom:0!important;padding:0!important;display:flex!important}.page-accueil #col-left{flex-direction:column!important;order:0!important;margin-bottom:0!important;padding:0!important;display:flex!important}.page-accueil #col-right{margin-bottom:0!important;display:none!important}.page-accueil .alert-info{background:var(--kr-bg-elevated);border:none;border-left:3px solid var(--kr-primary);color:var(--kr-text-primary);border-radius:0;margin:0;padding:8px 12px;font-size:12px}.page-accueil .alert-info .close{color:var(--kr-text-muted);opacity:.7;text-shadow:none}.page-accueil .accueil-play-btn{background:var(--kr-primary);text-align:center;letter-spacing:.5px;text-transform:uppercase;border:none;border-radius:0;order:-2;justify-content:center;align-items:center;gap:8px;width:100%;margin:0;padding:14px 16px;font-size:18px;font-weight:700;color:#fff!important;text-decoration:none!important;display:flex!important}.page-accueil .accueil-play-btn .fa{font-size:16px}.page-accueil .ds_user{text-align:left;background:var(--kr-bg-elevated);border-bottom:1px solid var(--kr-border-default);border-radius:0;order:-1;gap:10px;margin:0;flex-direction:row!important;align-items:center!important;padding:8px 12px!important;display:flex!important}.page-accueil .ds_user .pull-right{flex-shrink:0;order:-1;margin:0;float:none!important;position:static!important;transform:none!important}.page-accueil .ds_user .pull-right img{border-radius:50%;display:block;width:56px!important;min-width:56px!important;height:56px!important;min-height:56px!important}.page-accueil .ds_user h4{color:var(--kr-text-primary);margin:0;font-size:14px;font-weight:600}.page-accueil .ds_user p{color:var(--kr-text-muted);margin:2px 0 0;font-size:11px}.page-accueil .accueil-forum-section{margin:0}.page-accueil .accueil-forum-section h4.center{background:var(--kr-bg-active);color:var(--kr-text-secondary);text-transform:uppercase;letter-spacing:.5px;text-align:left;margin:0;padding:6px 12px;font-size:11px;font-weight:600}.page-accueil .accueil-forum-section .ds_forum{border-bottom:1px solid var(--kr-border-default);background:var(--kr-bg-surface);font-size:12px;display:block;border-top:none!important;border-left:none!important;border-right:none!important;border-radius:0!important;padding:8px 12px!important}.page-accueil .accueil-forum-section .ds_forum h4{color:var(--kr-highlight);text-align:left;text-transform:uppercase;letter-spacing:.3px;background:0 0;margin:0 0 2px;padding:0;font-size:9px;font-weight:600}.page-accueil .accueil-forum-section .ds_forum p{color:var(--kr-text-primary);text-overflow:ellipsis;white-space:nowrap;margin:0;font-size:13px;overflow:hidden}.page-accueil .accueil-forum-section .ds_forum p img{vertical-align:middle;width:auto!important;min-width:auto!important;height:12px!important;min-height:auto!important}.page-accueil .kraland-metrics{border:none;border-bottom:1px solid var(--kr-border-default);background:var(--kr-bg-elevated);order:-1;gap:0;padding:0;overflow:hidden;display:flex!important}.page-accueil .kraland-metrics .list-group-item{border:none;border-right:1px solid var(--kr-border-default);text-align:center;background:0 0;border-radius:0;flex-direction:column;flex:1;align-items:center;gap:0;min-width:0;padding:8px 4px;display:flex!important}.page-accueil .kraland-metrics .list-group-item:last-child{border-right:none}.page-accueil .kraland-metrics .list-group-item .pull-right{display:none!important}.page-accueil .kraland-metrics .list-group-item h4.count{color:var(--kr-primary);margin:0;font-size:16px;font-weight:700;line-height:1}.page-accueil .kraland-metrics .list-group-item p{color:var(--kr-text-muted);text-transform:uppercase;letter-spacing:.3px;margin:2px 0 0;font-size:8px;line-height:1}body.mobile-mode.page-accueil #player-header-section{display:block!important}.page-accueil #player-header-section>.list-group-item.active{background:var(--kr-bg-active);border-color:var(--kr-bg-active);color:var(--kr-text-secondary);text-transform:uppercase;letter-spacing:.5px;border-radius:0;margin:0;padding:6px 12px;font-size:11px;font-weight:600}.page-accueil #player-header-section .panel{box-shadow:none;border:none;border-radius:0;margin:0}.page-accueil #player-header-section .panel-body{padding:0!important}.page-accueil #player-header-section .panel-body .news-item{border-bottom:1px solid var(--kr-border-default);padding:8px 12px;font-size:12px}.page-accueil #player-header-section .pagination{display:none}}',ENABLE_KEY:"kr-theme-enabled",VARIANT_KEY:"kr-theme-variant",STATS_DISPLAY_KEY:"kr-stats-display",STYLE_ID:"kraland-theme-style",THEME_VARIANTS:["kraland","empire-brun","paladium","theocratie-seelienne","paradigme-vert","khanat-elmerien","confederation-libre","royaume-ruthvenie","empire-brun-dark","paladium-dark","theocratie-seelienne-dark","paradigme-vert-dark","khanat-elmerien-dark","confederation-libre-dark","royaume-ruthvenie-dark","high-contrast"],LOGO_MAP:{kraland:1,"empire-brun":2,"empire-brun-dark":2,paladium:3,"paladium-dark":3,"theocratie-seelienne":4,"theocratie-seelienne-dark":4,"paradigme-vert":5,"paradigme-vert-dark":5,"khanat-elmerien":6,"khanat-elmerien-dark":6,"confederation-libre":7,"confederation-libre-dark":7,"royaume-ruthvenie":8,"royaume-ruthvenie-dark":8},SKILL_ICONS:{Baratin:"9401","Combat Mains Nues":"9402","Combat Contact":"9403","Combat Distance":"9404",Commerce:"9405","Démolition":"9406","Discrétion":"9407","Éloquence":"9408",Falsification:"9409",Foi:"9410",Informatique:"9411","Médecine":"9412",Observation:"9413",Organisation:"9414",Pouvoir:"9415","Séduction":"9416",Survie:"9417",Vol:"9418"},STAT_ICONS:{FOR:"9402",VOL:"9415",CHA:"9416",INT:"9412",GES:"9405",PER:"9413"},MEDIEVAL_MAP_KEY:"kr-medieval-map",MEDIEVAL_MAP_STYLE_ID:"kr-medieval-map-style",MEDIEVAL_MAP_OVERRIDES:{"http://img7.kraland.org/2/map/1/54.gif":"https://i.imgur.com/yQaUb2q.png","http://img7.kraland.org/2/map/1/123.gif":"https://i.imgur.com/zeD5Q3m.gif","http://img7.kraland.org/2/map/1/124.gif":"https://i.imgur.com/kT1NcMR.gif","http://img7.kraland.org/2/map/1/125.gif":"https://i.imgur.com/OZcbEpv.gif","http://img7.kraland.org/2/map/1/126.gif":"https://i.imgur.com/pnNPvQa.gif","http://img7.kraland.org/2/map/1/127.gif":"https://i.imgur.com/AWDyET8.gif","http://img7.kraland.org/2/map/1/128.gif":"https://i.imgur.com/v9BUsFz.gif","http://img7.kraland.org/2/map/1/129.gif":"https://i.imgur.com/F3hWy6L.gif","http://img7.kraland.org/2/map/1/130.gif":"https://i.imgur.com/dQ1eAgR.gif","http://img7.kraland.org/2/map/1/131.gif":"https://i.imgur.com/hQzJHvq.gif","http://img7.kraland.org/2/map/1/150.gif":"https://i.imgur.com/b4gCbux.png","http://img7.kraland.org/2/map/1/160.gif":"https://i.imgur.com/u3pxKOO.gif","http://img7.kraland.org/2/map/1/161.gif":"https://i.imgur.com/SptXelD.gif","http://img7.kraland.org/2/map/1/162.gif":"https://i.imgur.com/r9AajUr.gif","http://img7.kraland.org/2/map/1/163.gif":"https://i.imgur.com/j0E8T1P.gif","http://img7.kraland.org/2/map/1/164.gif":"https://i.imgur.com/ogaiUqe.gif","http://img7.kraland.org/2/map/1/165.gif":"https://i.imgur.com/qe3sdQF.gif","http://img7.kraland.org/2/map/1/166.gif":"https://i.imgur.com/Z6QHBzh.gif","http://img7.kraland.org/2/map/1/167.gif":"https://i.imgur.com/DtNeOzd.gif","http://img7.kraland.org/2/map/1/168.gif":"https://i.imgur.com/bowPMN6.gif","http://img7.kraland.org/2/map/1/169.gif":"https://i.imgur.com/o7CILuq.gif","http://img7.kraland.org/2/map/1/170.gif":"https://i.imgur.com/y9U0dYl.gif","http://img7.kraland.org/2/map/1b/54.gif":"https://i.imgur.com/06sWizC.png","http://img7.kraland.org/2/map/1b/123.gif":"https://i.imgur.com/AVfs5gP.gif","http://img7.kraland.org/2/map/1b/124.gif":"https://i.imgur.com/5EXjAMq.gif","http://img7.kraland.org/2/map/1b/125.gif":"https://i.imgur.com/2W8B2Dt.gif","http://img7.kraland.org/2/map/1b/126.gif":"https://i.imgur.com/4bBE651.gif","http://img7.kraland.org/2/map/1b/127.gif":"https://i.imgur.com/MlV4iYC.gif","http://img7.kraland.org/2/map/1b/128.gif":"https://i.imgur.com/rmU5dY2.gif","http://img7.kraland.org/2/map/1b/129.gif":"https://i.imgur.com/YeujdJG.gif","http://img7.kraland.org/2/map/1b/130.gif":"https://i.imgur.com/PqDVOX3.gif","http://img7.kraland.org/2/map/1b/131.gif":"https://i.imgur.com/W8FRpdH.gif","http://img7.kraland.org/2/map/1b/150.gif":"https://i.imgur.com/w6yVuNX.png","http://img7.kraland.org/2/map/1b/160.gif":"https://i.imgur.com/bHKR6EJ.gif","http://img7.kraland.org/2/map/1b/161.gif":"https://i.imgur.com/yrfMXwl.gif","http://img7.kraland.org/2/map/1b/162.gif":"https://i.imgur.com/qfSfUkX.gif","http://img7.kraland.org/2/map/1b/163.gif":"https://i.imgur.com/MR7miUh.gif","http://img7.kraland.org/2/map/1b/164.gif":"https://i.imgur.com/MMunrUy.gif","http://img7.kraland.org/2/map/1b/165.gif":"https://i.imgur.com/Kqs7t39.gif","http://img7.kraland.org/2/map/1b/166.gif":"https://i.imgur.com/6FoA0Hi.gif","http://img7.kraland.org/2/map/1b/167.gif":"https://i.imgur.com/Jgu5rX9.gif","http://img7.kraland.org/2/map/1b/168.gif":"https://i.imgur.com/KCPBL3T.gif","http://img7.kraland.org/2/map/1b/169.gif":"https://i.imgur.com/uBJObWh.gif","http://img7.kraland.org/2/map/1b/170.gif":"https://i.imgur.com/FfpTfLi.gif"},MEDIEVAL_SEPIA:"85%"};function l(t){try{t()}catch(t){}}const d={};function p(t){return t in d||(d[t]=localStorage.getItem(t)),d[t]}function m(t,e){d[t]=e,localStorage.setItem(t,e)}function c(){return"true"===p(i.ENABLE_KEY)}function s(){return p(i.VARIANT_KEY)||"kraland"}function b(){return p(i.STATS_DISPLAY_KEY)||"icon"}function u(t){if(!t)return null;const e=t.match(/url\((?:'|")?(.*?)(?:'|")?\)/);return e?e[1]:null}function g(){try{const t="data-kr-medieval-applied",e="data-kr-medieval-original-bg",o="data-kr-medieval-original-filter",r={};function a(a){if(!a||a.getAttribute&&"true"===a.getAttribute(t)||a.getAttribute&&"true"===a.getAttribute("data-kr-medieval-pending"))return;let n=null;if("IMG"===a.tagName)n=a.src||a.getAttribute("src");else{const t=a.style&&a.style.getPropertyValue("background-image")||"",e=t||window.getComputedStyle&&getComputedStyle(a).backgroundImage||"";n=u(t)||u(e)}if(!n)return;if(i.MEDIEVAL_NO_REPLACE&&i.MEDIEVAL_NO_REPLACE[n])return;const l=function(t){if(!t)return null;const e=i.MEDIEVAL_MAP_OVERRIDES||{};return e[t]?e[t]:-1!==t.indexOf("/2/map/1b/")?t.replace("/2/map/1b/","/2/map/5/"):-1!==t.indexOf("/2/map/1/")?t.replace("/2/map/1/","/2/map/5/"):null}(n);if(!l)return;a.setAttribute&&a.setAttribute("data-kr-medieval-pending","true"),a.hasAttribute&&a.hasAttribute(e)||a.setAttribute(e,n);const d=a.style&&a.style.getPropertyValue("filter")||"";var p;a.hasAttribute&&a.hasAttribute(o)||a.setAttribute(o,d),(p=l,Object.hasOwn(r,p)?Promise.resolve(!!r[p]):new Promise(t=>{try{const e=new Image;e.onload=()=>{r[p]=!0,t(!0)},e.onerror=()=>{r[p]=!1,t(!1)},e.src=p}catch(e){r[p]=!1,t(!1)}})).then(r=>{if(r){if("IMG"===a.tagName)try{a.src=l}catch(t){a.setAttribute("src",l)}else a.style&&a.style.setProperty&&a.style.setProperty("background-image",'url("'+l+'")',"important");-1!==n.indexOf("/2/map/1b/")&&a.style&&a.style.setProperty&&a.style.setProperty("filter","sepia("+i.MEDIEVAL_SEPIA+")","important"),a.setAttribute&&a.setAttribute(t,"true")}else{const t=a.getAttribute(e);if("IMG"===a.tagName){if(t)try{a.src=t}catch(e){a.setAttribute("src",t)}}else t?a.style&&a.style.setProperty&&a.style.setProperty("background-image",'url("'+t+'")',"important"):a.style&&a.style.removeProperty&&a.style.removeProperty("background-image");const r=a.getAttribute(o);r?a.style&&a.style.setProperty&&a.style.setProperty("filter",r,"important"):a.style&&a.style.removeProperty&&a.style.removeProperty("filter")}a.removeAttribute&&a.removeAttribute("data-kr-medieval-pending")}).catch(t=>{a.removeAttribute&&a.removeAttribute("data-kr-medieval-pending")})}function n(){document.querySelectorAll("["+t+'="true"]').forEach(r=>{const a=r.getAttribute(e);if("IMG"===r.tagName)if(a)try{r.src=a}catch(t){r.setAttribute("src",a)}else r.removeAttribute&&r.removeAttribute("src");else a?r.style&&r.style.setProperty&&r.style.setProperty("background-image",'url("'+a+'")',"important"):r.style&&r.style.removeProperty&&r.style.removeProperty("background-image");const n=r.getAttribute(o);n?r.style&&r.style.setProperty&&r.style.setProperty("filter",n,"important"):r.style&&r.style.removeProperty&&r.style.removeProperty("filter"),r.removeAttribute&&r.removeAttribute(t),r.removeAttribute&&r.removeAttribute(e),r.removeAttribute&&r.removeAttribute(o)})}if("true"===p(i.MEDIEVAL_MAP_KEY)){if(document.documentElement.classList.add("kr-medieval-map-enabled"),document.querySelectorAll('div[style*="/2/map/1/"], div[style*="/2/map/1b/"], img[src*="/2/map/1/"], img[src*="/2/map/1b/"]').forEach(a),!g._observer){const l=new MutationObserver(t=>{t.forEach(t=>{"attributes"!==t.type||"style"!==t.attributeName&&"src"!==t.attributeName||!t.target||1!==t.target.nodeType?"childList"===t.type&&t.addedNodes.forEach(t=>{1===t.nodeType&&(t.matches&&(t.matches('div[style*="/2/map/1/"]')||t.matches('div[style*="/2/map/1b/"]')||t.matches('img[src*="/2/map/1/"]')||t.matches('img[src*="/2/map/1b/"]'))&&a(t),t.querySelectorAll&&t.querySelectorAll('div[style*="/2/map/1/"], div[style*="/2/map/1b/"], img[src*="/2/map/1/"], img[src*="/2/map/1b/"]').forEach(a))}):a(t.target)})});l.observe(document.body||document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","src"]}),g._observer=l}}else document.documentElement.classList.remove("kr-medieval-map-enabled"),n(),g._observer&&(g._observer.disconnect(),g._observer=null);return!0}catch(d){return!1}}function f(){const t=location?.pathname||"";return 0===t.indexOf("/jouer")&&"/jouer/communaute"!==t&&"/jouer/communaute/membres"!==t}async function h(t){if(!c())return!1;e.start("css:inject");try{let o=document.getElementById(i.STYLE_ID);o?o.textContent=t:(o=document.createElement("style"),o.id=i.STYLE_ID,o.textContent=t,document.head.appendChild(o)),e.end("css:inject"),e.start("css:applyVariant"),document.documentElement.classList.add("kr-theme-enabled");const r=s();document.documentElement.classList.toggle("kr-theme-high-contrast","high-contrast"===r),i.THEME_VARIANTS.forEach(t=>document.documentElement.classList.remove("kr-theme-variant-"+t)),r&&"disable"!==r&&document.documentElement.classList.add("kr-theme-variant-"+r);const a=0===location?.pathname?.indexOf("/communaute/membres");return document.documentElement.classList.toggle("kr-page-members",a),e.end("css:applyVariant"),!0}catch(t){return e.end("css:inject"),!1}}async function x(){c()&&await h(i.BUNDLED_CSS)}function y(t,e=!1){try{if(!t||"disable"===t)return m(i.ENABLE_KEY,"false"),void(e||location.reload());const o=!c();if(m(i.ENABLE_KEY,"true"),m(i.VARIANT_KEY,t),o&&!e)return void location.reload();i.THEME_VARIANTS.forEach(t=>document.documentElement.classList.remove("kr-theme-variant-"+t)),document.documentElement.classList.add("kr-theme-variant-"+t),document.documentElement.classList.add("kr-theme-enabled"),l(()=>h(i.BUNDLED_CSS)),l(()=>q())}catch(t){}}function k(){"true"===localStorage.getItem("kr-hide-footer-quote")?document.documentElement.classList.add("kr-hide-footer-quote"):document.documentElement.classList.remove("kr-hide-footer-quote")}function v(){document.querySelectorAll('[data-toggle="tooltip"]').forEach(t=>{const e=document.body.classList.contains("mobile-mode"),o=t.closest(".col-leftest"),r=t.closest(".panel-body.grid-transformed");(e||o||r)&&(t.removeAttribute("data-toggle"),t.removeAttribute("data-placement"),t.removeAttribute("title"),t.removeAttribute("data-original-title"))}),window.$&&window.$.fn&&window.$.fn.tooltip&&(window.$.fn.tooltip=function(){return this})}function w(){v(),document.body&&new MutationObserver(t=>{let e=!1;for(const o of t)if(o.addedNodes.length>0){e=!0;break}e&&v()}).observe(document.body,{childList:!0,subtree:!0})}function E(){window.location.pathname.startsWith("/forum/")&&document.querySelectorAll('img[src*="img7.kraland.org/2/rank/"]').forEach(t=>{let e=t.getAttribute("data-original-title")||t.getAttribute("title");if(!e)return;let o=t.closest("div");if(!o||!o.parentElement)return;let r=o.closest(".cartouche")||o.closest('div[class="cartouche"]');r||(r=o.parentElement),r&&r.querySelector('strong a[href*="charlie-2-82045"]')&&"Empereur"===e&&(e="Emperatrice"),"Gouverneure Mystisie"===e?e="Sultane Eternelle de Mystisie":"Gouverneur Mystisie"===e&&(e="Sultan Eternel de Mystisie");const a=o.parentElement.querySelectorAll("div");let n=!1;for(let t of a)if(t.textContent.trim()===e&&t!==o){n=!0;break}if(n)return;const i=o.nextElementSibling;if(i&&i.hasAttribute("data-kr-rank-title"))return;const l=document.createElement("div");l.setAttribute("data-kr-rank-title","true"),l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.gap="4px",l.style.marginTop="4px";const d=o.querySelector('img[src*="/rank/"]');d&&l.appendChild(d.cloneNode(!0));const p=document.createElement("strong");p.textContent=e,l.appendChild(p),o.parentElement&&o.parentElement.replaceChild(l,o)})}function C(){if(!f())return;const t=document.querySelector(".dashboard");if(!t)return;const e=t.querySelectorAll(":scope > .panel");if(!e.length)return;const o=document.createElement("div");o.className="dashboard-flex";const r=[];let a=!1;e.forEach(t=>{const e=t.querySelector(".panel-body");if(!e)return;if(!e.querySelector("table"))return;const o=t.querySelector(".panel-heading .panel-title"),n=o?o.textContent.trim():"";if(!n.toLowerCase().includes("groupe"))return;const i=function(t){const e={title:"",groupButtons:[],members:[]},o=t.querySelector(".panel-heading");if(o){const t=o.querySelector(".panel-title");t&&(e.title=t.textContent.trim(),t.querySelectorAll("a.btn").forEach(t=>{e.groupButtons.push(t.cloneNode(!0))}))}const r=t.querySelector(".panel-body");if(!r)return e;const a=r.querySelector("table");return a?(a.querySelectorAll("tr").forEach(t=>{const o=t.querySelector("td:first-child"),r=t.querySelector("td:last-child");if(!o||!r)return;const a=o.querySelectorAll("a.list-group-item.ds_game"),n=r.querySelectorAll('div[style*="height:59px"]');a.forEach((t,o)=>{const r=function(t,e){const o={originalLink:t,avatar:null,name:"",status:"",isPNJ:!1,worldImage:null,hpInfo:null,pvLevel:null,profileUrl:"",actionsDiv:null},r=t.querySelector("img.pull-left");r&&(o.avatar=r.src);const a=t.querySelector(".list-group-item-heading"),n=t.querySelector(".list-group-item-text");a&&(o.name=a.textContent.trim()),n&&(o.status=n.textContent.trim()),t.querySelector(".btn-danger.xmini")&&(o.isPNJ=!0);const i=t.querySelector(".mention.pull-right");if(i){const t=i.querySelector('img[src*="world"]');t&&(o.worldImage=t.src);const e=i.querySelector('img[src*="pdv"]');if(e){const t=e.src.match(/pdv(\d)\.png/);t&&(o.pvLevel=parseInt(t[1],10))}const r=i.querySelector('div[style*="background"]');if(r){const t=(r.getAttribute("style")||"").match(/width:\s*(\d+)%/);t&&(o.hpInfo=parseInt(t[1],10))}}return o.profileUrl=t.href,e&&(o.actionsDiv=e.cloneNode(!0)),o}(t,n[o]||null);e.members.push(r)})}),e):e}(t);if(0===i.members.length)return;const l=!a;n.toLowerCase().includes("groupe")&&(a=!0),r.push({isMyGroup:l,title:i.title,groupButtons:i.groupButtons,members:i.members})}),0!==r.length&&(r.forEach((t,e)=>{const r=document.createElement("div");r.className=t.isMyGroup?"dashboard-section dashboard-section-mygroup":"dashboard-section dashboard-section-others";const a=document.createElement("div");if(a.className="dashboard-section-header",t.groupButtons&&t.groupButtons.length>0){const e=document.createElement("div");e.className="dashboard-group-buttons",t.groupButtons.forEach(t=>{e.appendChild(t)}),a.appendChild(e)}const n=document.createElement("span");if(n.className="dashboard-group-title",t.isMyGroup){const e=t.title.replace(/\s*Groupe\s+/i,"");n.textContent=e||"Mon groupe"}else{const e=t.title.replace(/\s*Groupe\s+/i,"");n.textContent=e||`Groupe de ${t.members[0]?.name||"Inconnu"}`}a.appendChild(n),r.appendChild(a);const i=document.createElement("div");i.className=t.isMyGroup?"dashboard-cards-grid dashboard-cards-large":"dashboard-cards-grid",t.members.forEach(e=>{i.appendChild(function(t,e=!1){const o=document.createElement("div");o.className=e?"dashboard-card dashboard-card-large":"dashboard-card";const r=t.originalLink.cloneNode(!1);r.classList.add("dashboard-card-link");const a=document.createElement("div");if(a.className="dashboard-card-header",t.avatar){const e=document.createElement("div");if(e.className="dashboard-card-avatar-wrapper",t.pvLevel){const o=function(t){if(!t)return null;const e={1:{color:"#32CD32",percentage:100},2:{color:"#FFD700",percentage:80},3:{color:"#FF8C00",percentage:60},4:{color:"#DC143C",percentage:40},5:{color:"#8B0000",percentage:20}},o=e[t]||e[1],r=2*Math.PI*37,a=r-r*o.percentage/100,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","dashboard-card-hp-circle"),n.setAttribute("width","82"),n.setAttribute("height","82"),n.setAttribute("viewBox","0 0 82 82");const i=document.createElementNS("http://www.w3.org/2000/svg","circle");i.setAttribute("cx","41"),i.setAttribute("cy","41"),i.setAttribute("r",37),i.setAttribute("fill","none"),i.setAttribute("stroke","rgba(0,0,0,0.1)"),i.setAttribute("stroke-width","3");const l=document.createElementNS("http://www.w3.org/2000/svg","circle");return l.setAttribute("cx","41"),l.setAttribute("cy","41"),l.setAttribute("r",37),l.setAttribute("fill","none"),l.setAttribute("stroke",o.color),l.setAttribute("stroke-width","4"),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-dasharray",r),l.setAttribute("stroke-dashoffset",a),l.setAttribute("transform","rotate(-90 41 41)"),n.appendChild(i),n.appendChild(l),n}(t.pvLevel);o&&e.appendChild(o)}const o=document.createElement("img");o.src=t.avatar,o.className="dashboard-card-avatar",o.alt=t.name,5===t.pvLevel&&(o.style.filter="grayscale(100%)",o.style.opacity="0.7"),e.appendChild(o),a.appendChild(e)}const n=document.createElement("div");if(n.className="dashboard-card-name-container",t.worldImage){const e=document.createElement("img");e.src=t.worldImage,e.className="dashboard-card-world",e.alt="World",n.appendChild(e)}const i=document.createElement("div");i.className="dashboard-card-name",i.textContent=t.name,n.appendChild(i),a.appendChild(n),r.appendChild(a);const l=document.createElement("div");if(l.className="dashboard-card-body",t.status){const e=document.createElement("div");e.className="dashboard-card-status",e.textContent=t.status,l.appendChild(e)}if(r.appendChild(l),o.appendChild(r),null!==t.hpInfo){const e=document.createElement("div");e.className="dashboard-card-hp";const r=document.createElement("div");r.className="dashboard-card-hp-fill",r.style.width=t.hpInfo+"%",t.hpInfo>70?r.style.backgroundColor="#5cb85c":t.hpInfo>30?r.style.backgroundColor="#f0ad4e":r.style.backgroundColor="#d9534f",e.appendChild(r),o.appendChild(e)}if(t.isPNJ){const t=document.createElement("span");t.className="dashboard-card-pnj",t.textContent="PNJ",o.appendChild(t)}if(t.actionsDiv){const e=document.createElement("div");e.className="dashboard-card-actions",t.actionsDiv.querySelectorAll("a").forEach(t=>{e.appendChild(t.cloneNode(!0))}),o.appendChild(e)}return o}(e,t.isMyGroup))}),r.appendChild(i),o.appendChild(r)}),t.innerHTML="",t.appendChild(o))}function S(){const t={Jouer:"jouer/plateau","Règles":"regles/avancees",Monde:"monde/evenements","Communauté":"communaute/membres"};let e=null;const o=document.body.classList.contains("mobile-mode");if(document.querySelectorAll(".navbar-nav .dropdown > a.dropdown-toggle").forEach(r=>{const a=r.textContent.trim().replace(/\s*\n.*$/,"");if(a.startsWith("Forum")&&!a.includes("HRP")&&!a.includes("RP"))return void(e=r.closest("li.dropdown"));const n=Object.keys(t).find(t=>a.includes(t));n&&t[n]&&(r.href=t[n],o?r.setAttribute("data-toggle","dropdown"):(r.removeAttribute("data-toggle"),r.hasAttribute("data-nav-modified")||(r.setAttribute("data-nav-modified","true"),r.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))))}),e&&!document.querySelector("[data-forums-added]")){const t=e.querySelector(".dropdown-menu"),r=document.createElement("li");r.className="dropdown",r.setAttribute("data-forums-added","rp"),r.innerHTML='\n        <a href="forum/rp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Forum RP <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu" role="menu">\n          <li><a href="forum/rp/taverne-10101">Taverne</a></li>\n          <li><a href="forum/rp/marche-10102">Marché</a></li>\n          <li><a href="forum/rp/monde-10103">Monde</a></li>\n          <li class="divider"></li>\n          <li><a href="forum/rp">Autre</a></li>\n        </ul>\n      ';const a=document.createElement("li");if(a.className="dropdown",a.setAttribute("data-forums-added","hrp"),a.innerHTML='\n        <a href="forum/hrp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Forum HRP <span class="caret"></span>\n        </a>\n      ',t){const e=t.cloneNode(!0),o=Array.from(e.querySelectorAll("li > a")).find(t=>t.textContent.includes("Jeu (RP)"));o&&o.parentElement&&o.parentElement.remove(),a.appendChild(e)}if(e.parentElement&&(e.parentElement.insertBefore(r,e),e.parentElement.insertBefore(a,e)),e.remove(),o){const t=r.querySelector("a.dropdown-toggle");t&&t.setAttribute("data-toggle","dropdown");const e=a.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")}else{const t=r.querySelector("a.dropdown-toggle");t&&(t.removeAttribute("data-toggle"),t.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}));const e=a.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))}const n=r.parentElement;if(n&&!document.querySelector('[data-forums-added="forum-communaute"]')){let e=!1;t&&(e=!!Array.from(t.querySelectorAll("li > a")).find(t=>t.textContent.toLowerCase().includes("staff")));const r=document.createElement("li");r.className="dropdown",r.setAttribute("data-forums-added","forum-communaute"),r.innerHTML='\n          <a href="forum/communaute" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n            Forum Communauté <span class="caret"></span>\n          </a>\n          <ul class="dropdown-menu" role="menu">\n            <li><a href="forum/communaute">Voir tous les sujets</a></li>\n          </ul>\n        ';const i=document.createElement("li");i.className="dropdown",i.setAttribute("data-forums-added","forum-debats"),i.innerHTML='\n          <a href="forum/debats" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n            Forum Débats <span class="caret"></span>\n          </a>\n          <ul class="dropdown-menu" role="menu">\n            <li><a href="forum/debats">Voir tous les sujets</a></li>\n          </ul>\n        ';let l=null;if(e&&(l=document.createElement("li"),l.className="dropdown",l.setAttribute("data-forums-added","forum-staff"),l.innerHTML='\n            <a href="forum/staff" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n              Forum Staff <span class="caret"></span>\n            </a>\n            <ul class="dropdown-menu" role="menu">\n              <li><a href="forum/staff">Voir tous les sujets</a></li>\n            </ul>\n          '),n.insertBefore(r,a.nextSibling),n.insertBefore(i,r.nextSibling),l&&n.insertBefore(l,i.nextSibling),o){const t=[r,i];l&&t.push(l),t.forEach(t=>{const e=t.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")})}else{const t=[r,i];l&&t.push(l),t.forEach(t=>{const e=t.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))})}}}const r=Array.from(document.querySelectorAll(".navbar-nav > li.dropdown")).find(t=>t.querySelector("a.dropdown-toggle")?.textContent.includes("Communauté")&&!t.getAttribute("data-forums-added"));if(r&&!document.querySelector("[data-stats-menu-added]")){const t=document.createElement("li");if(t.className="dropdown",t.setAttribute("data-stats-menu-added","true"),t.innerHTML='\n        <a href="monde/citoyens" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">\n          Statistiques <span class="caret"></span>\n        </a>\n        <ul class="dropdown-menu" role="menu">\n          <li><a href="communaute/stats">Communautés</a></li>\n          <li><a href="monde/citoyens">Citoyens</a></li>\n        </ul>\n      ',r.parentElement&&r.parentElement.insertBefore(t,r.nextSibling),o){const e=t.querySelector("a.dropdown-toggle");e&&e.setAttribute("data-toggle","dropdown")}else{const e=t.querySelector("a.dropdown-toggle");e&&(e.removeAttribute("data-toggle"),e.addEventListener("click",function(t){return t.preventDefault(),window.location.href=this.href,!1}))}}}function L(){const t=[{text:"Membres actifs",cls:"kr-icon-members"},{text:"Personnages actifs",cls:"kr-icon-characters"},{text:"Personnes en ligne",cls:"kr-icon-online"},{text:"Présentation",cls:"kr-icon-presentation"},{text:"Médailles",cls:"kr-icon-medals"}];t.forEach(t=>document.querySelectorAll("."+t.cls).forEach(e=>e.classList.remove(t.cls)));const e=new Array(t.length).fill(null);let o=0;const r=document.querySelectorAll("a, p, h3, h4, div, span, li, td");for(const a of r){const r=(a.textContent||"").trim();if(!r)continue;const n=r.length;for(let i=0;i<t.length;i++){if(!r.includes(t[i].text))continue;const l=(a.querySelector("i.fa, i.falarge, .glyphicon, svg")?100:0)+Math.max(0,200-Math.min(n,200));(!e[i]||l>e[i].score)&&(e[i]||o++,e[i]={el:a,score:l})}if(o>=t.length)break}for(let o=0;o<t.length;o++)e[o]?.el&&e[o].el.classList.add(t[o].cls)}function A(){Array.from(document.querySelectorAll("a")).filter(t=>"MC"===(t.textContent||"").trim()).forEach(t=>{t.classList.add("kr-mc-icon");const e=t.getAttribute("data-original-title")||t.getAttribute("title")||(t.classList.contains("open")?"ouvrir le mini-chat":"fermer le mini-chat");e&&t.setAttribute("aria-label",e),t.removeAttribute("aria-hidden")})}function q(){const t=document.querySelector(".navbar-brand");if(!t)return;const e=s(),o=i.LOGO_MAP[e]||1,r=`http://img7.kraland.org/2/world/logo${o}.gif`,a=t.querySelector("img.kr-logo");if(a?.src?.includes(`logo${o}.gif`))return;t.innerHTML="";const n=document.createElement("img");n.className="kr-logo",n.src=r,n.alt="Kraland",n.style.height="28px",n.style.verticalAlign="middle",t.appendChild(n)}function z(){const t={"s1.gif":"♂","s2.gif":"♀","s3.gif":"⚧"};Array.from(document.querySelectorAll("img")).filter(t=>/img7\.kraland\.org\/.+\/(s[123]\.gif)$/.test(t.src)).forEach(e=>{const o=e.src.match(/(s[123]\.gif)$/),r=o?.[1],a=t[r]||"",n=document.createElement("span");if(n.className="kr-symbol kr-symbol-"+(r||"s"),n.setAttribute("aria-hidden","true"),n.textContent=a,e.alt){const t=document.createElement("span");t.className="kr-sr-only",t.textContent=e.alt,n.appendChild(t)}if(e.closest('[id*="sex"]')){const t=document.createElement("strong");t.appendChild(n),e.replaceWith(t)}else e.replaceWith(n)})}function T(){document.querySelectorAll("span.btn-group-xs").forEach(t=>{const e=t.parentElement;if(!e)return;const o=e.querySelector("strong");if(o&&o.parentElement===e&&t.nextElementSibling!==o)return void e.insertBefore(t,o);const r=Array.from(e.childNodes).find(t=>3===t.nodeType&&t.textContent?.trim().length>0);r&&t.nextSibling!==r&&e.insertBefore(t,r)})}function N(){document.querySelectorAll('[id*="ajax-sex"]').forEach(t=>{if(t.querySelector("strong"))return;const e=t.querySelector(".kr-symbol");if(e&&e.parentElement){const t=document.createElement("strong");return e.parentElement.replaceChild(t,e),void t.appendChild(e)}const o=Array.from(t.childNodes).find(t=>3===t.nodeType&&t.textContent?.trim().length>0);if(o&&o.parentElement){const t=o.textContent.trim(),e=document.createElement("strong");e.textContent=t,o.textContent=o.textContent.replace(t,""),o.parentElement.insertBefore(e,o.nextSibling)}})}function M(){const t=document.querySelector("footer, .footer, .contentinfo");if(!t)return;null!==t.nextSibling&&document.body.appendChild(t);const e=['a[href="#top"]',"a.to-top",".back-to-top",".scroll-top","a.well.well-sm"];let o=null;for(const t of e)if(o=document.querySelector(t),o)break;if(o){o.classList.add("kraland-back-to-top"),o.getAttribute("aria-label")||o.setAttribute("aria-label","Remonter en haut");const e=t.querySelector(".container.white");e?e.appendChild(o):o.parentElement!==t&&t.appendChild(o)}document.body.style.marginBottom||(document.body.style.marginBottom="60px")}function _(){const e=document.querySelector("footer, .footer, .contentinfo");if(!e)return;let o=e.querySelector(".kraland-css-version");o||(o=document.createElement("div"),o.className="kraland-css-version",o.style.cssText="text-align: center; padding: 10px; font-size: 12px; color: #666;",(e.querySelector(".container.white")||e).appendChild(o));const r=t;o.innerHTML=`<span>CSS : version courante <strong>${r}</strong>, dernière version <span id="latest-version">chargement...</span></span>`,fetch("https://raw.githubusercontent.com/arnaudroubinet/kraland-css/refs/heads/main/version.json").then(t=>{if(!t.ok)throw new Error("Fetch failed");return t.json()}).then(t=>{const e=document.getElementById("latest-version");e&&(e.innerHTML=`<strong>${t.version}</strong>`,t.version!==r&&(e.innerHTML+=' <span style="color: #d9534f;">⚠️ (mise à jour disponible)</span>'))}).catch(t=>{const e=document.getElementById("latest-version");e&&(e.textContent="erreur")})}function j(){if(window.location.pathname.includes("/kramail"))return;const t=document.getElementById("col-t"),e=document.getElementById("col-left");if(!t||!e)return;t.querySelectorAll('a[href*="kramail"]').forEach(e=>{const o=e.closest("div,section,li,article");o&&o!==t&&"col-t"!==o.id?o.remove():e.remove()});const o=[".ds_users",".ds_characters",".ds_online"].map(t=>`a${t}`);let r=[];if(o.forEach(e=>r.push(...t.querySelectorAll(e))),r.length<3&&["Membres actifs","Personnages actifs","Personnes en ligne"].forEach(e=>{const o=Array.from(t.querySelectorAll("a, li, div, p")).find(t=>t.textContent?.includes(e));o&&!r.includes(o)&&r.push(o)}),r=r.filter(t=>t&&!e.contains(t)),!r.length)return;let a=e.querySelector(".kraland-metrics");a||(a=document.createElement("div"),a.className="kraland-metrics list-group",e.appendChild(a)),r.forEach(t=>a.appendChild(t))}function P(){if(!f())return;const t=document.getElementById("col-left"),e=document.getElementById("col-right");if(!t||!e)return;const o=t.parentElement;if(!o||!o.classList.contains("row"))return;let r=document.getElementById("col-leftest");r||(r=document.createElement("div"),r.id="col-leftest",r.className="col-md-1",o.insertBefore(r,t)),e.classList.contains("col-md-9")&&(e.classList.remove("col-md-9"),e.classList.add("col-md-8"))}function I(){if(!f())return;const t=document.querySelector(".btn-group-xs.center"),e=document.getElementById("col-leftest");if(!t||!e||e.contains(t))return;let o=document.getElementById("col-leftest-stats");o||(o=document.createElement("div"),o.id="col-leftest-stats",o.className="panel panel-body",e.appendChild(o)),o.contains(t)||o.appendChild(t)}function B(){const t=document.getElementById("col-leftest-stats"),e=document.getElementById("skills-panel");if(t&&!t.classList.contains("grid-transformed")){const e=t.querySelector(".btn-group-xs");if(e){const o=Array.from(e.querySelectorAll("a.btn"));if(o.length>0){t.innerHTML="";const e=document.createElement("div");e.className="row",o.forEach(t=>{const o=document.createElement("div");o.className="col-md-6",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.marginBottom="8px",o.appendChild(t),e.appendChild(o)}),t.appendChild(e),t.classList.add("grid-transformed")}}}if(e&&!e.classList.contains("grid-transformed")){const t=Array.from(e.querySelectorAll("a.list-group-item"));if(t.length>0){e.innerHTML="";const o=document.createElement("div");o.className="row",t.forEach(t=>{const e=document.createElement("div");e.className="col-md-6",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.marginBottom="8px",e.appendChild(t),o.appendChild(e)}),e.appendChild(o),e.classList.add("grid-transformed")}}}function D(){const t=document.getElementById("col-left"),e=document.getElementById("col-leftest");if(!t||!e)return;const o=t.querySelector(".panel.panel-default");if(!o)return;const r=o.querySelector(".panel-body");r&&!r.id&&(r.id="skills-panel",e.appendChild(r),o.remove())}function H(){const t=document.getElementById("col-left");if(!t)return;const e=t.querySelector(".panel.panel-body");e&&!e.id&&(e.id="player-main-panel");const o=t.querySelector(".list-group");!o||o.id||o.querySelector("form")||(o.id="player-header-section");const r=t.querySelector("div.t.row");r&&!r.id&&(r.id="player-vitals-section");const a=Array.from(t.querySelectorAll("div.t"));if(a.length>0){const t=a[a.length-1];!t.id&&t.querySelector("a.btn-primary")&&(t.id="player-actions-section")}}function O(){const t=document.getElementById("skills-panel");t&&!t.dataset.iconsTransformed&&(t.querySelectorAll(".list-group-item").forEach(t=>{const e=t.querySelector(".list-group-item-heading"),o=e?.querySelector(".mini")?.textContent||"",r=t.querySelector(".mention")?.textContent||"0",a=i.SKILL_ICONS[o];if(!a)return;const n=`http://img7.kraland.org/2/mat/94/${a}.gif`,l=t.className;t.className=l+" btn btn-default mini",t.innerHTML="";const d=function(t,e,o){const r=document.createElement("div");Object.assign(r.style,{position:"relative",display:"inline-block",width:"32px",height:"32px"});const a=document.createElement("img");return a.src=t,a.alt=e,a.title=e,Object.assign(a.style,{width:"32px",height:"32px",display:"block"}),r.appendChild(a),r.appendChild(function(t){const e=document.createElement("span");return e.className="badge",e.textContent=t,Object.assign(e.style,{position:"absolute",top:"25px",right:"-8px",backgroundColor:"#d9534f",color:"#fff",borderRadius:"50%",width:"19px",height:"19px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #fff"}),e}(o)),r}(n,o,r);Object.assign(t.style,{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",width:"40px",height:"40px",minWidth:"40px",minHeight:"40px"}),t.appendChild(d)}),t.dataset.iconsTransformed="1")}function R(){const t=document.getElementById("col-leftest-stats");t&&!t.dataset.badgesTransformed&&(t.querySelectorAll(".col-md-6 > a.btn").forEach(t=>{const e=t.textContent.trim(),o=e.match(/^([A-Z]+)/),r=o?o[1]:e,a=e.match(/(\d+)$/),n=a?a[1]:"0";for(;t.firstChild;)t.removeChild(t.firstChild);const l=t.className;t.className=l+" list-group-item ds_game",Object.assign(t.style,{padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",minWidth:"40px",minHeight:"40px"}),t.title=r;const d=b(),p=document.createElement("div");if(Object.assign(p.style,{position:"relative",display:"inline-block",width:"32px",height:"32px"}),"text"===d){const t=document.createElement("span");t.textContent=r.substring(0,3).toUpperCase(),Object.assign(t.style,{fontWeight:"bold",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px"}),p.appendChild(t)}else{const t=i.STAT_ICONS[r];if(t){const e=`http://img7.kraland.org/2/mat/94/${t}.gif`,o=document.createElement("img");o.src=e,o.alt=r,o.title=r,Object.assign(o.style,{display:"block",width:"32px",height:"32px"}),p.appendChild(o)}else{const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","32"),t.setAttribute("height","32"),t.setAttribute("viewBox","0 0 32 32"),t.style.display="block";const e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("width","32"),e.setAttribute("height","32"),e.setAttribute("fill","#f0f0f0"),e.setAttribute("stroke","#ccc"),t.appendChild(e);const o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x","16"),o.setAttribute("y","20"),o.setAttribute("text-anchor","middle"),o.setAttribute("font-size","14"),o.setAttribute("font-weight","bold"),o.setAttribute("fill","#333"),o.textContent=r.substring(0,2).toUpperCase(),t.appendChild(o),p.appendChild(t)}}p.appendChild(function(t){const e=document.createElement("span");return e.className="badge",e.textContent=t,Object.assign(e.style,{position:"absolute",top:"25px",right:"-8px",backgroundColor:"#007bff",color:"#fff",borderRadius:"50%",width:"19px",height:"19px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #fff"}),e}(n)),t.appendChild(p)}),t.dataset.badgesTransformed="1")}function F(){document.querySelectorAll(['[id^="ajax-"] form#msg','[id^="ajax-"] textarea',".col-sm-10 form#msg",".col-sm-10 textarea#message",'form[name="post_msg"]',"textarea#message"].join(",")).forEach(t=>{const e="form"===t.tagName?.toLowerCase()?t:t.closest("form")||t.parentElement;e&&!e.classList.contains("editeur-text")&&e.classList.add("editeur-text")})}function V(){const t=0===location?.pathname?.indexOf("/communaute/membres");document.documentElement.classList.toggle("kr-page-members",t)}function Y(){const t=document.getElementById("player-main-panel");t&&Array.from(t.children).filter(t=>"div"===t.tagName?.toLowerCase()).filter(t=>!t.classList.contains("kr-quick-access-buttons")).forEach(t=>{t.classList.contains("row")||t.classList.add("row")})}function K(){const t=document.getElementById("player-main-panel");if(!t)return;if(t.querySelector(".kr-quick-access-buttons"))return;const e=document.createElement("div");e.className="kr-quick-access-buttons",e.style.marginTop="10px";const o=document.createElement("div");o.className="row",[{label:"Agir",url:"/jouer/plateau",icon:"fa-map"},{label:"Matériel",url:"/jouer/materiel",icon:"fa-box"},{label:"Personnage",url:"/jouer/perso",icon:"fa-user"},{label:"Bâtiments",url:"/jouer/bat",icon:"fa-building"},{label:"Employés",url:"/jouer/pnj",icon:"fa-users"}].forEach(t=>{const e=document.createElement("div");e.className="col-xs-6 col-sm-6";const r=document.createElement("a");r.href=t.url,r.className="btn btn-default btn-block mini";const a=document.createElement("i");a.className=`fa ${t.icon}`,r.appendChild(a),r.appendChild(document.createTextNode(" "+t.label)),e.appendChild(r),o.appendChild(e)}),e.appendChild(o),t.appendChild(e)}function W(){if(document.getElementById("kr-toggle-css-btn"))return;const t=Array.from(document.querySelectorAll("a")).find(t=>t.getAttribute("onclick")?.includes("openMap"));if(!t)return;const e=t.closest("li");if(!e?.parentElement)return;const o=document.createElement("li"),r=document.createElement("a");r.href="",r.id="kr-toggle-css-btn",r.innerHTML='<i class="fa fa-palette"></i>',r.title=c()?"Désactiver la surcharge CSS":"Activer la surcharge CSS",r.addEventListener("click",t=>(t.preventDefault(),c()?y("disable"):y(s()),!1)),o.appendChild(r),e.parentElement&&e.parentElement.insertBefore(o,e)}function G(){if(location?.href?.includes("/profil/interface")&&!t()){let e=0;const o=setInterval(()=>{e++,(t()||e>25)&&clearInterval(o)},200)}function t(){const t=Array.from(document.querySelectorAll("h4, h3, h2")).find(t=>t.textContent?.trim().toLowerCase().includes("thème de base"));if(!t)return!1;if(document.getElementById("kr-tamper-theme"))return!0;const e=[{value:"disable",flag:"f0",label:"Désactiver la surcharge CSS"},{value:"kraland",flag:"f1",label:"République de Kraland"},{value:"empire-brun",flag:"f2",label:"Empire Brun"},{value:"empire-brun-dark",flag:"f2",label:"Empire Brun (Dark Mode)"},{value:"paladium",flag:"f3",label:"Paladium Corporation"},{value:"paladium-dark",flag:"f3",label:"Paladium Corporation (Dark Mode)"},{value:"theocratie-seelienne",flag:"f4",label:"Théocratie Seelienne"},{value:"theocratie-seelienne-dark",flag:"f4",label:"Théocratie Seelienne (Dark Mode)"},{value:"paradigme-vert",flag:"f5",label:"Paradigme Vert"},{value:"paradigme-vert-dark",flag:"f5",label:"Paradigme Vert (Dark Mode)"},{value:"khanat-elmerien",flag:"f6",label:"Khanat Elmérien"},{value:"khanat-elmerien-dark",flag:"f6",label:"Khanat Elmérien (Dark Mode)"},{value:"confederation-libre",flag:"f7",label:"Confédération Libre"},{value:"confederation-libre-dark",flag:"f7",label:"Confédération Libre (Dark Mode)"},{value:"royaume-ruthvenie",flag:"f8",label:"Royaume de Ruthvénie"},{value:"royaume-ruthvenie-dark",flag:"f8",label:"Royaume de Ruthvénie (Dark Mode)"}].map(t=>`\n        <div class="radio">\n          <span class="lefticon"><img src="http://img7.kraland.org/2/world/${t.flag}.png" width="15" height="10"></span>\n          <label><input type="radio" name="kr-theme" value="${t.value}"> ${t.label}</label>\n        </div>\n      `).join(""),o=document.createElement("div");o.id="kr-tamper-theme",o.className="well kr-tamper-theme",o.innerHTML=`\n        <h4>Thème Tampermonkey (Activez le thème de base officiel pour éviter les conflits)</h4>\n        <form id="kr-tamper-theme-form" class="form-horizontal">\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Choix du thème</label>\n            <div class="col-sm-9">${e}</div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Affichage des caractéristiques</label>\n            <div class="col-sm-9">\n        <div class="radio">\n          <label><input type="radio" name="kr-stats-display" value="icon"> Icônes</label>\n        </div>\n        <div class="radio">\n          <label><input type="radio" name="kr-stats-display" value="text"> Texte</label>\n        </div>\n      </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Options du footer</label>\n            <div class="col-sm-9">\n        <div class="checkbox">\n          <label><input type="checkbox" name="kr-hide-quote" id="kr-hide-quote"> Masquer la citation du footer</label>\n        </div>\n      </div>\n          </div>\n          <div class="form-group">\n            <label class="col-sm-3 control-label">Carte</label>\n            <div class="col-sm-9">\n              <div class="checkbox">\n                <label><input type="checkbox" name="kr-medieval-map" id="kr-medieval-map-checkbox"> Carte médiévale — remplace les tuiles de la carte</label>\n                <p class="help-block" style="margin-top:6px">Merci <a href="http://www.kraland.org/communaute/membres/sylke-1-3335" target="_blank" rel="noopener noreferrer">Sylke</a></p>\n              </div>\n            </div>\n          </div>\n        </form>\n      `,t.parentElement&&t.parentElement.insertBefore(o,t);const r=o.querySelector("#kr-tamper-theme-form");return r.addEventListener("change",t=>{if("kr-theme"===t.target.name){const t=r.querySelector('input[name="kr-theme"]:checked');if(!t)return;const e=t.value,a=document.createElement("div");a.className="alert alert-success",a.textContent="disable"===e?"Désactivation du thème...":"Application du thème: "+e,o.appendChild(a),setTimeout(()=>y(e),300)}if("kr-stats-display"===t.target.name){const t=r.querySelector('input[name="kr-stats-display"]:checked');if(!t)return;const e=t.value;m(i.STATS_DISPLAY_KEY,e);const a=document.createElement("div");a.className="alert alert-success",a.textContent="icon"===e?"Affichage en icônes activé. Rechargez la page pour voir les changements.":"Affichage en texte activé. Rechargez la page pour voir les changements.",o.appendChild(a),setTimeout(()=>{a.remove()},5e3)}if("kr-hide-quote"===t.target.name){const e=t.target.checked;localStorage.setItem("kr-hide-footer-quote",e.toString()),e?document.documentElement.classList.add("kr-hide-footer-quote"):document.documentElement.classList.remove("kr-hide-footer-quote");const r=document.createElement("div");r.className="alert alert-success",r.textContent=e?"Citation du footer masquée.":"Citation du footer affichée.",o.appendChild(r),setTimeout(()=>{r.remove()},3e3)}if("kr-medieval-map"===t.target.name){const e=t.target.checked;m(i.MEDIEVAL_MAP_KEY,e.toString());const r=document.createElement("div");r.className="alert alert-success",r.textContent=e?"Carte médiévale activée. Application...":"Carte médiévale désactivée.",o.appendChild(r),g(),setTimeout(()=>r.remove(),3e3)}}),function(){if(c()){const t=s(),e=r.querySelector(`input[value="${t}"]`);e&&(e.checked=!0)}else{const t=r.querySelector('input[value="disable"]');t&&(t.checked=!0)}const t=b(),e=r.querySelector(`input[name="kr-stats-display"][value="${t}"]`);e&&(e.checked=!0);const o="true"===localStorage.getItem("kr-hide-footer-quote"),a=r.querySelector("#kr-hide-quote");a&&(a.checked=o);const n="true"===p(i.MEDIEVAL_MAP_KEY),l=r.querySelector("#kr-medieval-map-checkbox");l&&(l.checked=n)}(),!0}}function J(){const t=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&t.classList?.contains("bootbox")&&setTimeout(()=>{!function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;(function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;if(t.dataset.structureTransformed)return;const e=t.querySelector(".bootbox-body, .modal-body");if(!e)return;const o=e.querySelector(".row"),r=e.querySelector("h3");o&&r&&(o.classList.add("kraland-modal-header"),r.classList.add("kraland-character-title"));const a=e.querySelector(".panel.with-nav-tabs");if(a){const t=a.querySelector(".panel-heading");t&&t.classList.add("kraland-actions-zone");const e=a.querySelector(".panel-body.panel-order");e&&e.classList.add("kraland-form-zone");const o=a.querySelector(".panel-footer");o&&o.classList.add("kraland-action-footer")}const n=t.querySelector(".modal-footer");n&&n.classList.add("kraland-modal-footer");const i=e.querySelector(".panel-info");i&&(i.querySelectorAll(".row").forEach(t=>{t.style.marginLeft="",t.style.marginRight=""}),i.querySelectorAll('[class*="col-"]').forEach(t=>{t.style.paddingLeft="",t.style.paddingRight=""})),t.dataset.structureTransformed="true"})(t),function(t,e){if(!t)return;const o=new MutationObserver(t=>{t.forEach(t=>{if("attributes"===t.type&&"class"===t.attributeName){const e=t.target;if(e.classList.contains("dropdown")&&e.classList.contains("open")){const t=e.querySelector(".dropdown-menu");t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("bottom","100%","important"),t.style.setProperty("top","auto","important"),t.style.setProperty("left","0","important"),t.style.setProperty("margin-bottom","4px","important"),t.style.setProperty("z-index","10000","important"))}}})}),r=t.querySelector(".btn-toolbar");r&&(r.querySelectorAll(".dropdown").forEach(t=>{o.observe(t,{attributes:!0,attributeFilter:["class"]})}),e&&e.push(o))}(t,e),X(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".alert");if(!e)return;const o=document.createElement("button");o.type="button",o.className="kr-alert-toggle",o.innerHTML='<i class="fas fa-question-circle"></i> Aide',o.setAttribute("aria-expanded","false"),o.setAttribute("aria-label","Afficher/masquer l'aide");const r=document.createElement("div");for(r.className="kr-alert-content",r.style.display="none";e.firstChild;)r.appendChild(e.firstChild);e.appendChild(o),e.appendChild(r),e.classList.add("kr-alert-collapsible"),o.addEventListener("click",function(){const t="none"!==r.style.display;r.style.display=t?"none":"block",o.setAttribute("aria-expanded",!t),o.innerHTML=t?'<i class="fas fa-question-circle"></i> Aide':'<i class="fas fa-times-circle"></i> Masquer l\'aide'})}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;t.querySelectorAll(".nav.nav-tabs li a").forEach(e=>{e.classList.add("kr-touch-feedback"),e.addEventListener("click",function(){t.querySelectorAll(".nav.nav-tabs li").forEach(t=>t.classList.remove("active")),this.parentElement.classList.add("active")})})}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector("textarea#message");e&&(e.rows=8,e.addEventListener("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}))}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-action-footer p");if(!e)return;const o=e.textContent,r=o.match(/Coût:\s*([^|]+)/),a=o.match(/Durée:\s*([^|]+)/),n=o.match(/Potentiel:\s*(.+)$/);if(!r&&!a&&!n)return;const i=`\n      <div class="kr-action-badges">\n        ${r?`<span class="kr-badge kr-badge-cost"><i class="fas fa-coins"></i> ${r[1].trim()}</span>`:""}\n        ${a?`<span class="kr-badge kr-badge-duration"><i class="far fa-clock"></i> ${a[1].trim()}</span>`:""}\n        ${n?`<span class="kr-badge kr-badge-potential"><i class="fas fa-dice-d20"></i> ${n[1].trim()}</span>`:""}\n      </div>\n    `;e.innerHTML=i}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-modal-footer");if(!e)return;const o=e.querySelector(".btn-primary"),r=e.querySelector(".btn-default");o&&o.classList.add("kr-btn-primary-enhanced"),r&&r.classList.add("kr-btn-secondary-subtle")}(t),function(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".kraland-modal-header select");if(!e)return;const o=Array.from(e.options);if(0===o.length)return;const r=[],a=[];if(o.forEach(t=>{const e=t.textContent;e.includes("PNJ")||e.includes("[")||e.match(/\d+ /)||e.includes("Garde")||e.includes("Esclave")?a.push(t):r.push(t)}),0!==r.length&&0!==a.length){if(e.innerHTML="",r.length>0){const t=document.createElement("optgroup");t.label="Personnages Joueurs",r.forEach(e=>t.appendChild(e)),e.appendChild(t)}if(a.length>0){const t=document.createElement("optgroup");t.label="Personnages Non-Joueurs",a.forEach(e=>t.appendChild(e)),e.appendChild(t)}}}(t),U(t);const e=[],o=t.querySelector(".bootbox-body, .modal-body");if(o){const r=new MutationObserver(()=>{U(t),X(t)});r.observe(o,{childList:!0,subtree:!0}),e.push(r)}!function(t){if(!t)return;t.querySelectorAll(".panel-info, .panel-primary, .panel-default").forEach(t=>{t.querySelectorAll(".panel-heading .row, .panel-body .row, .panel-actions .row, .panel-footer .row").forEach(t=>{const e=t.querySelectorAll('[class*="col-"]');if(e.length>0){const o=[];e.forEach(t=>{const e=t.textContent.trim(),r=t.innerHTML.trim();t.children.length>0?o.push(r):e&&o.push(e)});const r=document.createElement("div");r.className="col-xs-12 merged-columns",r.innerHTML=o.join(" "),e.forEach(t=>t.remove()),t.appendChild(r)}})})}(t);const r=t.querySelector('select[onchange*="perso"]');r&&function(t,e){const o=Array.from(e.options);if(o.length<=1)return;const r=e.selectedIndex,a=document.createElement("div");a.className="kr-char-selector";const n=document.createElement("button");n.type="button",n.className="kr-char-nav-btn",n.innerHTML="‹",n.disabled=0===r,n.setAttribute("aria-label","Personnage précédent");const i=document.createElement("div");i.className="kr-selector-current";const l=document.createElement("img");l.src=t.querySelector(".modal-header img")?.src||"",l.alt="Avatar";const d=document.createElement("span");d.className="kr-selector-current-name",d.textContent=o[r].text;const p=document.createElement("span");p.className="kr-selector-current-count",p.textContent=`${r+1}/${o.length}`,i.appendChild(l),i.appendChild(d),i.appendChild(p);const m=document.createElement("button");m.type="button",m.className="kr-char-nav-btn",m.innerHTML="›",m.disabled=r===o.length-1,m.setAttribute("aria-label","Personnage suivant"),a.appendChild(n),a.appendChild(i),a.appendChild(m),e.parentNode.insertBefore(a,e.nextSibling),n.addEventListener("click",()=>{e.selectedIndex>0&&(e.selectedIndex--,e.dispatchEvent(new Event("change")))}),m.addEventListener("click",()=>{e.selectedIndex<o.length-1&&(e.selectedIndex++,e.dispatchEvent(new Event("change")))})}(t,r),function(t){const e=t.querySelector(".modal-header");if(!e)return;const o=e.querySelector("div");if(!o)return;const r=Array.from(o.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim());if(0===r.length)return;const a=document.createElement("div");if(a.className="kr-char-description collapsed",r.slice(1).forEach(t=>{a.appendChild(t.cloneNode(!0)),t.remove()}),a.textContent.trim()){o.appendChild(a);const t=document.createElement("button");t.type="button",t.className="kr-char-expand-btn",t.innerHTML="▼",t.setAttribute("aria-label","Afficher/masquer description"),t.setAttribute("aria-expanded","false"),e.appendChild(t),t.addEventListener("click",()=>{a.classList.contains("collapsed")?(a.classList.remove("collapsed"),a.classList.add("expanded"),t.classList.add("expanded"),t.setAttribute("aria-expanded","true")):(a.classList.remove("expanded"),a.classList.add("collapsed"),t.classList.remove("expanded"),t.setAttribute("aria-expanded","false"))})}}(t),function(t,e){const o=t.querySelector(".nav-tabs");if(!o)return;const r=Array.from(o.querySelectorAll("li"));if(0===r.length)return;const a=document.createElement("div");a.className="kr-tabs-indicator",r.forEach((t,e)=>{const o=document.createElement("span");o.className="kr-tab-dot",t.classList.contains("active")&&o.classList.add("active"),a.appendChild(o)}),o.parentNode.insertBefore(a,o.nextSibling);const n=new MutationObserver(()=>{const t=r.findIndex(t=>t.classList.contains("active"));a.querySelectorAll(".kr-tab-dot").forEach((e,o)=>{e.classList.toggle("active",o===t)})});r.forEach(t=>{n.observe(t,{attributes:!0,attributeFilter:["class"]})}),e&&e.push(n);let i=0,l=0;o.addEventListener("touchstart",t=>{i=t.changedTouches[0].screenX},{passive:!0}),o.addEventListener("touchend",t=>{l=t.changedTouches[0].screenX,function(){const t=i-l;if(Math.abs(t)<50)return;const e=r.findIndex(t=>t.classList.contains("active"));t>0&&e<r.length-1?r[e+1].querySelector("a")?.click():t<0&&e>0&&r[e-1].querySelector("a")?.click()}()},{passive:!0});const d=()=>{const t=o.closest(".bootbox.modal"),e=t?.querySelectorAll(".nav-tabs")||[o];let r=null;for(const t of e)if(r=t.querySelector("li.active"),r){r.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});break}};setTimeout(d,100);const p=o.closest(".bootbox.modal");(p?.querySelectorAll(".nav-tabs")||[o]).forEach(t=>{Array.from(t.querySelectorAll("li")).forEach(t=>{t.querySelector("a")?.addEventListener("click",()=>{setTimeout(d,100)})})})}(t,e),function(t){t.querySelectorAll("textarea").forEach(t=>{const e=t.getAttribute("maxlength");if(!e)return;const o=document.createElement("div");o.className="kr-char-counter";const r=()=>{const r=e-t.value.length;o.textContent=`${r} caractères restants`,o.classList.remove("warning","error"),r<=0?o.classList.add("error"):r<=20&&o.classList.add("warning")};t.parentNode.insertBefore(o,t.nextSibling),t.addEventListener("input",r),r()})}(t),function(t){t.querySelectorAll(".kr-char-nav-btn, .kr-char-expand-btn, .nav-tabs a, .btn, .radio label").forEach(t=>{t.classList.add("kr-touch-feedback"),t.addEventListener("touchstart",()=>{t.classList.add("active"),navigator.vibrate&&navigator.vibrate(10)},{passive:!0}),t.addEventListener("touchend",()=>{setTimeout(()=>{t.classList.remove("active")},600)},{passive:!0}),t.addEventListener("touchcancel",()=>{t.classList.remove("active")},{passive:!0})})}(t),$(t).one("hidden.bs.modal",function(){e.forEach(t=>t.disconnect())})}(t)},150)})})});document.body&&t.observe(document.body,{childList:!0,subtree:!1})}function U(t){if(!t)return;if(!t.classList.contains("bootbox-confirm"))return;const e=t.querySelector(".panel-heading");e&&e.style.setProperty("display","block","important");const o=t.querySelectorAll(".panel-heading ul.nav-tabs");0!==o.length&&(o.forEach((t,e)=>{t.style.setProperty("display","grid","important"),t.style.setProperty("grid-template-columns","repeat(2, 1fr)","important"),t.style.setProperty("gap","12px","important"),t.style.setProperty("padding-left","0","important"),t.style.setProperty("justify-items","start","important"),t.style.setProperty("align-items","stretch","important"),t.style.setProperty("margin-bottom","12px","important"),t.style.setProperty("border-bottom","none","important"),t.style.setProperty("border-top","none","important"),t.style.setProperty("padding-top","0","important");let o="grid-pseudo-fix-"+e,r=document.getElementById(o);r||(r=document.createElement("style"),r.id=o,document.head.appendChild(r)),t.id||(t.id="order-modal-nav-"+e),r.textContent=`\n        #${t.id}::before,\n        #${t.id}::after {\n          display: none !important;\n          content: none !important;\n        }\n      `,t.querySelectorAll("li").forEach(t=>{t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("float","none","important"),t.style.setProperty("display","block","important"),t.style.setProperty("position","static","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("grid-column","auto","important"),t.style.setProperty("grid-row","auto","important"),t.style.setProperty("justify-self","stretch","important"),t.style.setProperty("align-self","stretch","important");const e=t.querySelector("a");e&&(e.style.setProperty("display","block","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("min-height","44px","important"),e.style.setProperty("padding","12px 16px","important"),e.style.setProperty("text-align","center","important"),e.style.setProperty("border-radius","8px","important"),e.style.setProperty("margin","0","important"),e.style.setProperty("box-sizing","border-box","important"))})}),setTimeout(()=>{o.forEach(t=>{t.style.setProperty("display","grid","important")})},100))}function X(t){if(!t)return;if(!document.body.classList.contains("mobile-mode"))return;const e=t.querySelector(".btn-toolbar");e&&(Array.from(e.childNodes).forEach(t=>{t.nodeType===Node.TEXT_NODE&&/^\s*$/.test(t.textContent)&&e.removeChild(t)}),e.style.setProperty("display","grid","important"),e.style.setProperty("grid-template-columns","repeat(6, 1fr)","important"),e.style.setProperty("gap","4px","important"),e.querySelectorAll(".btn-group, .dropdown, span.dropdown").forEach(t=>{t.style.setProperty("display","contents","important")}),e.querySelectorAll(".btn, span.dropdown > a > .btn, .dropdown > a > .btn, span.dropdown button, .dropdown button").forEach(t=>{t.style.setProperty("width","100%","important"),t.style.setProperty("min-width","0","important"),t.style.setProperty("max-width","none","important")}))}function Q(){const t=document.querySelector(".c100");if(!t)return;const e=t.querySelector("span");if(!e)return;const o=e.textContent.trim().match(/^(\d{1,2}):(\d{2})$/);if(!o)return;const r=parseInt(o[1],10),a=parseInt(o[2],10);let n;if(n=r>=24?"#32CD32":r>=18?"#90EE90":r>=12?"#FFD700":r>=6?"#FF8C00":"#8B0000",t.style.setProperty("--clock-color",n),r>=24){t.setAttribute("data-second-lap","true");const e=r-24,o=Math.floor((60*e+a)/1440*100);t.className=t.className.replace(/\bp\d{1,3}\b/g,""),t.className+=" p"+o}else t.removeAttribute("data-second-lap")}function Z(){const t=window.innerWidth<768;t&&(function(){if(document.querySelector(".kr-mobile-overlay"))return;const t=document.createElement("div");t.className="kr-mobile-overlay",t.addEventListener("click",()=>{const e=document.getElementById("skills-panel");e&&e.classList.remove("mobile-open");const o=document.getElementById("flap");o&&o.classList.remove("mobile-open"),t.classList.remove("active")}),document.body.appendChild(t)}(),function(){if(!f())return;const t=document.getElementById("skills-panel");if(!t)return;const e=document.createElement("button");e.className="kr-mobile-skills-toggle btn btn-primary",e.innerHTML='<i class="fa fa-chart-bar"></i>',e.setAttribute("aria-label","Afficher les compétences"),e.onclick=()=>{t.classList.toggle("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.toggle("active")},document.body.appendChild(e);const o=document.createElement("button");o.className="kr-mobile-close",o.innerHTML="×",o.setAttribute("aria-label","Fermer"),o.onclick=()=>{t.classList.remove("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.remove("active")},t.insertBefore(o,t.firstChild)}(),function(){const t=document.getElementById("flap");if(!t)return;const e=document.querySelector('a[href*="#flap"]');if(e&&e.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("mobile-open");const o=document.querySelector(".kr-mobile-overlay");o&&o.classList.toggle("active")}),!t.querySelector(".kr-mobile-close")){const e=document.createElement("button");e.className="kr-mobile-close",e.innerHTML="×",e.setAttribute("aria-label","Fermer le mini-chat"),e.onclick=()=>{t.classList.remove("mobile-open");const e=document.querySelector(".kr-mobile-overlay");e&&e.classList.remove("active")};const o=t.querySelector(".panel-heading")||t.querySelector(".modal-header")||t.firstElementChild;o?(o.style.position="relative",o.appendChild(e)):t.insertBefore(e,t.firstChild)}}(),J(),document.body&&new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&t.classList?.contains("bootbox")&&function(t){const e=new MutationObserver(e=>{e.forEach(e=>{const o=t.querySelector(".panel.with-nav-tabs .panel-heading");if(!o)return;const r=o.querySelector(".nav-tabs > li.active");r&&setTimeout(()=>{const t=r.getBoundingClientRect(),e=o.getBoundingClientRect(),a=r.offsetLeft-e.width/2+t.width/2;o.scrollTo({left:Math.max(0,a),behavior:"smooth"})},100)})});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),$(t).one("hidden.bs.modal",function(){e.disconnect()})}(t)})})}).observe(document.body,{childList:!0,subtree:!1}),r.add(()=>{window.innerWidth<768!==t&&location.reload()},250))}!function(){try{if(!c())return;"loading"===document.readyState&&(document.documentElement.style.opacity="0");const t=document.createElement("style");t.id=i.STYLE_ID,t.textContent=i.BUNDLED_CSS,(document.head||document.documentElement).appendChild(t);const e=s();document.documentElement.classList.add("kr-theme-enabled","kr-theme-variant-"+e),"high-contrast"===e&&document.documentElement.classList.add("kr-theme-high-contrast")}catch(t){}}(),l(function(){if(!c())return;const t=i.STYLE_ID;let e=null;function o(){const e=document.head;if(!e)return;const o=document.getElementById(t);o&&e.lastElementChild!==o&&e.appendChild(o)}function r(){const r=document.head;r&&(e=new MutationObserver(function(e){for(let r=0;r<e.length;r++){const a=e[r].addedNodes;for(let e=0;e<a.length;e++){const r=a[e];if(r.id!==t&&("LINK"===r.nodeName||"STYLE"===r.nodeName))return void o()}}}),e.observe(r,{childList:!0}),o())}if(document.head)r();else{const t=new MutationObserver(function(){document.head&&(t.disconnect(),r())});t.observe(document.documentElement,{childList:!0})}function a(){!function(){const t=document.documentElement;"0"===t.style.opacity&&(o(),requestAnimationFrame(function(){requestAnimationFrame(function(){t.style.transition="opacity 0.15s ease-in",t.style.opacity="1",setTimeout(function(){t.style.transition="",t.style.opacity=""},200)})}))}(),setTimeout(function(){e&&(e.disconnect(),e=null)},2e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a,{once:!0}):a(),setTimeout(function(){"0"===document.documentElement.style.opacity&&(document.documentElement.style.opacity="",document.documentElement.style.transition="")},3e3)}),l(()=>g()),function(){const t="kr-forums-rp",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumRPMenu=function(){const e=document.querySelector('[data-forums-added="rp"] .dropdown-menu');if(!e)return;const o=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}(),r=Array.from(e.children).slice(0,4);if(e.innerHTML="",r.forEach(t=>e.appendChild(t)),o.length>0)o.forEach(t=>{const o=document.createElement("li"),r=document.createElement("a");r.href=t.url,r.textContent=t.name,o.appendChild(r),e.appendChild(o)});else{const t=document.createElement("li"),o=document.createElement("a");o.href="forum/rp",o.textContent="Autre",t.appendChild(o),e.appendChild(t)}},a.register("ForumsRP:Extract",function(){if("/forum/rp"!==window.location.pathname)return;const o=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const r=t.querySelector("td:first-child a");if(!r)return;const a=r.textContent.trim(),n=r.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&o.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(o))}catch(t){}},5)}(),function(){const t="kr-forums-hrp";window.updateForumHRPMenu=function(){const e=document.querySelector('[data-forums-added="hrp"] .dropdown-menu');if(!e)return;const o=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",o.length>0)o.forEach(t=>{const o=document.createElement("li"),r=document.createElement("a");r.href=t.url,r.textContent=t.name,o.appendChild(r),e.appendChild(o)});else{const t=document.createElement("li"),o=document.createElement("a");o.href="forum/hrp",o.textContent="Voir tous les forums",t.appendChild(o),e.appendChild(t)}},a.register("ForumsHRP:Extract",function(){if("/forum/hrp"!==window.location.pathname)return;const e=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const o=t.querySelector("td:first-child a");if(!o)return;const r=o.textContent.trim(),a=o.getAttribute("href");a&&e.push({name:r,url:a})});try{localStorage.setItem(t,JSON.stringify(e))}catch(t){}},5)}(),function(){const t="kr-forums-communaute",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumCommunauteMenu=function(){const e=document.querySelector('[data-forums-added="forum-communaute"] .dropdown-menu');if(!e)return;const o=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",o.length>0)o.forEach(t=>{const o=document.createElement("li"),r=document.createElement("a");r.href=t.url,r.textContent=t.name,o.appendChild(r),e.appendChild(o)});else{const t=document.createElement("li"),o=document.createElement("a");o.href="forum/communaute",o.textContent="Voir tous les forums",t.appendChild(o),e.appendChild(t)}},a.register("ForumsCommunaute:Extract",function(){if("/forum/communaute"!==window.location.pathname)return;const o=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const r=t.querySelector("td:first-child a");if(!r)return;const a=r.textContent.trim(),n=r.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&o.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(o))}catch(t){}},5)}(),function(){const t="kr-forums-debats",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumDebatsMenu=function(){const e=document.querySelector('[data-forums-added="forum-debats"] .dropdown-menu');if(!e)return;const o=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",o.length>0)o.forEach(t=>{const o=document.createElement("li"),r=document.createElement("a");r.href=t.url,r.textContent=t.name,o.appendChild(r),e.appendChild(o)});else{const t=document.createElement("li"),o=document.createElement("a");o.href="forum/debats",o.textContent="Voir tous les forums",t.appendChild(o),e.appendChild(t)}},a.register("ForumsDebats:Extract",function(){if("/forum/debats"!==window.location.pathname)return;const o=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const r=t.querySelector("td:first-child a");if(!r)return;const a=r.textContent.trim(),n=r.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&o.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(o))}catch(t){}},5)}(),function(){const t="kr-forums-staff",e=["taverne","marché","monde","communauté","débats","staff"];window.updateForumStaffMenu=function(){const e=document.querySelector('[data-forums-added="forum-staff"] .dropdown-menu');if(!e)return;const o=function(){try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(t){return[]}}();if(e.innerHTML="",o.length>0)o.forEach(t=>{const o=document.createElement("li"),r=document.createElement("a");r.href=t.url,r.textContent=t.name,o.appendChild(r),e.appendChild(o)});else{const t=document.createElement("li"),o=document.createElement("a");o.href="forum/staff",o.textContent="Voir tous les forums",t.appendChild(o),e.appendChild(t)}},a.register("ForumsStaff:Extract",function(){if("/forum/staff"!==window.location.pathname)return;const o=[];document.querySelectorAll("table.table tbody tr").forEach(t=>{const r=t.querySelector("td:first-child a");if(!r)return;const a=r.textContent.trim(),n=r.getAttribute("href");!e.some(t=>a.toLowerCase().includes(t))&&n&&o.push({name:a,url:n})});try{localStorage.setItem(t,JSON.stringify(o))}catch(t){}},5)}(),function(){function t(){const t=document.querySelector("table.table tbody");if(!t)return;const e=Array.from(t.querySelectorAll("tr"));if(0===e.length)return;const o=document.createElement("div");o.className="forums-cards-container",o.setAttribute("role","list"),e.forEach((t,e)=>{try{const r=function(t,e){const o=t.querySelectorAll("td");if(o.length<3)return null;const r=o[0],a=r.querySelector("p:first-child a");if(!a)return null;const n=a.textContent.trim(),i=a.getAttribute("href"),l=r.querySelector("p:nth-child(2)"),d=l?l.textContent.trim():"",p=[];r.querySelectorAll("div, span").forEach(t=>{t.textContent.includes("Modérateur")&&t.querySelectorAll("a").forEach(t=>{const e=t.textContent.trim();e&&!e.includes("[mod]")&&p.push({name:e.replace(/\[.*?\]/g,"").trim(),url:t.getAttribute("href")})})});const m=o[1]?.textContent.trim().replace("·","").trim()||"0 sujets",c=o[2]?.textContent.trim()||"0 messages";let s="",b="",u="";if(o[3]){const t=o[3].textContent.trim(),e=o[3].querySelector("a");if(e){b=e.textContent.trim();const o=t.match(/(\w+.*?\(\d{2}:\d{2}\))/);u=o?o[1]:""}s=t.replace("→","").trim()}const g=document.createElement("article");g.className="forum-card",g.setAttribute("role","listitem"),g.setAttribute("data-forum-index",e);const f=document.createElement("a");f.href=i,f.className="forum-card-link",f.setAttribute("aria-label",`Accéder au forum ${n}`);let h=`\n        <div class="forum-card-header">\n          <h3 class="forum-title">${n}</h3>\n        </div>\n      `;return d&&(h+=`<p class="forum-description">${d}</p>`),p.length>0&&(h+=`<p class="forum-moderators">Mod: ${p.length>2?`${p[0].name}, ${p[1].name}...`:p.map(t=>t.name).join(", ")}</p>`),h+='<div class="forum-footer">',h+=`\n        <div class="forum-stats">\n          <span class="forum-topics">${m}</span>\n          <span class="forum-separator">·</span>\n          <span class="forum-messages">${c}</span>\n        </div>\n      `,s&&b&&(h+=`\n          <div class="forum-last-activity">\n            <span class="last-user">${b}</span>\n            <span class="last-time"> · ${u}</span>\n          </div>\n        `),h+="</div>",f.innerHTML=h,f.style.setProperty("display","flex","important"),f.style.setProperty("flex-direction","column","important"),f.style.setProperty("align-items","flex-start","important"),f.style.setProperty("justify-content","flex-start","important"),f.style.setProperty("width","100%","important"),g.appendChild(f),g}(t,e);r&&o.appendChild(r)}catch(t){}});const r=t.closest("table");r&&r.parentNode&&(r.parentNode.insertBefore(o,r),r.style.display="none",r.setAttribute("data-mobile-hidden","true"))}window.location.pathname.startsWith("/forum/")&&a.register("ForumCards:MobileTransform",function(){document.body.classList.contains("mobile-mode")&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t())},15)}(),a.register("MiniChat:FAB",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.getElementById("flap");if(!t)return;t.style.visibility="hidden",t.style.position="fixed",t.style.left="-9999px",t.classList.add("mini-chat-overlay");const e=document.createElement("button");e.className="mini-chat-fab",e.innerHTML='<span class="fab-text">MC</span>',e.setAttribute("aria-label","Ouvrir le mini-chat"),e.setAttribute("type","button"),e.addEventListener("click",o=>{o.preventDefault(),"visible"===t.style.visibility?(t.style.visibility="hidden",t.style.left="-9999px",e.classList.remove("active"),document.body.style.overflow=""):(t.style.visibility="visible",t.style.position="",t.style.left="",t.style.display="block",e.classList.add("active"),document.body.style.overflow="hidden")});const o=t.querySelector(".close-btn");o&&o.addEventListener("click",()=>{t.style.visibility="hidden",t.style.left="-9999px",e.classList.remove("active"),document.body.style.overflow=""}),document.body.appendChild(e)},20),a.register("ForumTopics:FullTitles",function(){document.querySelectorAll("p.nomargin").forEach(t=>{const e=t.querySelector("span.invisible"),o=t.querySelector("a");if(e&&o){const t=e.textContent.trim();o.textContent.trim().includes("(...)")&&t&&(o.textContent=t)}})},5),a.register("ForumTopics:MobileStats",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!document.body.classList.contains("page-forum"))return;const t=document.getElementById("topics");function e(){const e=t.querySelectorAll("tbody tr");0!==e.length&&e.forEach(t=>{if(t.hasAttribute("data-stats-added"))return;t.setAttribute("data-stats-added","true");const e=t.querySelector("td:nth-child(1)"),o=t.querySelector("td:nth-child(2)"),r=t.querySelector("td:nth-child(3)");if(!e||!o||!r)return;const a=e.querySelector("ul:first-of-type li a"),n=e.querySelector("p > a");a&&n&&(n.href=a.href,n.setAttribute("data-smart-redirect","first-unread")),n&&(t.style.cursor="pointer",t.addEventListener("click",t=>{"A"===t.target.tagName||t.target.closest("a")||n.click()}));const i=o.textContent.trim(),l=r.textContent.trim(),d=document.createElement("div");d.className="forum-topic-stats-mobile",d.innerHTML=`\n            <i class="fa fa-comment" aria-hidden="true"></i> ${i}\n            <span class="stats-sep">·</span>\n            <i class="fa fa-eye" aria-hidden="true"></i> ${l}\n          `;const p=e.querySelector("p");p&&p.after(d)})}t&&(e(),"undefined"!=typeof jQuery&&jQuery(t).on("draw.dt",function(){e()}))},25),a.register("PermanentTopics:Icons",function(){if(!document.body.classList.contains("mobile-mode"))return;const t=document.querySelectorAll(".panel-default");0!==t.length&&t.forEach(t=>{t.querySelectorAll(".table tbody tr").forEach(t=>{if(t.hasAttribute("data-permanent-icons-added"))return;t.setAttribute("data-permanent-icons-added","true");const e=t.querySelectorAll("td");if(e.length<2)return;const o=e[1],r=e[2];if(!o||!r)return;const a=o.textContent.trim(),n=r.textContent.trim(),i=document.createElement("div");i.className="permanent-topic-stats",i.innerHTML=`\n            <i class="fa fa-comment" aria-hidden="true"></i> ${a}\n            <span style="margin: 0 4px;">·</span>\n            <i class="fa fa-eye" aria-hidden="true"></i> ${n}\n          `,i.style.cssText="\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            font-size: 11px;\n            color: var(--kr-text-secondary);\n            order: 2;\n            margin: 0 0 2px 0;\n          ",o.style.display="none",r.style.display="none";const l=e[0];l&&l.after(i)})})},25),a.register("ForumHeader:MobileBreadcrumb",function(){if(!document.body.classList.contains("mobile-mode"))return;if(window.location.pathname.includes("/kramail"))return;const t=document.querySelector(".container h1");if(!t)return;const e=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE)?.textContent.trim();if(!e)return;const o=t.querySelectorAll("a");if(o.length<2)return;const r=o[0],a=o[1],n=document.createElement("div");n.className="forum-mobile-breadcrumb",n.style.cssText="\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        gap: 12px;\n        margin-bottom: 16px;\n        font-size: 13px;\n        color: var(--kr-text-secondary);\n      ";const i=document.createElement("div");i.style.cssText="\n        display: flex;\n        align-items: center;\n        gap: 6px;\n      ";const l=r.cloneNode(!0);l.style.cssText="\n        display: inline-flex;\n        align-items: center;\n        gap: 4px;\n        color: var(--kr-text-secondary);\n        text-decoration: none;\n        font-weight: 400;\n        background: none;\n        padding: 0;\n        border: none;\n        border-radius: 0;\n      ";const d=document.createElement("span");d.textContent="›",d.style.cssText="\n        color: var(--kr-text-secondary);\n        font-size: 13px;\n        margin: 0 2px;\n      ";const p=document.createElement("span");p.textContent=e,p.style.cssText="\n        color: var(--kr-text-secondary);\n        font-weight: 400;\n      ",i.appendChild(l),i.appendChild(d),i.appendChild(p);const m=document.createElement("a");m.href=a.href,m.className="forum-new-topic-fab",m.setAttribute("aria-label","Nouveau sujet"),m.innerHTML='<span style="font-size: 24px; font-weight: 300; line-height: 1;">+</span>',m.style.cssText="\n        width: 44px;\n        height: 44px;\n        min-width: 44px;\n        border-radius: 50%;\n        background: var(--kr-primary);\n        color: white;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n        text-decoration: none;\n        transition: all 0.2s ease;\n      ",m.addEventListener("touchstart",function(){this.style.transform="scale(0.92)",this.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.3)"}),m.addEventListener("touchend",function(){this.style.transform="scale(1)",this.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"}),n.appendChild(i),n.appendChild(m),t.innerHTML="",t.style.cssText="\n        margin: 12px 16px !important;\n        padding: 0 !important;\n        background: transparent !important;\n      ",t.appendChild(n)},25),function(){function t(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/kramail"))return;const t=document.querySelector("h1.page-header"),e=document.getElementById("col-left");if(!t||!e)return;const o=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE)?.textContent.trim();if(!o)return;const r=Array.from(e.querySelectorAll('a[href*="kramail/"]')).filter(t=>{const e=t.getAttribute("href");return e&&e.match(/kramail\/[^/]+-\d+-\d+$/)}).map(t=>{let e="",r=t.previousElementSibling;for(;r;){if(r.classList&&r.classList.contains("list-group-subtitle")){e=r.textContent.trim();break}r=r.previousElementSibling}return{name:t.textContent.trim(),href:t.href,category:e,isActive:t.textContent.trim()===o}});if(0===r.length)return;if(1===r.length)return;const a=document.createElement("div");a.className="kramail-character-dropdown",a.style.cssText="\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background: var(--kr-bg-surface);\n        border: 1px solid var(--kr-border-default);\n        border-radius: var(--mobile-radius);\n        box-shadow: var(--kr-shadow-lg);\n        margin-top: 8px;\n        z-index: 1000;\n        display: none;\n        overflow: hidden;\n      ",r.forEach(t=>{const e=document.createElement("a");e.href=t.href,e.className="kramail-character-option",e.style.cssText="\n          display: flex;\n          flex-direction: column;\n          padding: 12px 16px;\n          min-height: 44px;\n          text-decoration: none;\n          color: var(--kr-text-primary);\n          border-bottom: 1px solid var(--kr-border-default);\n          transition: background var(--transition-fast);\n        ";const o=document.createElement("div");if(o.style.cssText=`\n          font-size: 16px;\n          font-weight: ${t.isActive?"600":"400"};\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        `,o.textContent=t.name,t.isActive){const t=document.createElement("span");t.textContent="✓",t.style.cssText="\n            color: var(--kr-primary);\n            font-weight: 700;\n          ",o.insertBefore(t,o.firstChild)}if(e.appendChild(o),t.category){const o=document.createElement("div");o.style.cssText="\n            font-size: 13px;\n            color: var(--kr-text-muted);\n            margin-top: 2px;\n          ",o.textContent=`(${t.category})`,e.appendChild(o)}e.addEventListener("touchstart",()=>{e.style.background="var(--kr-bg-active)"},{passive:!0}),e.addEventListener("touchend",()=>{e.style.background=""},{passive:!0}),e.addEventListener("mouseenter",()=>{e.style.background="var(--kr-bg-hover)"}),e.addEventListener("mouseleave",()=>{e.style.background=""}),a.appendChild(e)});const n=document.createElement("div");n.className="kramail-character-selector",n.style.cssText="\n        position: relative;\n        display: inline-flex;\n        align-items: center;\n        gap: 8px;\n        cursor: pointer;\n        user-select: none;\n        padding: 8px 12px;\n        margin: -8px -12px;\n        border-radius: var(--mobile-radius);\n        transition: background var(--transition-fast);\n      ";const i=Array.from(t.childNodes).find(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim()===o);if(!i)return;const l=document.createElement("span");l.textContent=o,l.style.fontWeight="700";const d=document.createElement("span");d.textContent="▼",d.className="kramail-dropdown-icon",d.style.cssText="\n        font-size: 12px;\n        transition: transform var(--transition-fast);\n        color: var(--kr-text-secondary);\n      ",n.appendChild(l),n.appendChild(d),n.appendChild(a),t.insertBefore(n,i),i.remove();let p=!1;const m=()=>{p&&(p=!1,a.style.display="none",d.style.transform="rotate(0deg)",n.style.background="")};n.addEventListener("click",t=>{t.stopPropagation(),p=!p,a.style.display=p?"block":"none",d.style.transform=p?"rotate(180deg)":"rotate(0deg)",n.style.background=p?"var(--kr-bg-hover)":""}),document.addEventListener("click",t=>{n.contains(t.target)||m()}),a.querySelectorAll("a").forEach(t=>{t.addEventListener("click",()=>{m()})})}a.register("Kramail:CharacterSwitcher",t,30),a.register("Kramail:CharacterSwitcher:Observer",function(){new MutationObserver(e=>{e.forEach(e=>{if("class"===e.attributeName){const e=document.body.classList.contains("mobile-mode"),o=document.querySelector(".kramail-character-selector");e&&!o&&window.location.pathname.includes("/kramail")&&t()}})}).observe(document.body,{attributes:!0,attributeFilter:["class"]})},31)}(),a.register("Kramail:MobileEnhancer",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/kramail"))return;const t=document.querySelector("h1.page-header .pull-right");if(!t)return;const e=document.querySelector("#topics thead .btn-group");if(!e)return;const o=e.cloneNode(!0);o.classList.add("kramail-actions-mobile"),t.appendChild(o);const r=o.querySelector(".dropdown-toggle");r&&(r.innerHTML='<i class="fas fa-ellipsis-v"></i>');const a=o.querySelector(".dropdown-menu");if(r&&a){r.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),o.classList.toggle("open")}),document.addEventListener("click",function(t){o.contains(t.target)||o.classList.remove("open")});const n=o.querySelector("#allbox");if(n){function i(t){document.querySelectorAll('input[type="checkbox"][name="c[]"]').forEach(function(e){e.checked=t});const e=document.querySelector("#allbox");e&&(e.checked=t)}n.removeAttribute("id"),n.setAttribute("name","allbox-mobile"),n.removeAttribute("onclick"),n.addEventListener("click",function(t){t.stopPropagation(),i(n.checked)});const l=n.closest("a");l&&l.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),n.checked=!n.checked,i(n.checked)})}o.querySelectorAll(".dropdown-menu li a").forEach(t=>{t.addEventListener("click",function(){setTimeout(function(){o.classList.remove("open")},200)})})}},32),a.register("Kramail:PostMobileEnhancer",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.match(/\/kramail\/post\//))return;const t=document.querySelector("h1.page-header"),e=document.querySelector(".forum-top");if(!t||!e)return;const o=e.querySelector(".pull-right");if(!o)return;const r=Array.from(o.querySelectorAll("a.btn"));if(0===r.length)return;const a=document.createElement("span");a.className="pull-right";const n=r.slice(0,4),i=r.slice(4);n.forEach(function(t){Array.from(t.childNodes).filter(function(t){return 3===t.nodeType}).forEach(function(t){t.textContent=""}),t.querySelector(".fa-backward")&&t.classList.add("btn-primary"),a.appendChild(t)});var l=document.createElement("div");l.className="btn-group kramail-post-kebab";var d=document.createElement("button");d.className="btn btn-default dropdown-toggle",d.type="button",d.innerHTML='<i class="fas fa-ellipsis-v"></i>';var p=document.createElement("ul");p.className="dropdown-menu dropdown-menu-right",p.setAttribute("role","menu");var m={"fa-exclamation-triangle":"Signaler","fa-times":"Supprimer","fa-envelope":"Nouveau message","fa-user":"Contacts"};i.forEach(function(t){var e=document.createElement("li"),o=document.createElement("a");o.href=t.getAttribute("href")||"#";var r=t.querySelector("i"),a=r?r.className:"",n="";Object.keys(m).forEach(function(t){-1!==a.indexOf(t)&&(n=m[t])}),o.innerHTML='<i class="'+a+'"></i> <span class="label-simple">'+n+"</span>",t.classList.contains("alertdel")&&o.classList.add("alertdel");var i=t.getAttribute("onclick");i&&o.setAttribute("onclick",i),e.appendChild(o),p.appendChild(e)}),l.appendChild(d),l.appendChild(p),a.appendChild(l),t.appendChild(a),d.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),l.classList.toggle("open")}),document.addEventListener("click",function(t){l.contains(t.target)||l.classList.remove("open")}),p.querySelectorAll("a").forEach(function(t){t.addEventListener("click",function(){setTimeout(function(){l.classList.remove("open")},200)})}),o.classList.add("kramail-actions-moved");var c=document.querySelector("ul.media-list.forum > li.media.well");if(c){c.classList.add("kramail-post-restructured");var s=c.querySelector(".pull-left"),b=c.querySelector(".media-body");if(s&&b){var u=s.querySelector("img.avatar"),g=u?u.src:"",f=u?u.alt:"",h=s.querySelector(".cartouche strong a"),x=h?h.textContent:f,y=h?h.href:"#",k=b.querySelector(".btn-group-xs .btn"),v="";k&&(v=k.textContent.replace("posté","").trim());var w=b.querySelector("p"),E=w?w.innerHTML:"",C=b.querySelector(".t"),S=C?C.innerHTML:"",L="";if(C){for(var A=C.nextSibling,q=[];A;)1===A.nodeType?q.push(A.outerHTML):3===A.nodeType&&A.textContent.trim()&&q.push(A.textContent),A=A.nextSibling;L=(L=q.join("")).replace(/^(<br\s*\/?>)*\s*___\s*(<br\s*\/?>)*/i,"").trim()}var z=document.createElement("div");z.className="kramail-msg-header",z.innerHTML='<img class="kramail-msg-avatar" src="'+g+'" alt="'+f+'"><div class="kramail-msg-header-info"><div class="kramail-msg-sender"><a href="'+y+'">'+x+'</a></div><div class="kramail-msg-date"><i class="fa fa-clock-o"></i> '+v+"</div></div>";var T=document.createElement("div");T.className="kramail-msg-recipients",T.innerHTML=E;var N=document.createElement("div");if(N.className="kramail-msg-body",N.innerHTML=S,L.length>5){var M=document.createElement("div");M.className="kramail-msg-signature",M.innerHTML=L,N.appendChild(M)}c.appendChild(z),c.appendChild(T),c.appendChild(N)}}},33),a.register("ForumThread:MobileBreadcrumb",function(){if(!document.body.classList.contains("mobile-mode"))return;if(!window.location.pathname.includes("/forum/sujet/"))return;const t=document.querySelector(".container h1.page-header"),e=document.querySelectorAll(".forum-top");if(!t||0===e.length)return;const o=Array.from(t.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim()).map(t=>t.textContent.trim())[0];if(!o)return;const r=e[0],a=r.querySelector('a[href*="forum/rp/"], a[href*="forum/hrp/"]'),n=r.querySelector('a[href*="nouveau-sujet"]');if(!a||!n)return;const i=a.textContent.trim(),l=a.href;let d="Jeu (RP)",p="forum/rp";function m(t=!1){const e=document.createElement("div");e.className=t?"forum-thread-mobile-breadcrumb-bottom":"forum-thread-mobile-breadcrumb",e.style.cssText=`\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 12px;\n          ${t?"margin-top: 16px; margin-bottom: 16px; padding: 12px 16px;":"margin-bottom: 16px;"}\n          font-size: 13px;\n          color: var(--kr-text-secondary);\n        `;const r=document.createElement("div");r.style.cssText="\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          flex: 1;\n          min-width: 0;\n        ";const l=document.createElement("a");l.href=p,l.textContent=d,l.style.cssText="\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          color: var(--kr-text-secondary);\n          text-decoration: none;\n          font-weight: 400;\n          white-space: nowrap;\n        ";const m=document.createElement("span");m.textContent="›",m.style.cssText="\n          color: var(--kr-text-secondary);\n          font-size: 13px;\n          margin: 0 2px;\n          flex-shrink: 0;\n        ";const c=document.createElement("a");c.href=a.href,c.textContent=i,c.style.cssText="\n          color: var(--kr-text-secondary);\n          text-decoration: none;\n          font-weight: 400;\n          white-space: nowrap;\n        ";const s=document.createElement("span");s.textContent="›",s.style.cssText="\n          color: var(--kr-text-secondary);\n          font-size: 13px;\n          margin: 0 2px;\n          flex-shrink: 0;\n        ";const b=document.createElement("span");b.textContent=o,b.style.cssText="\n          color: var(--kr-text-secondary);\n          font-weight: 400;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          min-width: 0;\n        ",r.appendChild(l),r.appendChild(m),r.appendChild(c),r.appendChild(s),r.appendChild(b);const u=document.createElement("a");return u.href=n.href,u.className="forum-new-topic-fab",u.setAttribute("aria-label","Nouveau sujet"),u.innerHTML='<span style="font-size: 24px; font-weight: 300; line-height: 1;">+</span>',u.style.cssText="\n          width: 44px;\n          height: 44px;\n          min-width: 44px;\n          flex-shrink: 0;\n          border-radius: 50%;\n          background: var(--kr-primary);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n          text-decoration: none;\n          transition: all 0.2s ease;\n        ",u.addEventListener("touchstart",function(){this.style.transform="scale(0.92)",this.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.3)"}),u.addEventListener("touchend",function(){this.style.transform="scale(1)",this.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.2)"}),e.appendChild(r),e.appendChild(u),e}l.includes("/forum/hrp/")&&(d="Jeu (HRP)",p="forum/hrp"),t.innerHTML="",t.style.cssText="\n        margin: 12px 16px !important;\n        padding: 0 !important;\n        background: transparent !important;\n      ",t.appendChild(m(!1)),e.forEach((t,e)=>{0!==e&&(t.innerHTML="",t.style.cssText="\n          margin: 0 !important;\n          padding: 0 !important;\n          background: transparent !important;\n          border: none !important;\n        ",t.appendChild(m(!0)))});const c=document.querySelector(".container h1.page-header + .row + .row .btn-group");c&&(c.style.display="none"),document.querySelectorAll('.forum-top a[href*="nouveau-sujet"], .forum-top a[href*="repondre"]').forEach(t=>{t.parentElement.style.display="none"})},25),a.register("ForumThread:HideTags",function(){window.location.pathname.includes("/forum/sujet/")&&setTimeout(()=>{const t=Array.from(document.querySelectorAll('a[href*="forum/tags"]'));if(0===t.length)return;let e=t[0];for(;e&&e!==document.body;)if(e=e.parentElement,e&&e.querySelectorAll('a[href*="forum/tags"]').length===t.length&&e.querySelectorAll("a").length<50)return void(e.style.display="none");t.forEach(t=>{const e=t.parentElement;e&&!e.className.includes("forum")&&(e.style.display="none")})},500)},26),a.register("ForumPosts:Restructure",function(){if(window.innerWidth>=768)return;if(!window.location.pathname.includes("/forum/sujet/"))return;const t=document.querySelectorAll("ul.media-list.forum > li.media:not([data-restructured])");0!==t.length&&t.forEach(t=>{const e=t.querySelector(".pull-left, .user-info"),o=t.querySelector(".pull-right"),r=t.querySelector(".media-body");if(!e||!r)return;const a=r.innerHTML,n=document.createElement("div");n.className="row forum-header";const i=document.createElement("div");i.className="col-xs-8 forum-user-section";const l=e.cloneNode(!0);i.appendChild(l);const d=r.querySelector(".btn-group.btn-group-xs:first-child, div.btn-group.btn-group-xs:first-child");if(d){const t=d.textContent.replace("posté","").replace("modifié","").trim(),e=document.createElement("div");e.className="post-date-mobile",e.textContent=t,i.appendChild(e)}const p=document.createElement("div");if(p.className="col-xs-4 forum-actions-section",o){const t=o.cloneNode(!0);p.appendChild(t)}n.appendChild(i),n.appendChild(p);const m=document.createElement("div");m.className="row forum-content-row";const c=document.createElement("div");c.className="col-xs-12 forum-content-section";const s=document.createElement("div");s.innerHTML=a;const b=s.querySelector(".pull-left, .user-info"),u=s.querySelector(".pull-right"),g=s.querySelector(".btn-group.btn-group-xs:first-child");b&&b.remove(),u&&u.remove(),g&&g.remove(),c.innerHTML=s.innerHTML,m.appendChild(c),e&&e.parentElement===t&&e.remove(),r.innerHTML="",r.appendChild(n),r.appendChild(m),t.setAttribute("data-restructured","true"),t.classList.add("forum-post-restructured")})},26);const tt={STORAGE_KEY:"kr-changelog-viewed",CHANGELOG_URL:"https://raw.githubusercontent.com/arnaudroubinet/kraland-css/main/changelog.json",changelog:null,async loadChangelog(){if(null!==this.changelog)return this.changelog;try{return new Promise((t,e)=>{"undefined"!=typeof GM&&GM.xmlHttpRequest?GM.xmlHttpRequest({method:"GET",url:this.CHANGELOG_URL,timeout:5e3,onload:e=>{try{const o=JSON.parse(e.responseText);this.changelog=this.parseChangelogData(o),t(this.changelog)}catch(e){this.changelog={},t(this.changelog)}},onerror:e=>{this.changelog={},t(this.changelog)}}):fetch(this.CHANGELOG_URL,{cache:"no-store"}).then(t=>t.json()).then(e=>{this.changelog=this.parseChangelogData(e),t(this.changelog)}).catch(e=>{this.changelog={},t(this.changelog)})})}catch(t){return{}}},parseChangelogData(t){const e={};return t.versions&&Array.isArray(t.versions)&&t.versions.forEach(t=>{t.version&&Array.isArray(t.changes)&&(e[t.version]=t.changes)}),e},getCurrentVersion:()=>t,getLastViewedVersion(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):null}catch(t){return null}},markVersionAsViewed(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(t){}},getChangesBetweenVersions(t,e){if(!this.changelog||"object"!=typeof this.changelog)return[];if(!t||!this.changelog[e])return this.changelog[e]||[];const o=Object.keys(this.changelog).sort((t,e)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})),r=o.indexOf(t),a=o.indexOf(e);if(-1===r||-1===a||r<=a)return this.changelog[e]||[];const n=[];for(let t=a;t<r;t++){const e=o[t];this.changelog[e]&&n.push(...this.changelog[e])}return n},createModal(t){const e=document.createElement("div");e.className="kr-changelog-modal",e.id="kr-changelog-modal";const o=0===t.length||t===this.changelog[this.getCurrentVersion()],r=o?"Bienvenue dans Kraland Thème!":"Mise à jour disponible",a=o?"Découvrez les améliorations":"Voici les changements de cette version";e.innerHTML=`\n        <div class="kr-changelog-overlay" tabindex="-1"></div>\n        <div class="kr-changelog-content" role="dialog" aria-modal="true" aria-label="${r}">\n          <div class="kr-changelog-header">\n            <h2>${r}</h2>\n          </div>\n          <div class="kr-changelog-body">\n            <p class="kr-changelog-subtitle">${a}</p>\n            <ul class="kr-changelog-list">\n              ${t.map(t=>`<li>${t}</li>`).join("")}\n            </ul>\n          </div>\n          <div class="kr-changelog-footer">\n            <button class="kr-changelog-view-all">Voir tous les changements</button>\n            <button class="kr-changelog-close-btn">Fermer</button>\n          </div>\n        </div>\n      `;const n=e.querySelector(".kr-changelog-content");n&&(n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.width="90%",n.style.maxWidth="600px",n.style.background="rgba(0,0,0,0.95)",n.style.color="#ffffff");const i=e.querySelector(".kr-changelog-overlay");return i&&(i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.background="rgba(0, 0, 0, 0.5)",i.style.cursor="pointer",i.tabIndex=-1),e},showModal(t){const e=document.getElementById("kr-changelog-modal");e&&e.remove();const o=this.createModal(t);document.body.appendChild(o);const r=o.querySelector(".kr-changelog-close-btn"),a=o.querySelector(".kr-changelog-overlay"),n=o.querySelector(".kr-changelog-view-all");let i=()=>{o.remove(),this.markVersionAsViewed(this.getCurrentVersion()),document.removeEventListener("keydown",l)};const l=t=>{"Escape"===t.key&&i()};document.addEventListener("keydown",l),r.addEventListener("click",i),a.addEventListener("click",i),n.addEventListener("click",()=>{this.showFullChangelog()}),setTimeout(()=>{o.classList.add("active");const t=o.querySelector(".kr-changelog-close-btn");t&&t.focus()},50),i=()=>{o.remove(),this.markVersionAsViewed(this.getCurrentVersion()),document.removeEventListener("keydown",l)}},showFullChangelog(){const t=document.getElementById("kr-changelog-modal");t&&t.remove();const e=document.createElement("div");e.className="kr-changelog-modal kr-changelog-full",e.id="kr-changelog-full-modal";const o=Object.keys(this.changelog).sort((t,e)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})).map(t=>`\n          <div class="kr-changelog-version">\n            <h3>Version ${t}</h3>\n            <ul>\n              ${this.changelog[t].map(t=>`<li>${t}</li>`).join("")}\n            </ul>\n          </div>\n        `).join("");e.innerHTML=`\n        <div class="kr-changelog-overlay" tabindex="-1"></div>\n        <div class="kr-changelog-content kr-changelog-content-full" role="dialog" aria-modal="true" aria-label="Historique complet des changements">\n          <div class="kr-changelog-header">\n            <h2>Historique complet des changements</h2>\n          </div>\n          <div class="kr-changelog-body kr-changelog-body-full">\n            ${o}\n          </div>\n          <div class="kr-changelog-footer">\n            <button class="kr-changelog-close-btn">Fermer</button>\n          </div>\n        </div>\n      `;const r=e.querySelector(".kr-changelog-content");r&&(r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.width="90%",r.style.maxWidth="800px",r.style.background="rgba(0,0,0,0.95)",r.style.color="#ffffff");const a=e.querySelector(".kr-changelog-overlay");a&&(a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.background="rgba(0, 0, 0, 0.5)",a.style.cursor="pointer",a.tabIndex=-1),document.body.appendChild(e);const n=e.querySelector(".kr-changelog-close-btn"),i=e.querySelector(".kr-changelog-overlay"),l=()=>{e.remove(),document.removeEventListener("keydown",d)};n.addEventListener("click",l),i.addEventListener("click",l);const d=t=>{"Escape"===t.key&&l()};document.addEventListener("keydown",d),setTimeout(()=>{e.classList.add("active");const t=e.querySelector(".kr-changelog-close-btn");t&&t.focus()},50)},async init(){const t=this.getCurrentVersion(),e=this.getLastViewedVersion();if(e!==t){await this.loadChangelog();const o=this.getChangesBetweenVersions(e,t);o.length>0&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>this.showModal(o),1e3)}):setTimeout(()=>this.showModal(o),1e3))}this.addChangelogButton()},addChangelogButton(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{this.insertChangelogButton()}):setTimeout(()=>this.insertChangelogButton(),500)},async insertChangelogButton(){if(!window.location.href.includes("/profil/interface"))return;null===this.changelog&&await this.loadChangelog();const t=document.querySelector(".panel-body")||document.querySelector(".content")||document.querySelector("main")||document.querySelector(".container");if(!t)return;if(document.getElementById("kr-changelog-btn"))return;const e=document.createElement("button");e.id="kr-changelog-btn",e.className="btn btn-info kr-changelog-btn",e.innerHTML="📝 Voir l'historique des changements";const o=document.querySelector(".kr-reset-alerts-btn"),r=o&&o.parentNode&&o.parentNode.querySelector(".help-block");if(r&&(e.className="btn btn-link kr-changelog-btn kr-changelog-inline",e.innerHTML="📝 Voir l'historique des changements",e.setAttribute("title","Voir l'historique des changements"),e.setAttribute("aria-label","Voir l'historique des changements"),e.style.display="inline",e.style.marginLeft="8px",e.style.fontSize="13px",e.style.padding="0",e.style.verticalAlign="middle"),e.addEventListener("click",()=>{this.showFullChangelog()}),r)r.appendChild(e);else{const o=t.querySelector("h1")||t.querySelector("h2");o?o.parentNode.insertBefore(e,o.nextSibling):t.insertBefore(e,t.firstChild)}}};!async function(){try{e.start("init:total"),e.start("init:themeState");const t=(null===p(i.ENABLE_KEY)&&m(i.ENABLE_KEY,"false"),c());e.end("init:themeState");const o=document.getElementById(i.STYLE_ID);if(!t&&o?.parentElement&&o.parentElement.removeChild(o),e.start("init:uiControls"),l(W),l(G),e.end("init:uiControls"),t){e.start("init:ensureTheme"),await x(),e.end("init:ensureTheme");const t=()=>{e.start("init:domTransformations"),c()&&(e.start("dom:transformations"),[L,A,z,q,T,N,M,_,j,P,I,D,B,H,O,R,F,V,Y,K,E,v,S,window.updateForumRPMenu,window.updateForumHRPMenu,window.updateForumCommunauteMenu,window.updateForumDebatsMenu,window.updateForumStaffMenu,C,k,Q].forEach(t=>{const o=t&&t.name||"anonymous";e.start("dom:"+o),l(t),e.end("dom:"+o)}),e.end("dom:transformations")),e.end("init:domTransformations")};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t,{once:!0}):t()}e.start("init:observers"),function(){let t;const e=new MutationObserver(()=>{c()&&!document.getElementById(i.STYLE_ID)&&h(i.BUNDLED_CSS).catch(()=>{}),clearTimeout(t),t=setTimeout(()=>{l(()=>g()),l(W)},150)});(document.documentElement||document)&&e.observe(document.documentElement||document,{childList:!0,subtree:!0});const o=t=>function(){const e=t.apply(this,arguments);return setTimeout(()=>x(),250),e};history.pushState=o(history.pushState),history.replaceState=o(history.replaceState),window.addEventListener("popstate",()=>setTimeout(()=>x(),250))}(),e.end("init:observers"),e.start("init:modalBackdrop"),function(){let t={x:0,y:0};const e=new WeakMap,o=new MutationObserver(o=>{o.forEach(o=>{o.addedNodes.forEach(o=>{1===o.nodeType&&o.classList?.contains("bootbox")&&(t.x=window.scrollX,t.y=window.scrollY,setTimeout(()=>{const r=$(o).data("bs.modal");r&&"static"===r.options.backdrop&&(r.options.backdrop=!0,$(o).on("mousedown.backdrop.track",function(t){t.target===this&&e.set(this,{x:t.clientX,y:t.clientY})}),$(o).off("click.dismiss.bs.modal").on("click.dismiss.bs.modal",function(t){if(t.target!==this)return;const o=e.get(this);o&&(Math.sqrt(Math.pow(t.clientX-o.x,2)+Math.pow(t.clientY-o.y,2))>5||($(this).modal("hide"),e.delete(this)))}),$(o).one("hidden.bs.modal",function(){e.delete(this)})),window.scrollTo(t.x,t.y)},100),$(o).one("shown.bs.modal",function(){window.scrollTo(t.x,t.y)}))})})});document.body&&o.observe(document.body,{childList:!0,subtree:!1})}(),e.end("init:modalBackdrop"),e.start("init:charModalMobile"),J(),e.end("init:charModalMobile"),e.start("init:mobileFeatures"),Z(),e.end("init:mobileFeatures");const r=()=>{a.run(),e.end("init:total"),e.report()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r,{once:!0}):r(),l(w),l(()=>tt.init())}catch(t){}}()}();