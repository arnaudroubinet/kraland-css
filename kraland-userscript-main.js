// ==UserScript==
// @name         Kraland Theme (Bundled)
// @namespace    https://www.kraland.org/
// @version      1.0.1767915227303
// @description  Injects the Kraland CSS theme (bundled)
// @match        http://www.kraland.org/*
// @match        https://www.kraland.org/*
// @run-at       document-start
// @grant        none
// ==/UserScript==

// Main script code - CSS bundled inline
(function(){
  'use strict';

  // ============================================================================
  // FIX MOBILE : Empêcher le scroll automatique vers #flap ou autres ancres
  // ============================================================================
  if (window.innerWidth < 768 && window.location.hash && window.location.hash !== '#top') {
    // Sauvegarder la position actuelle avant que le navigateur ne scrolle
    const initialScrollRestoration = history.scrollRestoration;
    history.scrollRestoration = 'manual';
    
    // Supprimer l'ancre de l'URL
    const cleanUrl = window.location.pathname + window.location.search;
    history.replaceState(null, '', cleanUrl);
    
    // Forcer le scroll en haut immédiatement et après le chargement
    const forceScrollTop = () => window.scrollTo(0, 0);
    forceScrollTop();
    
    // S'assurer que le scroll reste en haut même après le chargement complet
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', forceScrollTop);
    }
    window.addEventListener('load', forceScrollTop);
    
    // Restaurer le comportement par défaut après 500ms
    setTimeout(() => {
      history.scrollRestoration = initialScrollRestoration;
    }, 500);
  }
  
  // ============================================================================
  // NOUVELLES : Gestion du repliement/dépliement (mobile uniquement)
  // ============================================================================
  // News collapsible sur mobile
  if (window.innerWidth < 768 && !window.__krNewsToggleInit) {
    window.__krNewsToggleInit = true;
    
    function initNewsToggle() {
      const newsToggle = document.getElementById('slide-submenu');
      const newsContainer = document.getElementById('player-header-section');
      
      if (newsToggle && newsContainer) {
        // Fonction pour mettre à jour le bouton
        function updateButton(isCollapsed) {
          newsToggle.innerHTML = isCollapsed ? '▼' : '×';
          newsToggle.setAttribute('aria-label', isCollapsed ? 'Déplier les nouvelles' : 'Replier les nouvelles');
          newsToggle.setAttribute('title', isCollapsed ? 'Déplier' : 'Replier');
        }
        
        // Charger l'état depuis localStorage
        const isCollapsed = localStorage.getItem('kr-news-collapsed') === 'true';
        if (isCollapsed) {
          newsContainer.classList.add('kr-news-collapsed');
        }
        updateButton(isCollapsed);
        
        // Gérer le clic (capturer en premier pour empêcher Bootstrap)
        newsToggle.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation(); // Empêche les autres handlers Bootstrap
          newsContainer.classList.toggle('kr-news-collapsed');
          
          // Sauvegarder l'état et mettre à jour le bouton
          const collapsed = newsContainer.classList.contains('kr-news-collapsed');
          localStorage.setItem('kr-news-collapsed', collapsed);
          updateButton(collapsed);
        }, { capture: true }); // Capture phase pour intercepter avant Bootstrap
      }
    }
    
    // Attendre que le DOM soit complètement chargé
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initNewsToggle, { once: true });
    } else if (document.readyState === 'interactive' || document.readyState === 'complete') {
      // Utiliser requestAnimationFrame pour s'assurer que le DOM est vraiment prêt
      requestAnimationFrame(() => {
        setTimeout(initNewsToggle, 50);
      });
    }
  }

  // ============================================================================
  // CONFIGURATION
  // ============================================================================
  const CONFIG = {
    BUNDLED_CSS: `/* ============================================================================
   1. CSS VARIABLES
   ============================================================================ */

:root {
  --kr-primary: #8b0f0e;
  --kr-primary-dark: #700b09;
  --kr-gold: #C69100;
  --kr-highlight: #c41e3a;
  --kr-highlight-reverse: #f9d9de;
  --kr-surface: #fff;
  --kr-text: #0f1724;
  --kr-muted: #6b7280;
  --kr-navbar-bg: #111315;
  --kr-radius: .5rem;
  --kr-avatar-size: 120px;

  /* Variables pour le dark mode */
  --kr-bg-page: #f5f5f5;
  --kr-bg-surface: #fff;
  --kr-bg-elevated: #fff;
  --kr-bg-hover: rgb(0,0,0,0.02);
  --kr-bg-active: rgb(0,0,0,0.05);
  --kr-text-primary: #0f1724;
  --kr-text-secondary: #6b7280;
  --kr-text-muted: #9ca3af;
  --kr-text-inverse: #fff;
  --kr-border-default: rgb(0,0,0,0.08);
  --kr-border-strong: rgb(0,0,0,0.15);
  --kr-shadow-sm: 0 1px 2px rgb(0,0,0,0.05);
  --kr-shadow-md: 0 4px 6px rgb(0,0,0,0.07);
  --kr-shadow-lg: 0 10px 15px rgb(0,0,0,0.1);

  /* Couleurs spécifiques */
  --kr-white: #fff;
  --kr-focus-ring: rgb(164,18,13,0.22);
  --kr-focus-ring-light: rgb(164,18,13,0.18);
  --kr-alert-info-bg: rgb(164,18,13,0.06);
  --kr-alert-info-border: rgb(164,18,13,0.14);
  --kr-btn-shadow: rgb(165,18,13,0.12);
  --kr-badge-danger: #dc3545;
  --kr-badge-danger-border: #bd2130;
  --kr-badge-pnj: #d9534f;
  --kr-bootstrap-blue: #337ab7;
  
  /* Couleurs nations (.f1-.f9) */
  --kr-nation-1: #C41E3A;
  --kr-nation-2: #C69100;
  --kr-nation-3: #FFFF00;
  --kr-nation-4: #0033A0;
  --kr-nation-5: #0B6623;
  --kr-nation-6: #6A0DAD;
  --kr-nation-7: #6B7280;
  --kr-nation-8: #0A6B2D;
  --kr-nation-9: #aa7700;
  
  /* Couleurs nations fonds (.c1-.c10) */
  --kr-nation-bg-1: rgb(255, 128, 128, 0.2);
  --kr-nation-bg-2: rgb(170, 112, 0, 0.3);
  --kr-nation-bg-3: rgb(255, 255, 128, 0.15);
  --kr-nation-bg-4: rgb(128, 128, 255, 0.2);
  --kr-nation-bg-5: rgb(128, 255, 128, 0.15);
  --kr-nation-bg-6: rgb(204, 128, 255, 0.2);
  --kr-nation-bg-7: rgb(170, 170, 170, 0.2);
  --kr-nation-bg-8: rgb(115, 151, 115, 0.2);
  --kr-nation-bg-9: rgb(170, 170, 68, 0.2);
  --kr-nation-bg-10: rgb(204, 255, 255, 0.15);
}

html.kr-theme-variant-empire-brun {
  --kr-primary: #5E3B2D;
  --kr-highlight: #C69100;
}

html.kr-theme-variant-paladium {
  --kr-primary: #D4AF37; 
  --kr-highlight: #044c17; 
}

html.kr-theme-variant-theocratie-seelienne {
  --kr-primary: #0033A0;
  --kr-highlight: #2d5fcb;
}

html.kr-theme-variant-paradigme-vert {
  --kr-primary: #0B6623;
  --kr-highlight: #063803;
}

html.kr-theme-variant-khanat-elmerien {
  --kr-primary: #6A0DAD;
  --kr-highlight: #7b4c9c;
}

html.kr-theme-variant-confederation-libre {
  --kr-primary: #6B7280;
  --kr-highlight: #475369;
}

html.kr-theme-variant-royaume-ruthvenie {
  --kr-primary: #0A6B2D;
  --kr-highlight: #C41E3A; 
}

html.kr-theme-variant-empire-brun-dark {
  --kr-primary: #7a5240;
  --kr-primary-dark: #5E3B2D;
  --kr-highlight: #d4a574;
  --kr-highlight-reverse: #1a0f0a;

  /* Dark mode surfaces */
  --kr-bg-page: #12100d;
  --kr-bg-surface: #1e1a15;
  --kr-bg-elevated: #2a251f;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #f5f1ed;
  --kr-text-secondary: #b8a997;
  --kr-text-muted: #8a7968;
  --kr-text-inverse: #12100d;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #3a332b;
  --kr-form-bg-focus: #423a31;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-paladium-dark {
  --kr-primary: #e6c76e;
  --kr-primary-dark: #D4AF37;
  --kr-highlight: #4a9d5f;
  --kr-highlight-reverse: #021a0a;

  /* Dark mode surfaces */
  --kr-bg-page: #0f0e0a;
  --kr-bg-surface: #1a1810;
  --kr-bg-elevated: #252015;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #f5f3e8;
  --kr-text-secondary: #c4b896;
  --kr-text-muted: #938567;
  --kr-text-inverse: #0f0e0a;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #3a3420;
  --kr-form-bg-focus: #43392a;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #e6c76e;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-theocratie-seelienne-dark {
  --kr-primary: #5a8fd9;
  --kr-primary-dark: #2d5fcb;
  --kr-highlight: #80b3ff;
  --kr-highlight-reverse: #000d1f;

  /* Dark mode surfaces */
  --kr-bg-page: #0a0e15;
  --kr-bg-surface: #12182a;
  --kr-bg-elevated: #1a2438;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #e8f0ff;
  --kr-text-secondary: #9db5d6;
  --kr-text-muted: #6b7f9e;
  --kr-text-inverse: #0a0e15;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #2a3447;
  --kr-form-bg-focus: #323d54;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #80b3ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-paradigme-vert-dark {
  --kr-primary: #4d9c61;
  --kr-primary-dark: #2a7a3d;
  --kr-highlight: #70c784;
  --kr-highlight-reverse: #021508;

  /* Dark mode surfaces */
  --kr-bg-page: #0a120d;
  --kr-bg-surface: #0f1a13;
  --kr-bg-elevated: #1a2820;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #e8f5ed;
  --kr-text-secondary: #a0c4ab;
  --kr-text-muted: #6d8a75;
  --kr-text-inverse: #0a120d;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #2a3d30;
  --kr-form-bg-focus: #324539;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #70c784;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-khanat-elmerien-dark {
  --kr-primary: #9966cc;
  --kr-primary-dark: #7b4c9c;
  --kr-highlight: #b794d9;
  --kr-highlight-reverse: #1a0425;

  /* Dark mode surfaces */
  --kr-bg-page: #0f0a15;
  --kr-bg-surface: #1a121f;
  --kr-bg-elevated: #251a2d;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #f0e8ff;
  --kr-text-secondary: #bba0d6;
  --kr-text-muted: #857299;
  --kr-text-inverse: #0f0a15;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #3a2f47;
  --kr-form-bg-focus: #443854;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #b794d9;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-confederation-libre-dark {
  --kr-primary: #9ca3af;
  --kr-primary-dark: #6b7280;
  --kr-highlight: #c2c9d6;
  --kr-highlight-reverse: #0f1115;

  /* Dark mode surfaces */
  --kr-bg-page: #0e1013;
  --kr-bg-surface: #16181c;
  --kr-bg-elevated: #1f2228;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #e8eaed;
  --kr-text-secondary: #b8bcc4;
  --kr-text-muted: #7e8591;
  --kr-text-inverse: #0e1013;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #2d3139;
  --kr-form-bg-focus: #363a43;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #c2c9d6;
  --kr-nation-8: #81c784;
  --kr-nation-9: #c4b958;
}

html.kr-theme-variant-royaume-ruthvenie-dark {
  --kr-primary: #4a9d61;
  --kr-primary-dark: #2a7a3d;
  --kr-highlight: #ff6b85;
  --kr-highlight-reverse: #1a0408;

  /* Dark mode surfaces */
  --kr-bg-page: #0d1210;
  --kr-bg-surface: #141a16;
  --kr-bg-elevated: #1d2621;
  --kr-bg-hover: rgba(255, 255, 255, 0.03);
  --kr-bg-active: rgba(255, 255, 255, 0.06);

  /* Color scheme */
  color-scheme: dark;

  /* Dark mode texte */
  --kr-text-primary: #ecf5f0;
  --kr-text-secondary: #a5c4b0;
  --kr-text-muted: #708a79;
  --kr-text-inverse: #0d1210;

  /* Dark mode bordures */
  --kr-border-default: rgb(255,255,255,0.08);
  --kr-border-strong: rgb(255,255,255,0.15);

  /* Dark mode ombres */
  --kr-shadow-sm: 0 1px 3px rgb(0,0,0,0.4);
  --kr-shadow-md: 0 4px 8px rgb(0,0,0,0.5);
  --kr-shadow-lg: 0 10px 20px rgb(0,0,0,0.6);
  
  /* Dark mode form controls */
  --kr-form-bg: #2d3d33;
  --kr-form-bg-focus: #36463b;
  
  /* Couleurs nations mode sombre (.f1-.f9) */
  --kr-nation-1: #ff8080;
  --kr-nation-2: #d4a574;
  --kr-nation-3: #ffe066;
  --kr-nation-4: #74b9ff;
  --kr-nation-5: #55efc4;
  --kr-nation-6: #a29bfe;
  --kr-nation-7: #b2bec3;
  --kr-nation-8: #70c784;
  --kr-nation-9: #c4b958;
}


/* ============================================================================
   2. LAYOUT OVERRIDES
   ============================================================================ */

/* Hide top header with Kraland logo */
#top {
  display: none !important;
}


html {
  height: auto !important; /* Force HTML à grandir avec le contenu */
}

body {
  min-height: 100vh !important; /* Le body fait au moins la hauteur du viewport pour les pages courtes */
  height: auto !important; /* Laisser le body grandir avec le contenu */
  display: flex;
  flex-direction: column;
  margin: 0 !important; /* Pas de margin pour éviter le décalage de 60px */
  padding-top: 60px; /* Compenser la navigation fixe (60px) */
}

/* La navigation en haut est en position fixed, donc elle sort du flux */
nav.navbar {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1030 !important; /* Au-dessus du contenu */
  height: auto !important; /* Laisser la hauteur s'adapter au contenu */
  max-height: 60px !important; /* Limiter la hauteur maximale */
}

/* Le contenu principal occupe l'espace disponible */
#content {
  flex: 1 0 auto;
}

footer {
  /* Footer en position normale, collé en bas grâce au flexbox */
  flex-shrink: 0;
  width: 100%;
}

/* Option pour masquer la citation du footer */
html.kr-hide-footer-quote .footer-quote {
  display: none !important;
}

/* Increase container width: remove 150px from each side */
.container {
  max-width: 1608px !important;
  width: 1608px !important;
}



/* Show skills panel (no longer collapsed by default) */
#skills-panel {
  display: block !important;
  border: 1px solid rgb(0, 0, 0, 0.06) !important;
  border-radius: 5px !important;
  background-color: var(--kr-white) !important;
}


/* ============================================================================
   3. NAVIGATION
   ============================================================================ */

/* Navbar brand (logo) alignment */
.navbar-brand {
  display: flex !important;
  align-items: center !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

.navbar-brand img.kr-logo {
  height: 28px;
  vertical-align: middle;
}

.navbar-nav > li > a{
  color: var(--kr-white) !important;
}


/* ============================================================================
   4. FORMS
   ============================================================================ */

.form-control.form-control {
  border-radius: .4rem;
  border: 1px solid rgb(0,0,0,0.08);
  padding: .6rem .8rem;
  font-size: .95rem;
}

.form-control:focus {
  box-shadow: 0 0 0 .18rem var(--kr-focus-ring);
  border-color: var(--kr-primary);
  outline: none;
}

textarea.form-control.form-control {
  font-size: 1.4rem !important;
  line-height: 1.6 !important;
}

.form-group label {
  color: var(--kr-text);
  font-weight: 600;
}



input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--kr-primary) !important;
}

input[type="checkbox"]:focus,
input[type="radio"]:focus {
  outline: none;
  box-shadow: 0 0 0 .12rem var(--kr-focus-ring-light) !important;
}

input[type="checkbox"]:checked {
  border-color: var(--kr-primary) !important;
}

/* ============================================================================
   5. BADGES, LABELS & ALERTS
   Consolidated color remapping for theme
   ============================================================================ */

/* Badges & labels - info/primary variants use red */
.label,
.badge {
  background-color: var(--kr-primary);
  color: var(--kr-white);
  border-color: var(--kr-primary-dark);
}

.bg-info {
  background-color: var(--kr-primary);
  color: var(--kr-white);
}

/* Badge danger - notification alert always red on all themes */
.badge-danger {
  background-color: var(--kr-badge-danger) !important;
  color: var(--kr-white) !important;
  border-color: var(--kr-badge-danger-border) !important;
}

/* Alerts - info variant */
.alert.alert-info {
  background-color: var(--kr-alert-info-bg);
  border-color: var(--kr-alert-info-border);
  color: var(--kr-text);
}

.alert strong,
.alert p {
  color: var(--kr-text);
}


/* ============================================================================
   6. LIST GROUPS
   ============================================================================ */

.list-group-item {
  border: none;
  padding: .6rem .75rem;
}

.list-group-item.btn {
  border: none !important;
}

.list-group-item.active,
.list-group-item.active:focus,
.list-group-item.active:hover,
.list-group-item.active a {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-surface) !important;
}

/* Keep hover for non-active items subtle and themed */
.list-group-item:hover {
  color: var(--kr-primary-dark);
  background-color: rgb(0,0,0,0.02);
}

/* ============================================================================
   7. AVATARS
   Ensure avatars are displayed at least the configured size and crop nicely
   ============================================================================ */
.img-circle {
  width: var(--kr-avatar-size);
  height: var(--kr-avatar-size);
  min-width: var(--kr-avatar-size);
  min-height: var(--kr-avatar-size);
  object-fit: cover;
  display: inline-block;
  border-radius: 50%;
}

/* Fix: Override Bootstrap .img-responsive on avatars to prevent stretching */
.img-circle.img-responsive,
.img-circle.img-thumbnail {
  max-width: none !important;
  width: var(--kr-avatar-size);
  height: var(--kr-avatar-size);
}


/* Ensure layout doesn't break: allow the author column to accommodate larger avatars */
.col-md-3.sidebar .avatar,
.col-md-2.sidebar .avatar {
  margin-bottom: 0.5rem;
}

/* Align list-group user items with their avatar to prevent overflow */
.list-group a.list-group-item.ds_user,
.list-group-item.ds_user {
  position: relative;
  min-height: var(--kr-avatar-size) !important;
  padding-right: calc(var(--kr-avatar-size) + 1rem) !important;
  display: flex !important;
  align-items: center !important;
}

.list-group-item.ds_user .pull-right {
  position: absolute !important;
  right: .75rem !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
}

/* ============================================================================
   7.1 PLAYER HEADER SECTION - FIX BOOTSTRAP GRID
   
   Le HTML utilise des classes .nopadding qui cassent le système de grille Bootstrap.
   On restaure ici les paddings standards pour que les .row et .col- fonctionnent correctement.
   ============================================================================ */

/* Restaurer le padding Bootstrap standard (15px) pour toutes les colonnes dans le header */
#player-header-section .nopadding,
#player-header-section .nopadding-right,
#player-main-panel .nopadding,
#player-main-panel .nopadding-right,
#player-vitals-section .nopadding,
#player-vitals-section .nopadding-right {
  padding-left: 15px !important;
  padding-right: 15px !important;
}

/* Exception : le bouton avatar peut avoir moins de padding pour rester centré */
#player-main-panel > .row > .nopadding:first-child {
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* Corriger le padding-left inline sur player-vitals-section */
#player-vitals-section[style*="padding-left"] {
  padding-left: 0 !important;
}

/* Structurer correctement player-actions-section qui contient des boutons sans colonnes */
#player-actions-section {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding: 0 15px !important;
}

/* Espacement entre les lignes de boutons d'accès rapide */
.kr-quick-access-buttons .col-xs-6 {
  margin-bottom: 10px;
}

#player-actions-section hr {
  width: 100%;
  margin: 0.5rem 0;
}



/* ============================================================================
   8. CAROUSEL
   ============================================================================ */

.carousel-caption {
  background: linear-gradient(180deg, rgb(0,0,0,0.55), rgb(0,0,0,0.35));
  padding: 1.4rem;
  padding-bottom: 56px;
  border-radius: .6rem;
  color: var(--kr-white);
}

.item img[class*="-slide"] {
  display: block;
  margin: 0 auto;
  max-width: 100%;
  height: auto;
}

a.carousel-control.left,
a.carousel-control.right{
   background-image: none;
}


/* ============================================================================
   9. MODALS
   Fix modal overflow - prevent modals from extending beyond viewport
   Allow clicking outside to close
   ============================================================================ */

/* Conteneur modal - empêcher le scroll du conteneur */
.modal {
  display: flex !important;
  position: fixed !important; /* Nécessaire pour que la modal reste par-dessus le contenu */
  align-items: flex-start; /* Évite le scroll automatique */
  justify-content: center;
  overflow-y: hidden !important; /* Pas de scroll sur le conteneur modal */
  pointer-events: auto;
  padding-top: 30px; /* Espacement du haut */
}

.modal.in {
  /* Force le scroll à rester en haut lors de l'ouverture */
  overflow-y: hidden !important;
}

/* Dialog avec contraintes de hauteur et son propre scroll */
.modal-dialog {
  width: 900px;
  max-width: 90vw;
  margin: 0 auto 30px; /* Pas de margin-top car géré par padding du parent */
  max-height: calc(100vh - 60px);
  display: flex;
  flex-direction: column;
  pointer-events: auto;
  overflow-y: auto; /* Le dialog peut scroller si nécessaire */
}

/* Content avec structure flex */
.modal-content {
  display: flex;
  flex-direction: column;
  max-height: 100%;
  overflow: hidden;
}

/* Body scrollable - le contenu peut scroller si trop grand */
.modal-body {
  overflow-y: auto;
  flex: 1 1 auto;
}

/* Header et footer restent fixes et toujours visibles */
.modal-header,
.modal-footer {
  flex-shrink: 0;
}


/* ============================================================================
   10. LINKS
   ============================================================================ */

/*
  Pagination est utilisé dans les rapports
*/
.pagination > li.active > a{
  color: var(--kr-surface);
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
}

.pagination > li > a{
  color: var(--kr-primary);
}

.pagination > li.active > a:hover{
  color: var(--kr-surface);
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

.pagination > li > a:hover{
  color: var(--kr-primary);
}

/*
  .bg-primary est utilisé dans les rapports
*/
.bg-primary {
  background-color: var(--kr-primary) !important;
  color: var(--kr-surface) !important;
}

a:link,
a:visited {
  color: var(--kr-highlight);
  text-decoration: none;
  transition: color .12s ease, opacity .12s ease;
}

a:hover,
a:focus {
  color: var(--kr-primary-dark);
  text-decoration: underline;
  outline: none;
}

button.btn-primary,
a.btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-highlight-reverse);
  box-shadow: 0 6px 18px var(--kr-btn-shadow);
}

button.btn-primary:hover,
button.btn-primary:focus,
a.btn-primary:hover,
a.btn-primary:focus {
  background-color: var(--kr-primary-dark);
}

/* ============================================================================
   HIDE UNWANTED HR ELEMENT
   Supprime la ligne horizontale bleue dans le liste des ordres de la fiche de personnage
   ============================================================================ */

hr[style*="border-top: 1px solid"][style*="337ab7"] {
  display: none !important;
}

/* ============================================================================
   10. FOOTER - BACK TO TOP
   Position the back-to-top button on the right side of the footer
   ============================================================================ */

footer {
  /* Position normale dans le flux flexbox - ne pas utiliser position absolute */
  width: 100%;
}

footer .container.white {
  position: relative;
}

.container.white .kraland-back-to-top {
  position: fixed; /* Fixed au lieu d'absolute pour ne pas ajouter de hauteur au footer */
  right: 20px;
  bottom: 20px;
  z-index: 1000;
  transform: none; /* Pas de transform nécessaire avec fixed */
}

/* ============================================================================
   11. DASHBOARD FLEX CARDS - Groupes de joueurs
   Système de cartes en grid avec toutes les informations visibles
   ============================================================================ */

.dashboard.dashboard-flex {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* Sections (Mon groupe / Autres personnages) */
.dashboard-section {
  background: var(--kr-surface);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 4px rgb(0,0,0,0.08);
}

.dashboard-section-header {
  background: var(--kr-primary);
  color: var(--kr-white);
  padding: 3px 8px;
  font-size: 9px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 5px;
}

/* Boutons de groupe dans l'en-tête */
.dashboard-group-buttons {
  display: flex;
  gap: 6px;
}

.dashboard-group-buttons .btn {
  background-color: rgb(255, 255, 255, 0.15);
  border: 1px solid rgb(255, 255, 255, 0.25);
  color: var(--kr-white);
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.dashboard-group-buttons .btn:hover {
  background-color: rgb(255, 255, 255, 0.25);
  border-color: rgb(255, 255, 255, 0.4);
  transform: scale(1.05);
}

.dashboard-group-buttons .btn i {
  font-size: 12px;
}

/* Titre du groupe */
.dashboard-group-title {
  flex: 1;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Grilles de cartes */
.dashboard-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 10px;
  padding: 12px;
}

.dashboard-cards-large {
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

/* Cartes individuelles */
.dashboard-card {
  background: var(--kr-white);
  border: 1px solid rgb(0,0,0,0.08);
  border-radius: 6px;
  overflow: hidden;
  transition: all 0.2s ease;
  position: relative;
  display: flex;
  flex-direction: column;
}

.dashboard-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgb(0,0,0,0.12);
  border-color: var(--kr-primary);
}

.dashboard-card-large {
  min-height: 90px;
}

/* Lien wrapper */
.dashboard-card-link {
  display: flex;
  flex-direction: column;
  text-decoration: none;
  color: inherit;
  flex: 1;
}

.dashboard-card-link:hover {
  text-decoration: none;
}

/* Header avec avatar et nom */
.dashboard-card-header {
  display: flex;
  align-items: center;
  background: rgb(0,0,0,0.02);
}

/* Wrapper pour l'avatar avec cercle de PV */
.dashboard-card-avatar-wrapper {
  position: relative;
  width: 82px;
  height: 82px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Cercle SVG de progression des PV */
.dashboard-card-hp-circle {
  position: absolute;
  top: 0;
  left: 0;
  width: 82px;
  height: 82px;
  pointer-events: none;
  z-index: 1;
}

.dashboard-card-avatar {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--kr-primary);
  flex-shrink: 0;
  position: relative;
  z-index: 2;
}

.dashboard-card-large .dashboard-card-avatar {
  width: 70px;
  height: 70px;
}

/* Conteneur pour le drapeau et le nom */
.dashboard-card-name-container {
  display: flex;
  align-items: center;
  gap: 6px;
  flex: 1;
  min-width: 0;
}

/* Drapeau de nationalité dans le header */
.dashboard-card-world {
  width: 20px;
  height: 10px;
  object-fit: contain;
  flex-shrink: 0;
}

.dashboard-card-name {
  font-size: 11px;
  font-weight: 600;
  color: var(--kr-text);
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  flex: 1;
}

.dashboard-card-large .dashboard-card-name {
  font-size: 13px;
}

/* Body avec statut uniquement (monde dans les actions) */
.dashboard-card-body {
  padding: 0 8px 5px;
  display: flex;
  flex-direction: column;
  gap: 3px;
  flex: 1;
  min-height: 0;
}

.dashboard-card-status {
  font-size: 9px;
  color: var(--kr-muted);
  line-height: 1.2;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: center;
}

.dashboard-card-large .dashboard-card-status {
  font-size: 11px;
  white-space: normal;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* Barre de HP */
.dashboard-card-hp {
  height: 6px;
  background: rgb(0,0,0,0.08);
  position: relative;
  margin: 0;
}

.dashboard-card-hp-fill {
  height: 100%;
  transition: width 0.3s ease, background-color 0.3s ease;
  border-radius: 0;
}

/* Badge PNJ */
.dashboard-card-pnj {
  position: absolute;
  top: 8px;
  right: 8px;
  background: var(--kr-badge-pnj);
  color: var(--kr-white);
  font-size: 8px;
  font-weight: 600;
  padding: 2px 5px;
  border-radius: 3px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  z-index: 1;
}

/* Boutons d'actions individuelles par personnage */
.dashboard-card-actions {
  position: absolute;
  bottom: 4px;
  right: 4px;
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
  opacity: 0.7;
  transition: opacity 0.2s ease;
  z-index: 2;
}

.dashboard-card:hover .dashboard-card-actions {
  opacity: 1;
}

/* Adapter les divs internes pour qu'elles soient empilées verticalement */
.dashboard-card-actions > div {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin: 0 !important;
  padding: 0 !important;
  height: auto !important;
}

.dashboard-card-actions > div > div {
  margin: 0 !important;
  padding: 0 !important;
  height: auto !important;
}

/* Liens d'action compacts */
.dashboard-card-actions a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 6px !important;
  background-color: rgb(0, 0, 0, 0.6);
  border-radius: 3px;
  transition: background-color 0.2s ease;
  min-width: 24px;
  height: 24px;
}

.dashboard-card-actions a:hover {
  background-color: rgb(0, 0, 0, 0.8);
}

.dashboard-card-actions a i {
  color: var(--kr-white);
  font-size: 12px;
  margin: 0;
}

/* Responsive */
@media (width <= 768px) {
  .dashboard-cards-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 8px;
  }
  
  .dashboard-cards-large {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  }
}


/* ============================================================================
   12. EDITEUR DE TEXTE
   Styles pour les boutons de l'éditeur BBCode
   ============================================================================ */

/* Style de base pour tous les boutons de l'éditeur, sauf la palette de couleurs */
.btn-toolbar .btn:not(.dropdown-menu *) {
  background-color: var(--kr-surface) !important;
  background-image: none !important;
  color: var(--kr-primary) !important;
  border: 1px solid rgb(0,0,0,0.06) !important;
  box-shadow: none !important;
}

.btn-toolbar .btn:not(.dropdown-menu *) i,
.btn-toolbar .btn:not(.dropdown-menu *) .fa,
.btn-toolbar .btn:not(.dropdown-menu *) .fas,
.btn-toolbar .btn:not(.dropdown-menu *) .far {
  color: inherit !important;
}

/* ============================================================================
   13. EMPIRE BRUN DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-empire-brun-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-empire-brun-dark .panel,
html.kr-theme-variant-empire-brun-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-empire-brun-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-empire-brun-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-empire-brun-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-empire-brun-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .modal-header,
html.kr-theme-variant-empire-brun-dark .modal-body,
html.kr-theme-variant-empire-brun-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-empire-brun-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-empire-brun-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .form-group label,
html.kr-theme-variant-empire-brun-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-empire-brun-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .btn-primary:hover,
html.kr-theme-variant-empire-brun-dark .btn-primary:focus,
html.kr-theme-variant-empire-brun-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-empire-brun-dark .btn-default:focus,
html.kr-theme-variant-empire-brun-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-empire-brun-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-empire-brun-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-empire-brun-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .table > thead > tr > th,
html.kr-theme-variant-empire-brun-dark .table > tbody > tr > th,
html.kr-theme-variant-empire-brun-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-empire-brun-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-empire-brun-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-empire-brun-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-empire-brun-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .dropdown-menu > .active > a,
html.kr-theme-variant-empire-brun-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-empire-brun-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-empire-brun-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .nav-tabs > li.active > a,
html.kr-theme-variant-empire-brun-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-empire-brun-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-empire-brun-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-empire-brun-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-empire-brun-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-empire-brun-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-empire-brun-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-empire-brun-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-empire-brun-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-empire-brun-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-empire-brun-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-empire-brun-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-empire-brun-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-empire-brun-dark #flap a.open,
html.kr-theme-variant-empire-brun-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-empire-brun-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-empire-brun-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-empire-brun-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-empire-brun-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-empire-brun-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-empire-brun-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-empire-brun-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-empire-brun-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-empire-brun-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-empire-brun-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-empire-brun-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-empire-brun-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-empire-brun-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-empire-brun-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-empire-brun-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-empire-brun-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-empire-brun-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-empire-brun-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-empire-brun-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-empire-brun-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-empire-brun-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-empire-brun-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-empire-brun-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-empire-brun-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-empire-brun-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-empire-brun-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-empire-brun-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-empire-brun-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-empire-brun-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-empire-brun-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-empire-brun-dark .carousel-control:hover,
html.kr-theme-variant-empire-brun-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-empire-brun-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-empire-brun-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-empire-brun-dark a:link,
html.kr-theme-variant-empire-brun-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-empire-brun-dark a:hover,
html.kr-theme-variant-empire-brun-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-empire-brun-dark a.prev,
html.kr-theme-variant-empire-brun-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark a.prev:hover,
html.kr-theme-variant-empire-brun-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-empire-brun-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-empire-brun-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-empire-brun-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-empire-brun-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-empire-brun-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-empire-brun-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-empire-brun-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-empire-brun-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* ============================================================================
   HORLOGE À DOUBLE TOUR (0-48H)
   ============================================================================ */

/* Système d'horloge circulaire qui supporte jusqu'à 48 heures avec deux tours de cadran.
   Le premier tour (0-24h) s'affiche sur le cercle principal.
   Le deuxième tour (24-48h) s'affiche sur un cercle extérieur plus visible.
*/

/* Container de l'horloge */
.c100 {
  position: relative !important;
  width: 80px !important;
  height: 80px !important;
  border-radius: 50% !important;
  background-color: var(--kr-bg-elevated, #f5f5f5) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  overflow: visible !important;
}

/* Masquer l'ancien système à base de .slice, .bar, .fill */
.c100 .slice,
.c100 .bar,
.c100 .fill {
  display: none !important;
}

/* Texte de l'heure au centre */
.c100 > span {
  position: relative !important;
  z-index: 10 !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  color: var(--kr-text-primary, #333) !important;
  text-align: center !important;
}

/* Fond circulaire après */
.c100::after {
  content: '' !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  width: 68px !important;
  height: 68px !important;
  border-radius: 50% !important;
  background-color: var(--kr-bg-elevated, #f5f5f5) !important;
  z-index: 5 !important;
}

/* Cercle de progression - Premier tour (0-24h) */
.c100::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border-radius: 50% !important;
  background: conic-gradient(
    var(--clock-color, #8B0000) 0deg,
    var(--clock-color, #8B0000) calc(var(--clock-deg, 0) * 1deg),
    transparent calc(var(--clock-deg, 0) * 1deg),
    transparent 360deg
  ) !important;
  z-index: 1 !important;
  transition: none !important;
}

/* Deuxième tour (24-48h) - Cercle extérieur avec bordure reprenant la couleur de l'horloge */
.c100[data-second-lap="true"]::before {
  box-shadow: 
    0 0 0 1px var(--kr-bg-elevated, #f5f5f5),
    0 0 0 5px var(--clock-color, #32CD32),
    inset 0 0 0 2px var(--clock-color, #32CD32) !important;
}

/* Classes de pourcentage p0 à p100 pour la compatibilité */
.c100.p0 { --clock-deg: 0; }
.c100.p1 { --clock-deg: 3.6; }
.c100.p2 { --clock-deg: 7.2; }
.c100.p3 { --clock-deg: 10.8; }
.c100.p4 { --clock-deg: 14.4; }
.c100.p5 { --clock-deg: 18; }
.c100.p6 { --clock-deg: 21.6; }
.c100.p7 { --clock-deg: 25.2; }
.c100.p8 { --clock-deg: 28.8; }
.c100.p9 { --clock-deg: 32.4; }
.c100.p10 { --clock-deg: 36; }
.c100.p11 { --clock-deg: 39.6; }
.c100.p12 { --clock-deg: 43.2; }
.c100.p13 { --clock-deg: 46.8; }
.c100.p14 { --clock-deg: 50.4; }
.c100.p15 { --clock-deg: 54; }
.c100.p16 { --clock-deg: 57.6; }
.c100.p17 { --clock-deg: 61.2; }
.c100.p18 { --clock-deg: 64.8; }
.c100.p19 { --clock-deg: 68.4; }
.c100.p20 { --clock-deg: 72; }
.c100.p21 { --clock-deg: 75.6; }
.c100.p22 { --clock-deg: 79.2; }
.c100.p23 { --clock-deg: 82.8; }
.c100.p24 { --clock-deg: 86.4; }
.c100.p25 { --clock-deg: 90; }
.c100.p26 { --clock-deg: 93.6; }
.c100.p27 { --clock-deg: 97.2; }
.c100.p28 { --clock-deg: 100.8; }
.c100.p29 { --clock-deg: 104.4; }
.c100.p30 { --clock-deg: 108; }
.c100.p31 { --clock-deg: 111.6; }
.c100.p32 { --clock-deg: 115.2; }
.c100.p33 { --clock-deg: 118.8; }
.c100.p34 { --clock-deg: 122.4; }
.c100.p35 { --clock-deg: 126; }
.c100.p36 { --clock-deg: 129.6; }
.c100.p37 { --clock-deg: 133.2; }
.c100.p38 { --clock-deg: 136.8; }
.c100.p39 { --clock-deg: 140.4; }
.c100.p40 { --clock-deg: 144; }
.c100.p41 { --clock-deg: 147.6; }
.c100.p42 { --clock-deg: 151.2; }
.c100.p43 { --clock-deg: 154.8; }
.c100.p44 { --clock-deg: 158.4; }
.c100.p45 { --clock-deg: 162; }
.c100.p46 { --clock-deg: 165.6; }
.c100.p47 { --clock-deg: 169.2; }
.c100.p48 { --clock-deg: 172.8; }
.c100.p49 { --clock-deg: 176.4; }
.c100.p50 { --clock-deg: 180; }
.c100.p51 { --clock-deg: 183.6; }
.c100.p52 { --clock-deg: 187.2; }
.c100.p53 { --clock-deg: 190.8; }
.c100.p54 { --clock-deg: 194.4; }
.c100.p55 { --clock-deg: 198; }
.c100.p56 { --clock-deg: 201.6; }
.c100.p57 { --clock-deg: 205.2; }
.c100.p58 { --clock-deg: 208.8; }
.c100.p59 { --clock-deg: 212.4; }
.c100.p60 { --clock-deg: 216; }
.c100.p61 { --clock-deg: 219.6; }
.c100.p62 { --clock-deg: 223.2; }
.c100.p63 { --clock-deg: 226.8; }
.c100.p64 { --clock-deg: 230.4; }
.c100.p65 { --clock-deg: 234; }
.c100.p66 { --clock-deg: 237.6; }
.c100.p67 { --clock-deg: 241.2; }
.c100.p68 { --clock-deg: 244.8; }
.c100.p69 { --clock-deg: 248.4; }
.c100.p70 { --clock-deg: 252; }
.c100.p71 { --clock-deg: 255.6; }
.c100.p72 { --clock-deg: 259.2; }
.c100.p73 { --clock-deg: 262.8; }
.c100.p74 { --clock-deg: 266.4; }
.c100.p75 { --clock-deg: 270; }
.c100.p76 { --clock-deg: 273.6; }
.c100.p77 { --clock-deg: 277.2; }
.c100.p78 { --clock-deg: 280.8; }
.c100.p79 { --clock-deg: 284.4; }
.c100.p80 { --clock-deg: 288; }
.c100.p81 { --clock-deg: 291.6; }
.c100.p82 { --clock-deg: 295.2; }
.c100.p83 { --clock-deg: 298.8; }
.c100.p84 { --clock-deg: 302.4; }
.c100.p85 { --clock-deg: 306; }
.c100.p86 { --clock-deg: 309.6; }
.c100.p87 { --clock-deg: 313.2; }
.c100.p88 { --clock-deg: 316.8; }
.c100.p89 { --clock-deg: 320.4; }
.c100.p90 { --clock-deg: 324; }
.c100.p91 { --clock-deg: 327.6; }
.c100.p92 { --clock-deg: 331.2; }
.c100.p93 { --clock-deg: 334.8; }
.c100.p94 { --clock-deg: 338.4; }
.c100.p95 { --clock-deg: 342; }
.c100.p96 { --clock-deg: 345.6; }
.c100.p97 { --clock-deg: 349.2; }
.c100.p98 { --clock-deg: 352.8; }
.c100.p99 { --clock-deg: 356.4; }
.c100.p100 { --clock-deg: 360; }

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-empire-brun-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-empire-brun-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-empire-brun-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-empire-brun-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-empire-brun-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-empire-brun-dark .pagination > li > a,
html.kr-theme-variant-empire-brun-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .pagination > li.disabled > a,
html.kr-theme-variant-empire-brun-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-empire-brun-dark .pagination > li > a:hover,
html.kr-theme-variant-empire-brun-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .pagination > .active > a,
html.kr-theme-variant-empire-brun-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-empire-brun-dark .pagination > .active > a:hover,
html.kr-theme-variant-empire-brun-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-empire-brun-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-empire-brun-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-empire-brun-dark .dataTables_info,
html.kr-theme-variant-empire-brun-dark .dataTables_filter,
html.kr-theme-variant-empire-brun-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_filter label,
html.kr-theme-variant-empire-brun-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-empire-brun-dark .dataTables_filter input,
html.kr-theme-variant-empire-brun-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark .dataTables_filter input:focus,
html.kr-theme-variant-empire-brun-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-empire-brun-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-empire-brun-dark table.dataTable thead th,
html.kr-theme-variant-empire-brun-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting,
html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-empire-brun-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-empire-brun-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-empire-brun-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-empire-brun-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-empire-brun-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-empire-brun-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-empire-brun-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-empire-brun-dark table.dataTable tfoot th,
html.kr-theme-variant-empire-brun-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Empire Brun en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Paladium en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Théocratie Seelienne en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Paradigme Vert en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Khanat Elmérien en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Confédération Libre en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PALADIUM DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paladium-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paladium-dark .panel,
html.kr-theme-variant-paladium-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paladium-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paladium-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paladium-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paladium-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .modal-header,
html.kr-theme-variant-paladium-dark .modal-body,
html.kr-theme-variant-paladium-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paladium-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .form-group label,
html.kr-theme-variant-paladium-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paladium-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-primary:hover,
html.kr-theme-variant-paladium-dark .btn-primary:focus,
html.kr-theme-variant-paladium-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .btn-default:focus,
html.kr-theme-variant-paladium-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paladium-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paladium-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > thead > tr > th,
html.kr-theme-variant-paladium-dark .table > tbody > tr > th,
html.kr-theme-variant-paladium-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paladium-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paladium-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paladium-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paladium-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paladium-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paladium-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paladium-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paladium-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paladium-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paladium-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paladium-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paladium-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paladium-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paladium-dark #flap a.open,
html.kr-theme-variant-paladium-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paladium-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paladium-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paladium-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paladium-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paladium-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paladium-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paladium-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paladium-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paladium-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paladium-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paladium-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paladium-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paladium-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paladium-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paladium-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paladium-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paladium-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paladium-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paladium-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paladium-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paladium-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paladium-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paladium-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paladium-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paladium-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paladium-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paladium-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paladium-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paladium-dark .carousel-control:hover,
html.kr-theme-variant-paladium-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paladium-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paladium-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paladium-dark a:link,
html.kr-theme-variant-paladium-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paladium-dark a:hover,
html.kr-theme-variant-paladium-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paladium-dark a.prev,
html.kr-theme-variant-paladium-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark a.prev:hover,
html.kr-theme-variant-paladium-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paladium-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paladium-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paladium-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paladium-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paladium-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paladium-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a,
html.kr-theme-variant-paladium-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > li.disabled > a,
html.kr-theme-variant-paladium-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paladium-dark .pagination > li > a:hover,
html.kr-theme-variant-paladium-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a,
html.kr-theme-variant-paladium-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .pagination > .active > a:hover,
html.kr-theme-variant-paladium-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paladium-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paladium-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paladium-dark .dataTables_info,
html.kr-theme-variant-paladium-dark .dataTables_filter,
html.kr-theme-variant-paladium-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter label,
html.kr-theme-variant-paladium-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paladium-dark .dataTables_filter input,
html.kr-theme-variant-paladium-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark .dataTables_filter input:focus,
html.kr-theme-variant-paladium-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paladium-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paladium-dark table.dataTable thead th,
html.kr-theme-variant-paladium-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paladium-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paladium-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paladium-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paladium-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paladium-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paladium-dark table.dataTable tfoot th,
html.kr-theme-variant-paladium-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. THÉOCRATIE SEELIENNE DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-theocratie-seelienne-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-theocratie-seelienne-dark .panel,
html.kr-theme-variant-theocratie-seelienne-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-theocratie-seelienne-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-theocratie-seelienne-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-theocratie-seelienne-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .modal-header,
html.kr-theme-variant-theocratie-seelienne-dark .modal-body,
html.kr-theme-variant-theocratie-seelienne-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-theocratie-seelienne-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .form-group label,
html.kr-theme-variant-theocratie-seelienne-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:hover,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-default:focus,
html.kr-theme-variant-theocratie-seelienne-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-theocratie-seelienne-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-theocratie-seelienne-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > thead > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > th,
html.kr-theme-variant-theocratie-seelienne-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-theocratie-seelienne-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-theocratie-seelienne-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-theocratie-seelienne-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-theocratie-seelienne-dark #flap a.open,
html.kr-theme-variant-theocratie-seelienne-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-theocratie-seelienne-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-theocratie-seelienne-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-theocratie-seelienne-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-theocratie-seelienne-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-theocratie-seelienne-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-theocratie-seelienne-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-theocratie-seelienne-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-theocratie-seelienne-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-theocratie-seelienne-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-theocratie-seelienne-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-theocratie-seelienne-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-theocratie-seelienne-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-theocratie-seelienne-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-theocratie-seelienne-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-theocratie-seelienne-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-theocratie-seelienne-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-theocratie-seelienne-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-theocratie-seelienne-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-theocratie-seelienne-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-theocratie-seelienne-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-theocratie-seelienne-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-theocratie-seelienne-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-theocratie-seelienne-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-theocratie-seelienne-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-theocratie-seelienne-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:hover,
html.kr-theme-variant-theocratie-seelienne-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-theocratie-seelienne-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-theocratie-seelienne-dark a:link,
html.kr-theme-variant-theocratie-seelienne-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-theocratie-seelienne-dark a:hover,
html.kr-theme-variant-theocratie-seelienne-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-theocratie-seelienne-dark a.prev,
html.kr-theme-variant-theocratie-seelienne-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark a.prev:hover,
html.kr-theme-variant-theocratie-seelienne-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-theocratie-seelienne-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-theocratie-seelienne-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > a:hover,
html.kr-theme-variant-theocratie-seelienne-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_info,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter label,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark .dataTables_filter input:focus,
html.kr-theme-variant-theocratie-seelienne-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot th,
html.kr-theme-variant-theocratie-seelienne-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. PARADIGME VERT DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-paradigme-vert-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-paradigme-vert-dark .panel,
html.kr-theme-variant-paradigme-vert-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-paradigme-vert-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-paradigme-vert-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-paradigme-vert-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .modal-header,
html.kr-theme-variant-paradigme-vert-dark .modal-body,
html.kr-theme-variant-paradigme-vert-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-paradigme-vert-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .form-group label,
html.kr-theme-variant-paradigme-vert-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-paradigme-vert-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-primary:hover,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .btn-default:focus,
html.kr-theme-variant-paradigme-vert-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-paradigme-vert-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-paradigme-vert-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > thead > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > th,
html.kr-theme-variant-paradigme-vert-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-paradigme-vert-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-paradigme-vert-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-paradigme-vert-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-paradigme-vert-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-paradigme-vert-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-paradigme-vert-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-paradigme-vert-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-paradigme-vert-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-paradigme-vert-dark #flap a.open,
html.kr-theme-variant-paradigme-vert-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-paradigme-vert-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-paradigme-vert-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-paradigme-vert-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-paradigme-vert-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-paradigme-vert-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-paradigme-vert-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-paradigme-vert-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-paradigme-vert-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-paradigme-vert-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-paradigme-vert-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-paradigme-vert-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-paradigme-vert-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-paradigme-vert-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-paradigme-vert-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-paradigme-vert-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-paradigme-vert-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-paradigme-vert-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-paradigme-vert-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-paradigme-vert-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-paradigme-vert-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-paradigme-vert-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-paradigme-vert-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-paradigme-vert-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-paradigme-vert-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-paradigme-vert-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-paradigme-vert-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-paradigme-vert-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-control:hover,
html.kr-theme-variant-paradigme-vert-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-paradigme-vert-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-paradigme-vert-dark a:link,
html.kr-theme-variant-paradigme-vert-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-paradigme-vert-dark a:hover,
html.kr-theme-variant-paradigme-vert-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-paradigme-vert-dark a.prev,
html.kr-theme-variant-paradigme-vert-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark a.prev:hover,
html.kr-theme-variant-paradigme-vert-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-paradigme-vert-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-paradigme-vert-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-paradigme-vert-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > li > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .pagination > .active > a:hover,
html.kr-theme-variant-paradigme-vert-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-paradigme-vert-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-paradigme-vert-dark .dataTables_info,
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter label,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark .dataTables_filter input:focus,
html.kr-theme-variant-paradigme-vert-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-paradigme-vert-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-paradigme-vert-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot th,
html.kr-theme-variant-paradigme-vert-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. KHANAT ELMÉRIEN DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-khanat-elmerien-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-khanat-elmerien-dark .panel,
html.kr-theme-variant-khanat-elmerien-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-khanat-elmerien-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-khanat-elmerien-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-khanat-elmerien-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .modal-header,
html.kr-theme-variant-khanat-elmerien-dark .modal-body,
html.kr-theme-variant-khanat-elmerien-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-khanat-elmerien-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .form-group label,
html.kr-theme-variant-khanat-elmerien-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-khanat-elmerien-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-primary:hover,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .btn-default:focus,
html.kr-theme-variant-khanat-elmerien-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-khanat-elmerien-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-khanat-elmerien-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > thead > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > th,
html.kr-theme-variant-khanat-elmerien-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-khanat-elmerien-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-khanat-elmerien-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-khanat-elmerien-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-khanat-elmerien-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-khanat-elmerien-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-khanat-elmerien-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-khanat-elmerien-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-khanat-elmerien-dark #flap a.open,
html.kr-theme-variant-khanat-elmerien-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-khanat-elmerien-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-khanat-elmerien-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-khanat-elmerien-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-khanat-elmerien-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-khanat-elmerien-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-khanat-elmerien-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-khanat-elmerien-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-khanat-elmerien-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-khanat-elmerien-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-khanat-elmerien-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-khanat-elmerien-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-khanat-elmerien-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-khanat-elmerien-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-khanat-elmerien-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-khanat-elmerien-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-khanat-elmerien-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-khanat-elmerien-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-khanat-elmerien-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-khanat-elmerien-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-khanat-elmerien-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-khanat-elmerien-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-khanat-elmerien-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-khanat-elmerien-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-khanat-elmerien-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-khanat-elmerien-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-khanat-elmerien-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-khanat-elmerien-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-control:hover,
html.kr-theme-variant-khanat-elmerien-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-khanat-elmerien-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-khanat-elmerien-dark a:link,
html.kr-theme-variant-khanat-elmerien-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-khanat-elmerien-dark a:hover,
html.kr-theme-variant-khanat-elmerien-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-khanat-elmerien-dark a.prev,
html.kr-theme-variant-khanat-elmerien-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark a.prev:hover,
html.kr-theme-variant-khanat-elmerien-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-khanat-elmerien-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-khanat-elmerien-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-khanat-elmerien-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > li > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > a:hover,
html.kr-theme-variant-khanat-elmerien-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_info,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter label,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark .dataTables_filter input:focus,
html.kr-theme-variant-khanat-elmerien-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot th,
html.kr-theme-variant-khanat-elmerien-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. CONFÉDÉRATION LIBRE DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-confederation-libre-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-confederation-libre-dark .panel,
html.kr-theme-variant-confederation-libre-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-confederation-libre-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-confederation-libre-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-confederation-libre-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .modal-header,
html.kr-theme-variant-confederation-libre-dark .modal-body,
html.kr-theme-variant-confederation-libre-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-confederation-libre-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .form-group label,
html.kr-theme-variant-confederation-libre-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-confederation-libre-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-primary:hover,
html.kr-theme-variant-confederation-libre-dark .btn-primary:focus,
html.kr-theme-variant-confederation-libre-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .btn-default:focus,
html.kr-theme-variant-confederation-libre-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-confederation-libre-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-confederation-libre-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > thead > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > th,
html.kr-theme-variant-confederation-libre-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-confederation-libre-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-confederation-libre-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-confederation-libre-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-confederation-libre-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-confederation-libre-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-confederation-libre-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-confederation-libre-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-confederation-libre-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-confederation-libre-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-confederation-libre-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-confederation-libre-dark #flap a.open,
html.kr-theme-variant-confederation-libre-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-confederation-libre-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-confederation-libre-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-confederation-libre-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-confederation-libre-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-confederation-libre-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-confederation-libre-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-confederation-libre-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-confederation-libre-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-confederation-libre-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-confederation-libre-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-confederation-libre-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-confederation-libre-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-confederation-libre-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-confederation-libre-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-confederation-libre-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-confederation-libre-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-confederation-libre-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-confederation-libre-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-confederation-libre-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-confederation-libre-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-confederation-libre-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-confederation-libre-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-confederation-libre-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-confederation-libre-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-confederation-libre-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-confederation-libre-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-confederation-libre-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-confederation-libre-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-confederation-libre-dark .carousel-control:hover,
html.kr-theme-variant-confederation-libre-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-confederation-libre-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-confederation-libre-dark a:link,
html.kr-theme-variant-confederation-libre-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-confederation-libre-dark a:hover,
html.kr-theme-variant-confederation-libre-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-confederation-libre-dark a.prev,
html.kr-theme-variant-confederation-libre-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark a.prev:hover,
html.kr-theme-variant-confederation-libre-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-confederation-libre-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-confederation-libre-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-confederation-libre-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > a,
html.kr-theme-variant-confederation-libre-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > li > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .pagination > .active > a:hover,
html.kr-theme-variant-confederation-libre-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-confederation-libre-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-confederation-libre-dark .dataTables_info,
html.kr-theme-variant-confederation-libre-dark .dataTables_filter,
html.kr-theme-variant-confederation-libre-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter label,
html.kr-theme-variant-confederation-libre-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-confederation-libre-dark .dataTables_filter input,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark .dataTables_filter input:focus,
html.kr-theme-variant-confederation-libre-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-confederation-libre-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-confederation-libre-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-confederation-libre-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-confederation-libre-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot th,
html.kr-theme-variant-confederation-libre-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}



/* ============================================================================
   13. ROYAUME DE RUTHVÉNIE DARK MODE
   Surcharges complètes pour le thème Royaume de Ruthvénie en mode sombre
   ============================================================================ */

/* === BODY & BACKGROUNDS === */
html.kr-theme-variant-royaume-ruthvenie-dark body {
  background-color: var(--kr-bg-page);
  color: var(--kr-text-primary);
}

/* === PANELS === */
html.kr-theme-variant-royaume-ruthvenie-dark .panel,
html.kr-theme-variant-royaume-ruthvenie-dark .panel-default {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-heading {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-footer {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
}

/* === WELLS === */
html.kr-theme-variant-royaume-ruthvenie-dark .well {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === THEME SELECTOR TAMPERMONKEY === */
html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme .control-label {
  color: var(--kr-text-secondary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .kr-tamper-theme h4 {
  color: var(--kr-text-primary);
}

/* === MODALS === */
html.kr-theme-variant-royaume-ruthvenie-dark .modal-content {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .modal-header,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-body,
html.kr-theme-variant-royaume-ruthvenie-dark .modal-footer {
  background-color: var(--kr-bg-surface);
  color: var(--kr-text-primary);
  border-color: var(--kr-border-default);
}

/* === FORMS === */
html.kr-theme-variant-royaume-ruthvenie-dark .form-control {
  background-color: var(--kr-form-bg);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control::placeholder {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-control:focus {
  background-color: var(--kr-form-bg-focus);
  border-color: var(--kr-primary);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .form-group label,
html.kr-theme-variant-royaume-ruthvenie-dark label {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .input-group-addon {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

/* === BUTTONS === */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-primary:active {
  background-color: var(--kr-primary-dark);
  border-color: var(--kr-primary-dark);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:hover {
  background-color: var(--kr-bg-active);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .btn-default:active {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-strong);
  color: var(--kr-text-primary);
}

/* === LIST GROUPS === */
html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item:hover {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-heading {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .list-group-item-text {
  color: var(--kr-text-secondary);
}

/* === TABLES === */
html.kr-theme-variant-royaume-ruthvenie-dark .table {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > thead > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > th,
html.kr-theme-variant-royaume-ruthvenie-dark .table > tfoot > tr > th {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table > tbody > tr > td {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-striped > tbody > tr:nth-of-type(odd) {
  background-color: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .table-hover > tbody > tr:hover {
  background-color: var(--kr-bg-active);
}

/* === DROPDOWNS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu {
  background-color: var(--kr-bg-elevated);
  border-color: var(--kr-border-strong);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > li > a:focus {
  background-color: var(--kr-bg-hover);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .dropdown-menu > .active > a:focus {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === NAVIGATION === */
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs {
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li > a:hover {
  background-color: var(--kr-bg-hover);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .nav-tabs > li.active > a:focus {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default) var(--kr-border-default) transparent;
  color: var(--kr-text-primary);
}

/* === ALERTS === */
html.kr-theme-variant-royaume-ruthvenie-dark .alert {
  border-color: var(--kr-border-default);
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert * {
  color: inherit !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert a {
  color: var(--kr-primary) !important;
  text-decoration: underline;
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-info {
  background-color: rgb(122, 82, 64, 0.15);
  border-color: rgb(122, 82, 64, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-success {
  background-color: rgb(34, 197, 94, 0.15);
  border-color: rgb(34, 197, 94, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-warning {
  background-color: rgb(245, 158, 11, 0.15);
  border-color: rgb(245, 158, 11, 0.3);
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .alert-danger {
  background-color: rgb(239, 68, 68, 0.15);
  border-color: rgb(239, 68, 68, 0.3);
  color: var(--kr-text-primary);
}

/* === PROGRESS === */
html.kr-theme-variant-royaume-ruthvenie-dark .progress {
  background-color: var(--kr-bg-elevated);
}

/* === DASHBOARD CARDS === */
html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card {
  background: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card:hover {
  box-shadow: var(--kr-shadow-md);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-header {
  background: var(--kr-bg-hover);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-name {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-status {
  color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-section {
  background: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark .dashboard-card-hp {
  background: var(--kr-bg-elevated);
}

/* === MINI-CHAT === */
html.kr-theme-variant-royaume-ruthvenie-dark .chat li {
  border-bottom-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .panel-body-scroll {
  background-color: var(--kr-bg-surface);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap {
  background-color: var(--kr-bg-elevated);
}

html.kr-theme-variant-royaume-ruthvenie-dark #flap a.open,
html.kr-theme-variant-royaume-ruthvenie-dark #flap a.closed {
  background: var(--kr-bg-elevated);
  color: var(--kr-text-primary);
}

/* === MAP === */
html.kr-theme-variant-royaume-ruthvenie-dark .map-box {
  background-color: var(--kr-bg-surface);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-title {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-content {
  color: var(--kr-text-primary);
}

html.kr-theme-variant-royaume-ruthvenie-dark .map-box-bottom {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === CLASSES KRALAND .f1-.f9 (couleurs nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .f1 { color: var(--kr-nation-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .f2 { color: var(--kr-nation-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .f3 { color: var(--kr-nation-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .f4 { color: var(--kr-nation-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .f5 { color: var(--kr-nation-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .f6 { color: var(--kr-nation-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .f7 { color: var(--kr-nation-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .f8 { color: var(--kr-nation-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .f9 { color: var(--kr-nation-9); }

/* === CLASSES KRALAND .c1-.c10 (fonds nations) === */
html.kr-theme-variant-royaume-ruthvenie-dark .c1  { background-color: var(--kr-nation-bg-1); }
html.kr-theme-variant-royaume-ruthvenie-dark .c2  { background-color: var(--kr-nation-bg-2); }
html.kr-theme-variant-royaume-ruthvenie-dark .c3  { background-color: var(--kr-nation-bg-3); }
html.kr-theme-variant-royaume-ruthvenie-dark .c4  { background-color: var(--kr-nation-bg-4); }
html.kr-theme-variant-royaume-ruthvenie-dark .c5  { background-color: var(--kr-nation-bg-5); }
html.kr-theme-variant-royaume-ruthvenie-dark .c6  { background-color: var(--kr-nation-bg-6); }
html.kr-theme-variant-royaume-ruthvenie-dark .c7  { background-color: var(--kr-nation-bg-7); }
html.kr-theme-variant-royaume-ruthvenie-dark .c8  { background-color: var(--kr-nation-bg-8); }
html.kr-theme-variant-royaume-ruthvenie-dark .c9  { background-color: var(--kr-nation-bg-9); }
html.kr-theme-variant-royaume-ruthvenie-dark .c10 { background-color: var(--kr-nation-bg-10); }

/* === SCROLLBARS === */
html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-track {
  background-color: var(--kr-bg-page);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb {
  background-color: var(--kr-text-muted);
}

html.kr-theme-variant-royaume-ruthvenie-dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--kr-text-secondary);
}

/* === SELECTION === */
html.kr-theme-variant-royaume-ruthvenie-dark ::selection {
  background-color: var(--kr-primary);
  color: var(--kr-text-inverse);
}

/* === FOOTER === */
html.kr-theme-variant-royaume-ruthvenie-dark footer {
  background-color: var(--kr-bg-elevated);
  border-top: 1px solid var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .footer-quote {
  color: var(--kr-text-secondary);
}

/* === SKILLS PANEL === */
html.kr-theme-variant-royaume-ruthvenie-dark #skills-panel {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
}

/* === SEPARATORS === */
html.kr-theme-variant-royaume-ruthvenie-dark hr {
  display: none;
}

/* === CAROUSEL === */
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control {
  color: var(--kr-primary);
  opacity: 0.7;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .carousel-control:focus {
  color: var(--kr-highlight);
  opacity: 0.9;
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators li {
  background-color: var(--kr-border-default);
  border-color: var(--kr-border-default);
}

html.kr-theme-variant-royaume-ruthvenie-dark .carousel-indicators .active {
  background-color: var(--kr-primary);
  border-color: var(--kr-primary);
}

/* === LIENS === */
html.kr-theme-variant-royaume-ruthvenie-dark a:link,
html.kr-theme-variant-royaume-ruthvenie-dark a:visited {
  color: var(--kr-highlight);
}

html.kr-theme-variant-royaume-ruthvenie-dark a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a:focus {
  color: var(--kr-primary);
}

/* === BOUTONS DE NAVIGATION PREV/NEXT === */
html.kr-theme-variant-royaume-ruthvenie-dark a.prev,
html.kr-theme-variant-royaume-ruthvenie-dark a.next {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark a.prev:hover,
html.kr-theme-variant-royaume-ruthvenie-dark a.next:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-highlight) !important;
}

/* === BOUTONS WARNING === */

/* Adaptation des boutons warning pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary-dark) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .btn-warning:hover {
  background-color: var(--kr-highlight) !important;
  border-color: var(--kr-primary) !important;
}

/* === ICÔNES DE COMPÉTENCES ET CARACTÉRISTIQUES === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/mat/94/"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE BÂTIMENTS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/bat/bat"]:hover {
  filter: none;
  opacity: 1;
}

/* === ICÔNES DE VOCATIONS === */

/* Réduction du contraste des icônes blanches */
html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"] {
  filter: none;
  opacity: 0.85;
}

html.kr-theme-variant-royaume-ruthvenie-dark img[src*="/voc/"]:hover {
  filter: none;
  opacity: 1;
}

/* === INDICATEUR CIRCULAIRE DE TEMPS === */

/* Adaptation pour le thème sombre */
html.kr-theme-variant-royaume-ruthvenie-dark .c100 {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100::after {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 > span {
  color: var(--kr-text-primary) !important;
  font-size: 20px !important;
  font-weight: 600 !important;
  line-height: 80px !important;
  width: 80px !important;
  height: 80px !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .slice {
  border-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .bar {
  border-color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .c100 .fill {
  border-color: var(--kr-bg-elevated) !important;
}

/* Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .pagination {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li.disabled > span {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > li > span:hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > a:hover,
html.kr-theme-variant-royaume-ruthvenie-dark .pagination > .active > span:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables Pagination */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate {
  background-color: transparent !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button {
  background-color: var(--kr-bg-elevated) !important;
  border: 1px solid var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
  background-image: none !important;
  box-shadow: none !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.disabled:hover {
  background-color: var(--kr-bg-surface) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-muted) !important;
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button:not(.disabled):hover {
  background-color: var(--kr-bg-hover) !important;
  border-color: var(--kr-border-strong) !important;
  color: var(--kr-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_paginate .paginate_button.current:hover {
  background-color: var(--kr-primary) !important;
  border-color: var(--kr-primary) !important;
  color: var(--kr-text-inverse) !important;
}

/* DataTables - Wrapper et conteneur */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_wrapper {
  color: var(--kr-text-primary);
}

/* DataTables - Info, Filter, Length */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_info,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length {
  color: var(--kr-text-secondary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter label,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length label {
  color: var(--kr-text-secondary);
}

/* DataTables - Inputs et Selects */
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_filter input:focus,
html.kr-theme-variant-royaume-ruthvenie-dark .dataTables_length select:focus {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-primary) !important;
  outline: none !important;
}

/* DataTables - Table principale */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable {
  background-color: transparent !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - En-têtes */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc {
  background-color: var(--kr-bg-elevated) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_asc:hover,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable thead th.sorting_desc:hover {
  background-color: var(--kr-bg-hover) !important;
}

/* DataTables - Corps de table (lignes) */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.odd {
  background-color: var(--kr-bg-surface) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr.even {
  background-color: var(--kr-bg-hover) !important;
}

html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody tr:hover {
  background-color: var(--kr-bg-active) !important;
}

/* DataTables - Cellules */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td {
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}

/* DataTables - Message "Aucune donnée" */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tbody td.dataTables_empty {
  background-color: var(--kr-bg-surface) !important;
  color: var(--kr-text-secondary) !important;
}

/* DataTables - Footer */
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot th,
html.kr-theme-variant-royaume-ruthvenie-dark table.dataTable tfoot td {
  background-color: var(--kr-bg-elevated) !important;
  border-color: var(--kr-border-default) !important;
  color: var(--kr-text-primary) !important;
}





/* ============================================================================
   MAP PAGE FIX - Carte au dessus des tableaux
   ============================================================================ */

/* Donner une hauteur au conteneur de la carte pour que le contenu en dessous 
   ne se superpose pas. La carte utilise des éléments en position absolue. */
body > div:has([id^="c"]) {
  display: block;
  position: relative;
  min-height: 550px; /* Hauteur de la carte + marge */
}

/* La balise MAP vide ne doit pas prendre de place */
body > map {
  display: none;
}


/* ============================================================================
   MOBILE RESPONSIVE - Compatibilité mobile (<768px)
   Ces styles ne s'appliquent QUE sur mobile et ne modifient PAS le desktop
   ============================================================================ */

@media (max-width: 767px) {
  
  /* ==========================================================================
     FIX : Empêcher le scroll automatique vers les ancres au chargement
     ========================================================================== */
  
  html {
    overflow-anchor: none !important; /* Désactive l'ancrage automatique du scroll */
  }
  
  /* ==========================================================================
     PHASE 1 : CONTAINER RESPONSIVE
     Supprime le débordement horizontal causé par la largeur fixe
     ========================================================================== */
  
  .container {
    max-width: 100% !important;
    width: 100% !important;
    padding-left: 15px !important;
    padding-right: 15px !important;
  }
  
  
  /* ==========================================================================
     PHASE 2 : NAVBAR MOBILE AMÉLIORÉE
     Améliore l'ergonomie du menu hamburger et des icônes
     ========================================================================== */
  
  /* Fix du layout du header pour que logo et hamburger soient bien alignés */
  .navbar-header {
    display: flex !important;
    justify-content: center !important; /* Logo au centre */
    align-items: center !important;
    width: 100vw !important; /* Prend toute la largeur du viewport */
    position: relative !important; /* Pour positionner le toggle en absolu */
    margin-left: calc(-50vw + 50%) !important; /* Centre par rapport au viewport */
    margin-right: calc(-50vw + 50%) !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    height: 60px !important; /* Hauteur fixe pour centrage vertical */
  }
  
  .navbar-brand {
    float: none !important;
    margin: 0 !important; /* Centré par flexbox */
    display: flex !important;
    align-items: center !important;
    padding: 15px !important; /* Ajout d'un padding pour ne pas coller aux bords */
  }
  
  /* Boutons plus grands pour touch (minimum 44x44px recommandé) */
  .navbar-toggle {
    position: absolute !important; /* Position absolue pour le placer en haut à droite */
    right: 15px !important; /* Aligné à droite avec espacement */
    top: 50% !important;
    transform: translateY(-50%) !important; /* Centrage vertical parfait */
    padding: 8px !important;
    min-width: 48px !important;
    min-height: 48px !important;
    width: 48px !important;
    height: 48px !important;
    float: none !important;
    margin: 0 !important;
    border-radius: 12px !important; /* Coins plus arrondis, style moderne */
    border: none !important; /* Pas de bordure pour un style épuré */
    background: rgba(255, 255, 255, 0.15) !important;
    backdrop-filter: blur(10px) !important; /* Effet de flou moderne */
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    gap: 4px !important; /* Espacement réduit entre les barres */
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important; /* Animation fluide */
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important; /* Ombre légère */
  }
  
  .navbar-toggle:hover,
  .navbar-toggle:focus {
    background: rgba(255, 255, 255, 0.25) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
    transform: translateY(-50%) scale(1.05) !important; /* Léger effet de zoom */
  }
  
  .navbar-toggle:active {
    transform: translateY(-50%) scale(0.98) !important; /* Effet d'appui */
  }
  
  /* Barres du hamburger plus stylées et modernes */
  .navbar-toggle .icon-bar {
    width: 22px !important;
    height: 2px !important; /* Plus fines pour un look moderne */
    border-radius: 2px !important;
    background-color: #fff !important;
    display: block !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }
  
  /* Animation subtile au hover - Les barres s'écartent légèrement */
  .navbar-toggle:hover .icon-bar:nth-child(2) {
    width: 18px !important;
    margin-left: 4px !important;
  }
  
  .navbar-toggle:hover .icon-bar:nth-child(4) {
    width: 18px !important;
  }
  
  /* Menu déroulant pleine largeur - Respecte le comportement Bootstrap */
  .navbar-collapse {
    width: 100% !important;
    border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
  }
  
  /* Quand le menu est ouvert (classe .in ajoutée par Bootstrap) */
  .navbar-collapse.in {
    overflow-y: auto !important;
    max-height: calc(100vh - 60px) !important;
  }
  
  /* Items de navigation plus espacés */
  .navbar-nav > li > a {
    padding: 15px 20px !important;
    font-size: 16px !important;
  }
  
  /* Icônes de la barre (notifications, messages) */
  .navbar-nav.navbar-right > li > a {
    padding: 15px 12px !important;
  }
  
  /* Logo plus petit sur mobile */
  .navbar-brand img.kr-logo {
    height: 24px !important;
  }
  
  
  /* ==========================================================================
     PHASE 3 : PAGE D'ACCUEIL MOBILE
     Réorganise les blocs pour une lecture verticale fluide
     ========================================================================== */
  
  /* Empiler les colonnes verticalement */
  .container > .row > [class*="col-md-"],
  .container > .row > [class*="col-sm-"] {
    width: 100% !important;
    float: none !important;
    padding-left: 10px !important;
    padding-right: 10px !important;
    margin-bottom: 15px !important;
  }
  
  /* Carousel responsive */
  .carousel {
    margin-bottom: 20px !important;
  }
  
  .carousel .carousel-caption {
    position: relative !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: rgba(0, 0, 0, 0.7) !important;
    padding: 15px !important;
  }
  
  .carousel .carousel-caption h1 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }
  
  .carousel .carousel-caption p {
    font-size: 0.95rem !important;
  }
  
  /* Images du carousel */
  .carousel-inner > .item > img {
    width: 100% !important;
    height: auto !important;
  }
  
  /* Masquer les statistiques (Membres actifs, Personnages actifs, etc.) en mobile */
  a.list-group-item.ds_users,
  a.list-group-item.ds_characters,
  a.list-group-item.ds_online {
    display: none !important;
  }
  
  /* N'afficher qu'une seule nouvelle en mode mobile */
  .panel-body.panel-news ul.demo li.news-item:nth-child(n+2) {
    display: none !important;
  }
  
  /* Réduire la taille des flèches de navigation dans la section nouvelles */
  .panel-default ul.pagination.pull-right > li > a {
    font-size: 12px !important;
    padding: 6px 10px !important;
    min-width: 32px !important;
    min-height: 32px !important;
    line-height: 1.2 !important;
  }
  
  /* Header "Nouvelles" avec croix à droite */
  .list-group-item.active {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 10px 15px !important;
  }
  
  #slide-submenu {
    flex-shrink: 0 !important;
    margin-left: 10px !important;
    cursor: pointer !important;
    font-size: 18px !important;
    line-height: 1 !important;
    padding: 4px 8px !important;
    background: transparent !important;
    border: none !important;
    color: inherit !important;
    transition: opacity 0.2s ease !important;
  }
  
  #slide-submenu:hover {
    opacity: 0.7 !important;
  }
  
  /* Masquer le contenu quand replié */
  #player-header-section.kr-news-collapsed .panel.panel-default {
    display: none !important;
  }
  
  /* Stats cards en grille 3 colonnes */
  .dashboard-cards-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 8px !important;
  }
  
  /* Cartes de dashboard plus compactes */
  .dashboard-card {
    padding: 10px !important;
  }
  
  .dashboard-card h4 {
    font-size: 1.1rem !important;
  }
  
  /* Panels responsive */
  .panel {
    margin-bottom: 15px !important;
  }
  
  .panel-heading {
    padding: 10px 15px !important;
  }
  
  .panel-body {
    padding: 15px !important;
  }
  
  /* Wells plus compacts */
  .well {
    padding: 15px !important;
    margin-bottom: 15px !important;
  }
  
  /* Alerts responsive */
  .alert {
    padding: 12px 15px !important;
    margin-bottom: 15px !important;
  }
  
  /* Mini-chat : masqué par défaut sur mobile, accessible via bouton flottant */
  #flap {
    position: fixed !important;
    top: 0 !important;
    right: -100% !important;
    width: 85% !important;
    max-width: 320px !important;
    height: 100vh !important;
    z-index: 1050 !important;
    transition: right 0.3s ease !important;
    overflow-y: auto !important;
    background: var(--kr-bg-surface) !important;
    box-shadow: -2px 0 10px rgba(0, 0, 0, 0.3) !important;
  }
  
  #flap.mobile-open {
    right: 0 !important;
  }
  
  /* Bouton MC visible pour ouvrir le chat */
  a[href*="#flap"] {
    display: flex !important;
    position: fixed !important;
    bottom: 20px !important;
    right: 20px !important;
    z-index: 1000 !important;
    background: var(--kr-primary) !important;
    color: white !important;
    border-radius: 50% !important;
    width: 56px !important;
    height: 56px !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    box-shadow: var(--kr-shadow-lg) !important;
    font-size: 18px !important;
    font-weight: bold !important;
    text-decoration: none !important;
  }
  
  
  /* ==========================================================================
     PHASE 4 : PAGE PLATEAU DE JEU MOBILE
     Réorganise l'interface de jeu pour le mobile
     ========================================================================== */
  
  /* === PANNEAU DE COMPÉTENCES === */
  /* Masquer le panneau latéral, accessible via bouton */
  #skills-panel {
    position: fixed !important;
    top: 0 !important;
    left: -100% !important;
    width: 85% !important;
    max-width: 320px !important;
    height: 100vh !important;
    z-index: 1050 !important;
    transition: left 0.3s ease !important;
    overflow-y: auto !important;
    background: var(--kr-bg-surface) !important;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3) !important;
    padding: 15px !important;
  }
  
  #skills-panel.mobile-open {
    left: 0 !important;
  }
  
  /* Conteneur parent du skills-panel */
  .col-md-1:has(#skills-panel) {
    position: static !important;
    width: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
  }
  
  /* Grille des compétences plus compacte sur mobile */
  #skills-panel .grid-transformed {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 8px !important;
  }
  
  /* === PANNEAU PERSONNAGE === */
  /* Toutes les colonnes en pleine largeur */
  .container > .row > .col-md-3,
  .container > .row > .col-md-6,
  .container > .row > .col-md-8,
  .container > .row > .col-md-1 {
    width: 100% !important;
    float: none !important;
    padding-left: 15px !important;
    padding-right: 15px !important;
  }
  
  /* Header du personnage compact */
  .panel-heading {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 10px !important;
    padding: 10px !important;
  }
  
  /* Avatar réduit */
  .panel-heading img {
    max-width: 60px !important;
    max-height: 60px !important;
  }
  
  /* Stats du personnage */
  .panel-body > div {
    margin-bottom: 10px !important;
  }
  
  /* Barres de progression */
  .progress {
    height: 24px !important;
    margin-bottom: 8px !important;
  }
  
  .progress-bar {
    font-size: 12px !important;
    line-height: 24px !important;
  }
  
  /* === CARTE DU JEU === */
  /* Carte avec scroll horizontal si nécessaire */
  .panel-body:has(map),
  .panel-body:has([id^="c"]) {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    padding: 10px !important;
  }
  
  /* Conteneur de carte */
  body > div:has([id^="c"]) {
    min-height: 400px !important;
  }
  
  /* Images de la carte */
  map + img,
  [id^="c"] img {
    max-width: none !important;
    height: auto !important;
  }
  
  /* === LISTE DES PERSONNAGES === */
  /* En liste verticale compacte */
  .list-group {
    margin-bottom: 15px !important;
  }
  
  .list-group-item {
    padding: 10px 12px !important;
    display: flex !important;
    align-items: center !important;
    gap: 10px !important;
  }
  
  /* Avatars de la liste réduits */
  .list-group-item img {
    width: 40px !important;
    height: 40px !important;
    flex-shrink: 0 !important;
  }
  
  /* Texte des items */
  .list-group-item-heading {
    font-size: 14px !important;
    margin-bottom: 4px !important;
  }
  
  .list-group-item-text {
    font-size: 12px !important;
  }
  
  /* === PANNEAU COMMERCE === */
  /* Items du commerce en liste compacte */
  .panel-body h4 {
    font-size: 1rem !important;
    margin-top: 15px !important;
    margin-bottom: 10px !important;
  }
  
  /* Items de commerce */
  .panel-body a {
    display: flex !important;
    align-items: center !important;
    padding: 8px !important;
    gap: 10px !important;
    font-size: 14px !important;
    margin-bottom: 5px !important;
    border-radius: 4px !important;
  }
  
  .panel-body a:hover {
    background-color: var(--kr-bg-hover) !important;
  }
  
  .panel-body a img {
    width: 32px !important;
    height: 32px !important;
    flex-shrink: 0 !important;
  }
  
  /* Tables responsive */
  .table-responsive {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    margin-bottom: 15px !important;
  }
  
  /* Tables plus compactes */
  .table > thead > tr > th,
  .table > tbody > tr > th,
  .table > tfoot > tr > th,
  .table > thead > tr > td,
  .table > tbody > tr > td,
  .table > tfoot > tr > td {
    padding: 8px !important;
    font-size: 13px !important;
  }
  
  
  /* ==========================================================================
     PHASE 5 : ÉLÉMENTS TOUCH-FRIENDLY
     Assure que tous les éléments interactifs sont cliquables facilement
     ========================================================================== */
  
  /* Taille minimale des zones cliquables (44x44px minimum recommandé) */
  a:not(.list-group-item), 
  button, 
  .btn,
  input[type="button"],
  input[type="submit"],
  input[type="reset"] {
    min-height: 44px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  /* Boutons de formulaire */
  .btn {
    padding: 12px 20px !important;
    font-size: 16px !important;
  }
  
  .btn-xs {
    min-height: 32px !important;
    padding: 6px 12px !important;
    font-size: 14px !important;
  }
  
  .btn-sm {
    min-height: 38px !important;
    padding: 8px 16px !important;
    font-size: 14px !important;
  }
  
  .btn-lg {
    min-height: 50px !important;
    padding: 14px 24px !important;
    font-size: 18px !important;
  }
  
  /* Liens dans les listes */
  .list-group-item {
    min-height: 44px !important;
    padding: 15px !important;
  }
  
  /* Formulaires */
  .form-control {
    height: 44px !important;
    font-size: 16px !important; /* Évite le zoom iOS */
    padding: 10px 12px !important;
  }
  
  textarea.form-control {
    height: auto !important;
    min-height: 100px !important;
  }
  
  select.form-control {
    height: 44px !important;
  }
  
  /* Checkboxes et radios plus grands */
  input[type="checkbox"],
  input[type="radio"] {
    width: 20px !important;
    height: 20px !important;
    margin: 4px !important;
  }
  
  /* Labels cliquables */
  label {
    display: inline-block !important;
    padding: 5px 0 !important;
    cursor: pointer !important;
  }
  
  /* Espacement entre éléments cliquables */
  .btn + .btn {
    margin-top: 8px !important;
    margin-left: 0 !important;
  }
  
  .btn-group-vertical > .btn {
    margin-top: 0 !important;
    margin-bottom: 8px !important;
  }
  
  /* Boutons groupés en colonne sur mobile */
  .btn-group {
    display: flex !important;
    flex-direction: column !important;
    width: 100% !important;
  }
  
  .btn-group > .btn {
    width: 100% !important;
    margin-bottom: 8px !important;
  }
  
  /* Pagination plus grande */
  .pagination > li > a,
  .pagination > li > span {
    padding: 12px 16px !important;
    font-size: 16px !important;
  }
  
  /* Breadcrumb responsive */
  .breadcrumb {
    padding: 10px 15px !important;
    font-size: 14px !important;
  }
  
  /* Tabs plus grandes */
  .nav-tabs > li > a {
    padding: 12px 16px !important;
    font-size: 16px !important;
  }
  
  /* Dropdown menu */
  .dropdown-menu > li > a {
    padding: 12px 20px !important;
    font-size: 16px !important;
  }
  
  /* Modal responsive */
  .modal-dialog {
    width: auto !important;
    margin: 10px !important;
  }
  
  .modal-content {
    border-radius: 8px !important;
  }
  
  .modal-header {
    padding: 15px !important;
  }
  
  .modal-body {
    padding: 15px !important;
  }
  
  .modal-footer {
    padding: 15px !important;
  }
  
  /* Popover et tooltip responsive */
  .popover {
    max-width: calc(100vw - 40px) !important;
  }
  
  .tooltip {
    font-size: 14px !important;
  }
  
  /* Footer responsive */
  .footer {
    padding: 15px !important;
    font-size: 14px !important;
  }
  
  /* Typographie mobile */
  h1 { font-size: 1.75rem !important; }
  h2 { font-size: 1.5rem !important; }
  h3 { font-size: 1.25rem !important; }
  h4 { font-size: 1.1rem !important; }
  h5 { font-size: 1rem !important; }
  h6 { font-size: 0.9rem !important; }
  
  /* Espacement vertical */
  .row {
    margin-left: -10px !important;
    margin-right: -10px !important;
  }
  
  /* Masquer les éléments non essentiels sur mobile */
  .hidden-xs {
    display: none !important;
  }
  
  /* Afficher les éléments mobile uniquement */
  .visible-xs,
  .visible-xs-block,
  .visible-xs-inline,
  .visible-xs-inline-block {
    display: block !important;
  }
  
  .visible-xs-inline {
    display: inline !important;
  }
  
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}


/* ==========================================================================
   OVERLAY MOBILE - Pour fermer les panneaux latéraux
   ========================================================================== */

.kr-mobile-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1040;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.kr-mobile-overlay.active {
  display: block;
  opacity: 1;
}

/* Bouton de fermeture dans les panneaux mobiles */
.kr-mobile-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  background: var(--kr-primary);
  color: white;
  border: none;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 10;
  font-size: 20px;
}

.kr-mobile-close:hover {
  background: var(--kr-primary-dark);
}

/* Bouton pour ouvrir le panneau de compétences sur mobile */
.kr-mobile-skills-toggle {
  position: fixed !important;
  bottom: 90px !important;
  right: 20px !important;
  z-index: 1000 !important;
  width: 56px !important;
  height: 56px !important;
  border-radius: 50% !important;
  padding: 0 !important;
  display: none !important;
  box-shadow: var(--kr-shadow-lg) !important;
}

@media (max-width: 767px) {
  .kr-mobile-skills-toggle {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
}

`,
    ENABLE_KEY: 'kr-theme-enabled',
    VARIANT_KEY: 'kr-theme-variant',
    STATS_DISPLAY_KEY: 'kr-stats-display',
    STYLE_ID: 'kraland-theme-style',
    THEME_VARIANTS: ['kraland','empire-brun','paladium','theocratie-seelienne','paradigme-vert','khanat-elmerien','confederation-libre','royaume-ruthvenie','empire-brun-dark','paladium-dark','theocratie-seelienne-dark','paradigme-vert-dark','khanat-elmerien-dark','confederation-libre-dark','royaume-ruthvenie-dark','high-contrast'],
    LOGO_MAP: {
      'kraland': 1, 'empire-brun': 2, 'empire-brun-dark': 2, 'paladium': 3, 'paladium-dark': 3, 
      'theocratie-seelienne': 4, 'theocratie-seelienne-dark': 4, 'paradigme-vert': 5, 'paradigme-vert-dark': 5,
      'khanat-elmerien': 6, 'khanat-elmerien-dark': 6, 'confederation-libre': 7, 'confederation-libre-dark': 7, 
      'royaume-ruthvenie': 8, 'royaume-ruthvenie-dark': 8
    },
    SKILL_ICONS: {
      'Baratin': '9401', 'Combat Mains Nues': '9402', 'Combat Contact': '9403',
      'Combat Distance': '9404', 'Commerce': '9405', 'Démolition': '9406',
      'Discrétion': '9407', 'Éloquence': '9408', 'Falsification': '9409',
      'Foi': '9410', 'Informatique': '9411', 'Médecine': '9412',
      'Observation': '9413', 'Organisation': '9414', 'Pouvoir': '9415',
      'Séduction': '9416', 'Survie': '9417', 'Vol': '9418'
    },
    STAT_ICONS: {
      'FOR': '9402', 'VOL': '9415', 'CHA': '9416',
      'INT': '9412', 'GES': '9405', 'PER': '9413'
    }
  };

  // ============================================================================
  // UTILITAIRES
  // ============================================================================
  
  /** Exécute une fonction en silence (catch les erreurs) */
  function safeCall(fn) {
    try { fn(); } catch(e) { /* ignore */ }
  }

  /** Vérifie si le thème est activé */
  function isThemeEnabled() {
    return localStorage.getItem(CONFIG.ENABLE_KEY) === 'true';
  }

  /** Récupère la variante de thème actuelle */
  function getVariant() {
    return localStorage.getItem(CONFIG.VARIANT_KEY) || 'kraland';
  }

  /** Récupère le mode d'affichage des caractéristiques ('icon' ou 'text') */
  function getStatsDisplayMode() {
    return localStorage.getItem(CONFIG.STATS_DISPLAY_KEY) || 'icon';
  }

  /** Vérifie si on est sur la page /jouer */
  function isPlatoPage() {
    const path = location?.pathname || '';
    return path.indexOf('/jouer') === 0 && 
           path !== '/jouer/communaute' && 
           path !== '/jouer/communaute/membres';
  }

  /** Crée un badge numérique pour les icônes de compétences (rouge, à droite) */
  function createBadge(text) {
    const badge = document.createElement('span');
    badge.className = 'badge';
    badge.textContent = text;
    Object.assign(badge.style, {
      position: 'absolute', top: '25px', right: '-8px',
      backgroundColor: '#d9534f', color: '#fff',
      borderRadius: '50%', width: '19px', height: '19px',
      display: 'flex', alignItems: 'center', justifyContent: 'center',
      fontSize: '11px', fontWeight: 'bold', border: '2px solid #fff'
    });
    return badge;
  }

  /** Crée un badge numérique pour les caractéristiques (bleu, en haut à gauche) */
  function createStatBadge(text) {
    const badge = document.createElement('span');
    badge.className = 'badge';
    badge.textContent = text;
    Object.assign(badge.style, {
      position: 'absolute', top: '25px', right: '-8px',
      backgroundColor: '#007bff', color: '#fff',
      borderRadius: '50%', width: '19px', height: '19px',
      display: 'flex', alignItems: 'center', justifyContent: 'center',
      fontSize: '11px', fontWeight: 'bold', border: '2px solid #fff'
    });
    return badge;
  }

  /** Crée un conteneur d'icône avec badge */
  function createIconContainer(iconUrl, altText, badgeText) {
    const container = document.createElement('div');
    Object.assign(container.style, {
      position: 'relative', display: 'inline-block',
      width: '32px', height: '32px'
    });

    const img = document.createElement('img');
    img.src = iconUrl;
    img.alt = altText;
    img.title = altText;
    Object.assign(img.style, { width: '32px', height: '32px', display: 'block' });
    container.appendChild(img);

    container.appendChild(createBadge(badgeText));
    return container;
  }

  /** Crée un conteneur d'icône avec badge pour caractéristiques */
  function createStatIconContainer(iconUrl, altText, badgeText) {
    const container = document.createElement('div');
    Object.assign(container.style, {
      position: 'relative', display: 'inline-block',
      width: '32px', height: '32px'
    });

    const img = document.createElement('img');
    img.src = iconUrl;
    img.alt = altText;
    img.title = altText;
    Object.assign(img.style, { width: '32px', height: '32px', display: 'block' });
    container.appendChild(img);

    container.appendChild(createStatBadge(badgeText));
    return container;
  }

  // ============================================================================
  // INJECTION CSS IMMÉDIATE (avant tout code async)
  // ============================================================================
  (function injectCSSImmediately(){
    try {
      if (!isThemeEnabled()) return;
      
      const st = document.createElement('style');
      st.id = CONFIG.STYLE_ID;
      st.textContent = CONFIG.BUNDLED_CSS;
      (document.head || document.documentElement).appendChild(st);
      
      const variant = getVariant();
      document.documentElement.classList.add('kr-theme-enabled', 'kr-theme-variant-' + variant);
      if (variant === 'high-contrast') {
        document.documentElement.classList.add('kr-theme-high-contrast');
      }
    } catch(e) { console.error('CSS injection failed', e); }
  })();

  // ============================================================================
  // GESTION DU THÈME
  // ============================================================================
  
  async function applyThemeInline(cssText) {
    if (!isThemeEnabled()) return false;

    try {
      let st = document.getElementById(CONFIG.STYLE_ID);
      if (st) {
        st.textContent = cssText;
      } else {
        st = document.createElement('style');
        st.id = CONFIG.STYLE_ID;
        st.textContent = cssText;
        document.head.appendChild(st);
      }

      document.documentElement.classList.add('kr-theme-enabled');
      const variant = getVariant();
      
      // High contrast
      document.documentElement.classList.toggle('kr-theme-high-contrast', variant === 'high-contrast');
      
      // Variant classes
      CONFIG.THEME_VARIANTS.forEach(v => 
        document.documentElement.classList.remove('kr-theme-variant-' + v)
      );
      if (variant && variant !== 'disable') {
        document.documentElement.classList.add('kr-theme-variant-' + variant);
      }

      // Page members
      const isMembers = location?.pathname?.indexOf('/communaute/membres') === 0;
      document.documentElement.classList.toggle('kr-page-members', isMembers);

      return true;
    } catch(e) { 
      console.error('Theme apply failed', e); 
      return false; 
    }
  }

  async function ensureTheme() {
    if (!isThemeEnabled()) return;
    await applyThemeInline(CONFIG.BUNDLED_CSS);
  }

  function applyThemeVariant(variant, skipReload = false) {
    try {
      if (!variant || variant === 'disable') {
        localStorage.setItem(CONFIG.ENABLE_KEY, 'false');
        if (!skipReload) location.reload();
        return;
      }

      const wasDisabled = !isThemeEnabled();
      localStorage.setItem(CONFIG.ENABLE_KEY, 'true');
      localStorage.setItem(CONFIG.VARIANT_KEY, variant);

      if (wasDisabled && !skipReload) {
        location.reload();
        return;
      }

      // Switch variant sans reload
      CONFIG.THEME_VARIANTS.forEach(v => 
        document.documentElement.classList.remove('kr-theme-variant-' + v)
      );
      document.documentElement.classList.add('kr-theme-variant-' + variant);
      document.documentElement.classList.add('kr-theme-enabled');

      safeCall(() => applyThemeInline(CONFIG.BUNDLED_CSS));
      safeCall(() => replaceNavbarBrand());
    } catch(e) { console.error('applyThemeVariant error', e); }
  }

  function getThemeState() {
    if (localStorage.getItem(CONFIG.ENABLE_KEY) === null) {
      localStorage.setItem(CONFIG.ENABLE_KEY, 'false');
    }
    return isThemeEnabled();
  }

  // ============================================================================
  // TRANSFORMATIONS DOM
  // ============================================================================

  /**
   * Applique l'option de masquage de la citation du footer
   */
  function applyFooterQuoteOption() {
    const hideQuote = localStorage.getItem('kr-hide-footer-quote') === 'true';
    if (hideQuote) {
      document.documentElement.classList.add('kr-hide-footer-quote');
    } else {
      document.documentElement.classList.remove('kr-hide-footer-quote');
    }
  }

  function applyDOMTransformations() {
    if (!isThemeEnabled()) return;

    const transforms = [
      markActiveIcons, replaceMcAnchors, replaceSImages, replaceNavbarBrand,
      reorderBtnGroupXs, ensureSexStrong, ensureFooterSticky, relocateKramailToLeft,
      restructurePlatoColumns, moveBtnGroupToCols, moveSkillsPanelToCols,
      transformToBootstrapGrid, nameLeftSidebarDivs, transformSkillsToIcons,
      transformStatsToNotifications, ensureEditorClasses, ensurePageScoping,
      ensurePlayerMainPanelRows, addQuickAccessButtons, disableTooltips,
      modifyNavigationMenus, transformDashboardToFlexCards, applyFooterQuoteOption,
      handleDualLapClock
    ];

    transforms.forEach(fn => safeCall(fn));
  }

  function disableTooltips() {
    document.querySelectorAll('[data-toggle="tooltip"]').forEach(el => {
      el.removeAttribute('data-toggle');
      el.removeAttribute('data-placement');
      el.removeAttribute('title');
      el.removeAttribute('data-original-title');
    });
    if (window.$ && window.$.fn && window.$.fn.tooltip) {
      window.$.fn.tooltip = function() { return this; };
    }
  }

  /**
   * Extrait les données d'un membre depuis son élément DOM
   */
  /**
   * Extrait les données d'un groupe complet (boutons de groupe + membres avec actions)
   */
  function extractGroupData(panel) {
    const groupData = {
      title: '',
      groupButtons: [],
      members: []
    };

    // Extraire le titre et les boutons du panel-heading
    const panelHeading = panel.querySelector('.panel-heading');
    if (panelHeading) {
      const panelTitle = panelHeading.querySelector('.panel-title');
      if (panelTitle) {
        // Extraire le texte du titre (sans les boutons)
        groupData.title = panelTitle.textContent.trim();
        
        // Extraire les boutons de groupe (avec cloneNode pour préserver événements)
        const buttons = panelTitle.querySelectorAll('a.btn');
        buttons.forEach(btn => {
          groupData.groupButtons.push(btn.cloneNode(true));
        });
      }
    }

    // Extraire les membres et leurs actions individuelles
    const panelBody = panel.querySelector('.panel-body');
    if (!panelBody) return groupData;

    const table = panelBody.querySelector('table');
    if (!table) return groupData;

    const rows = table.querySelectorAll('tr');
    rows.forEach(row => {
      const td1 = row.querySelector('td:first-child');
      const td2 = row.querySelector('td:last-child');
      
      if (!td1 || !td2) return;

      // Récupérer les liens membres (TD1)
      const memberLinks = td1.querySelectorAll('a.list-group-item.ds_game');
      
      // Récupérer les divs d'actions (TD2) - une div de 59px par personnage
      const actionsDivs = td2.querySelectorAll('div[style*="height:59px"]');

      // Associer chaque membre à sa div d'actions par index
      memberLinks.forEach((memberLink, index) => {
        const actionsDiv = actionsDivs[index] || null;
        const memberData = extractMemberData(memberLink, actionsDiv);
        groupData.members.push(memberData);
      });
    });

    return groupData;
  }

  /**
   * Extrait les données d'un membre individuel
   */
  function extractMemberData(memberLink, actionsDiv) {
    const data = {
      originalLink: memberLink, // Garder le lien original pour préserver classes et événements
      avatar: null,
      name: '',
      status: '',
      isPNJ: false,
      worldImage: null,
      hpInfo: null,
      pvLevel: null, // Niveau de PV de 1 à 5 (pdv1.png à pdv5.png)
      profileUrl: '',
      actionsDiv: null // Div contenant les actions de CE personnage uniquement
    };

    // Avatar
    const avatar = memberLink.querySelector('img.pull-left');
    if (avatar) {
      data.avatar = avatar.src;
    }

    // Nom et statut
    const heading = memberLink.querySelector('.list-group-item-heading');
    const text = memberLink.querySelector('.list-group-item-text');
    if (heading) {
      data.name = heading.textContent.trim();
    }
    if (text) {
      data.status = text.textContent.trim();
    }

    // PNJ button
    const pnjButton = memberLink.querySelector('.btn-danger.xmini');
    if (pnjButton) {
      data.isPNJ = true;
    }

    // Icône de monde et HP
    const mention = memberLink.querySelector('.mention.pull-right');
    if (mention) {
      const worldImg = mention.querySelector('img[src*="world"]');
      if (worldImg) {
        data.worldImage = worldImg.src;
      }
      
      // Extraire le niveau de PV depuis l'image pdv1.png à pdv5.png
      const pvImg = mention.querySelector('img[src*="pdv"]');
      if (pvImg) {
        const match = pvImg.src.match(/pdv(\d)\.png/);
        if (match) {
          data.pvLevel = parseInt(match[1], 10); // 1 à 5
        }
      }
      
      // Extraire les HP depuis l'image de barre (fallback)
      const hpDiv = mention.querySelector('div[style*="background"]');
      if (hpDiv) {
        const style = hpDiv.getAttribute('style') || '';
        const match = style.match(/width:\s*(\d+)%/);
        if (match) {
          data.hpInfo = parseInt(match[1], 10);
        }
      }
    }

    // URL du profil
    data.profileUrl = memberLink.href;

    // Cloner la div d'actions de CE personnage uniquement
    if (actionsDiv) {
      data.actionsDiv = actionsDiv.cloneNode(true);
    }

    return data;
  }

  /**
   * Crée un cercle SVG de progression pour les PV
   */
  function createHPCircle(pvLevel) {
    if (!pvLevel) return null;
    
    // Correspondance niveau PV -> couleur et pourcentage
    // pdv1 = 100% (pleine santé), pdv5 = 20% (presque mort)
    const pvConfig = {
      1: { color: '#32CD32', percentage: 100 },  // Vert lime - Pleine santé
      2: { color: '#FFD700', percentage: 80 },   // Jaune/or
      3: { color: '#FF8C00', percentage: 60 },   // Orange foncé
      4: { color: '#DC143C', percentage: 40 },   // Rouge crimson
      5: { color: '#8B0000', percentage: 20 }    // Rouge foncé - Presque mort
    };
    
    const config = pvConfig[pvLevel] || pvConfig[1];
    const radius = 37; // Rayon pour un avatar de 70px (35px) + bordure
    const circumference = 2 * Math.PI * radius;
    const strokeDashoffset = circumference - (circumference * config.percentage / 100);
    
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttribute('class', 'dashboard-card-hp-circle');
    svg.setAttribute('width', '82');
    svg.setAttribute('height', '82');
    svg.setAttribute('viewBox', '0 0 82 82');
    
    // Cercle de fond (gris)
    const bgCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    bgCircle.setAttribute('cx', '41');
    bgCircle.setAttribute('cy', '41');
    bgCircle.setAttribute('r', radius);
    bgCircle.setAttribute('fill', 'none');
    bgCircle.setAttribute('stroke', 'rgba(0,0,0,0.1)');
    bgCircle.setAttribute('stroke-width', '3');
    
    // Cercle de progression (coloré)
    const progressCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    progressCircle.setAttribute('cx', '41');
    progressCircle.setAttribute('cy', '41');
    progressCircle.setAttribute('r', radius);
    progressCircle.setAttribute('fill', 'none');
    progressCircle.setAttribute('stroke', config.color);
    progressCircle.setAttribute('stroke-width', '4');
    progressCircle.setAttribute('stroke-linecap', 'round');
    progressCircle.setAttribute('stroke-dasharray', circumference);
    progressCircle.setAttribute('stroke-dashoffset', strokeDashoffset);
    progressCircle.setAttribute('transform', 'rotate(-90 41 41)');
    
    svg.appendChild(bgCircle);
    svg.appendChild(progressCircle);
    
    return svg;
  }

  /**
   * Crée une card pour un membre
   */
  function buildCard(memberData, isLargeCard = false) {
    const card = document.createElement('div');
    card.className = isLargeCard ? 'dashboard-card dashboard-card-large' : 'dashboard-card';

    // Cloner le lien original pour préserver toutes les classes et événements
    const cardLink = memberData.originalLink.cloneNode(false);
    cardLink.classList.add('dashboard-card-link');
    // Vider le contenu pour reconstruire

    // Header avec avatar, drapeau et nom
    const header = document.createElement('div');
    header.className = 'dashboard-card-header';

    if (memberData.avatar) {
      // Créer un wrapper pour l'avatar avec le cercle de PV
      const avatarWrapper = document.createElement('div');
      avatarWrapper.className = 'dashboard-card-avatar-wrapper';
      
      // Ajouter le cercle SVG si on a l'info des PV
      if (memberData.pvLevel) {
        const hpCircle = createHPCircle(memberData.pvLevel);
        if (hpCircle) {
          avatarWrapper.appendChild(hpCircle);
        }
      }
      
      // Ajouter l'avatar
      const avatarImg = document.createElement('img');
      avatarImg.src = memberData.avatar;
      avatarImg.className = 'dashboard-card-avatar';
      avatarImg.alt = memberData.name;
      
      // Appliquer un filtre gris si le personnage est KO (pdv5)
      if (memberData.pvLevel === 5) {
        avatarImg.style.filter = 'grayscale(100%)';
        avatarImg.style.opacity = '0.7';
      }
      
      avatarWrapper.appendChild(avatarImg);
      
      header.appendChild(avatarWrapper);
    }

    // Conteneur pour le drapeau et le nom
    const nameContainer = document.createElement('div');
    nameContainer.className = 'dashboard-card-name-container';

    if (memberData.worldImage) {
      const worldImg = document.createElement('img');
      worldImg.src = memberData.worldImage;
      worldImg.className = 'dashboard-card-world';
      worldImg.alt = 'World';
      nameContainer.appendChild(worldImg);
    }

    const nameDiv = document.createElement('div');
    nameDiv.className = 'dashboard-card-name';
    nameDiv.textContent = memberData.name;
    nameContainer.appendChild(nameDiv);

    header.appendChild(nameContainer);
    cardLink.appendChild(header);

    // Body avec statut uniquement (pas de monde, il sera dans les actions)
    const body = document.createElement('div');
    body.className = 'dashboard-card-body';

    if (memberData.status) {
      const statusDiv = document.createElement('div');
      statusDiv.className = 'dashboard-card-status';
      statusDiv.textContent = memberData.status;
      body.appendChild(statusDiv);
    }

    cardLink.appendChild(body);
    card.appendChild(cardLink);

    // Barre de HP
    if (memberData.hpInfo !== null) {
      const hpBar = document.createElement('div');
      hpBar.className = 'dashboard-card-hp';
      
      const hpFill = document.createElement('div');
      hpFill.className = 'dashboard-card-hp-fill';
      hpFill.style.width = memberData.hpInfo + '%';
      
      // Couleur selon le pourcentage
      if (memberData.hpInfo > 70) {
        hpFill.style.backgroundColor = '#5cb85c'; // vert
      } else if (memberData.hpInfo > 30) {
        hpFill.style.backgroundColor = '#f0ad4e'; // jaune
      } else {
        hpFill.style.backgroundColor = '#d9534f'; // rouge
      }
      
      hpBar.appendChild(hpFill);
      card.appendChild(hpBar);
    }

    // Bouton PNJ
    if (memberData.isPNJ) {
      const pnjBadge = document.createElement('span');
      pnjBadge.className = 'dashboard-card-pnj';
      pnjBadge.textContent = 'PNJ';
      card.appendChild(pnjBadge);
    }

    // Actions individuelles de CE personnage
    if (memberData.actionsDiv) {
      const actionsWrapper = document.createElement('div');
      actionsWrapper.className = 'dashboard-card-actions';
      
      // Extraire les liens d'action individuels (ignorer les divs conteneurs)
      const actionLinks = memberData.actionsDiv.querySelectorAll('a');
      actionLinks.forEach(link => {
        actionsWrapper.appendChild(link.cloneNode(true));
      });
      
      card.appendChild(actionsWrapper);
    }

    return card;
  }

  /**
   * Transforme le dashboard en système de flex cards
   */
  function transformDashboardToFlexCards() {
    if (!isPlatoPage()) return;

    const dashboard = document.querySelector('.dashboard');
    if (!dashboard) return;

    const panels = dashboard.querySelectorAll(':scope > .panel');
    if (!panels.length) return;

    // Créer le nouveau conteneur flex
    const flexContainer = document.createElement('div');
    flexContainer.className = 'dashboard-flex';

    // Tableau de groupes avec leurs données complètes
    const groups = [];
    let firstPlayerPanelFound = false;

    // Extraire toutes les données par groupe
    panels.forEach(panel => {
      const panelBody = panel.querySelector('.panel-body');
      if (!panelBody) return;

      const table = panelBody.querySelector('table');
      if (!table) return;

      // Vérifier si c'est un panel de groupe de personnages (titre contient "Groupe")
      const panelTitle = panel.querySelector('.panel-heading .panel-title');
      const titleText = panelTitle ? panelTitle.textContent.trim() : '';
      if (!titleText.toLowerCase().includes('groupe')) return;

      // Extraire toutes les données du groupe (titre, boutons, membres)
      const groupData = extractGroupData(panel);
      
      if (groupData.members.length === 0) return;

      // Le premier panel avec des personnages = Mon groupe
      const isMyGroup = !firstPlayerPanelFound;
      if (titleText.toLowerCase().includes('groupe')) firstPlayerPanelFound = true;

      groups.push({
        isMyGroup: isMyGroup,
        title: groupData.title,
        groupButtons: groupData.groupButtons,
        members: groupData.members
      });
    });

    // Ne transformer que si on a trouvé au moins un groupe
    if (groups.length === 0) return;

    // Construire les sections pour chaque groupe
    groups.forEach((group, index) => {
      const groupSection = document.createElement('div');
      groupSection.className = group.isMyGroup 
        ? 'dashboard-section dashboard-section-mygroup' 
        : 'dashboard-section dashboard-section-others';

      // En-tête de section avec titre et boutons de groupe
      const header = document.createElement('div');
      header.className = 'dashboard-section-header';
      
      // Ajouter les boutons de groupe en premier
      if (group.groupButtons && group.groupButtons.length > 0) {
        const buttonsWrapper = document.createElement('div');
        buttonsWrapper.className = 'dashboard-group-buttons';
        group.groupButtons.forEach(btn => {
          buttonsWrapper.appendChild(btn);
        });
        header.appendChild(buttonsWrapper);
      }
      
      // Ajouter le titre du groupe
      const titleSpan = document.createElement('span');
      titleSpan.className = 'dashboard-group-title';
      
      if (group.isMyGroup) {
        // Extraire le nom sans les icônes
        const titleText = group.title.replace(/\s*Groupe\s+/i, '');
        titleSpan.textContent = titleText || 'Mon groupe';
      } else {
        // Extraire le nom du groupe
        const titleText = group.title.replace(/\s*Groupe\s+/i, '');
        titleSpan.textContent = titleText || `Groupe de ${group.members[0]?.name || 'Inconnu'}`;
      }
      
      header.appendChild(titleSpan);
      groupSection.appendChild(header);

      // Grille des cartes
      const cardsContainer = document.createElement('div');
      cardsContainer.className = group.isMyGroup 
        ? 'dashboard-cards-grid dashboard-cards-large'
        : 'dashboard-cards-grid';

      group.members.forEach(member => {
        cardsContainer.appendChild(buildCard(member, group.isMyGroup));
      });

      groupSection.appendChild(cardsContainer);
      flexContainer.appendChild(groupSection);
    });

    // Remplacer le contenu du dashboard
    dashboard.innerHTML = '';
    dashboard.appendChild(flexContainer);
  }

  function modifyNavigationMenus() {
    // Modification des liens des boutons principaux du menu
    const menuLinks = {
      'Jouer': 'jouer/plateau',
      'Règles': 'regles/avancees',
      'Monde': 'monde/evenements',
      'Communauté': 'communaute/membres'
    };
    
    let forumOriginalItem = null;
    
    // Modification des liens existants et ajout du comportement de redirection
    document.querySelectorAll('.navbar-nav .dropdown > a.dropdown-toggle').forEach(link => {
      const text = link.textContent.trim().replace(/\s*\n.*$/, '');
      
      // Traiter le menu Forum séparément (le menu original avant transformation)
      if (text.startsWith('Forum') && !text.includes('HRP') && !text.includes('RP')) {
        forumOriginalItem = link.closest('li.dropdown');
        return;
      }
      
      const menuKey = Object.keys(menuLinks).find(key => text.includes(key));
      if (menuKey && menuLinks[menuKey]) {
        link.href = menuLinks[menuKey];
        
        // Supprimer data-toggle pour empêcher le dropdown et forcer la navigation
        link.removeAttribute('data-toggle');
        
        // Marquer comme modifié pour éviter de ré-ajouter l'événement
        if (!link.hasAttribute('data-nav-modified')) {
          link.setAttribute('data-nav-modified', 'true');
          
          // S'assurer que le clic navigue vers la nouvelle URL
          link.addEventListener('click', function(e) {
            e.preventDefault();
            window.location.href = this.href;
            return false;
          });
        }
      }
    });
    
    // Remplacer le menu Forum original par Forum RP et Forum HRP
    if (forumOriginalItem && !document.querySelector('[data-forums-added]')) {
      // Récupérer le dropdown menu original pour le cloner
      const originalDropdown = forumOriginalItem.querySelector('.dropdown-menu');
      
      // Créer Forum RP
      const forumRpLi = document.createElement('li');
      forumRpLi.className = 'dropdown';
      forumRpLi.setAttribute('data-forums-added', 'rp');
      forumRpLi.innerHTML = `
        <a href="forum/rp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">
          Forum RP <span class="caret"></span>
        </a>
        <ul class="dropdown-menu" role="menu">
          <li><a href="forum/rp/taverne-10101">Taverne</a></li>
          <li><a href="forum/rp/marche-10102">Marché</a></li>
          <li><a href="forum/rp/monde-10103">Monde</a></li>
          <li class="divider"></li>
          <li><a href="forum/rp">Autre</a></li>
        </ul>
      `;
      
      // Créer Forum HRP en clonant le dropdown original
      const forumHrpLi = document.createElement('li');
      forumHrpLi.className = 'dropdown';
      forumHrpLi.setAttribute('data-forums-added', 'hrp');
      forumHrpLi.innerHTML = `
        <a href="forum/hrp" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">
          Forum HRP <span class="caret"></span>
        </a>
      `;
      
      // Cloner le dropdown original et supprimer uniquement le lien "Jeu (RP)"
      if (originalDropdown) {
        const clonedDropdown = originalDropdown.cloneNode(true);
        // Supprimer le lien "Jeu (RP)" du dropdown cloné
        const rpLink = Array.from(clonedDropdown.querySelectorAll('li > a'))
          .find(a => a.textContent.includes('Jeu (RP)'));
        if (rpLink) {
          rpLink.parentElement.remove();
        }
        forumHrpLi.appendChild(clonedDropdown);
      }
      
      // Insérer Forum RP avant le Forum original
      forumOriginalItem.parentElement.insertBefore(forumRpLi, forumOriginalItem);
      // Insérer Forum HRP après Forum RP (donc avant l'original aussi)
      forumOriginalItem.parentElement.insertBefore(forumHrpLi, forumOriginalItem);
      // Supprimer le menu Forum original
      forumOriginalItem.remove();
      
      // Ajouter les comportements de navigation directe
      const forumRpLink = forumRpLi.querySelector('a.dropdown-toggle');
      if (forumRpLink) {
        forumRpLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = this.href;
          return false;
        });
      }
      
      const forumHrpLink = forumHrpLi.querySelector('a.dropdown-toggle');
      if (forumHrpLink) {
        forumHrpLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = this.href;
          return false;
        });
      }
    }
    
    // Ajout du menu Statistiques (une seule fois)
    const communauteItem = Array.from(document.querySelectorAll('.navbar-nav > li.dropdown'))
      .find(li => li.querySelector('a.dropdown-toggle')?.textContent.includes('Communauté'));
    
    if (communauteItem && !document.querySelector('[data-stats-menu-added]')) {
      const statsLi = document.createElement('li');
      statsLi.className = 'dropdown';
      statsLi.setAttribute('data-stats-menu-added', 'true');
      statsLi.innerHTML = `
        <a href="monde/citoyens" class="dropdown-toggle" role="button" aria-expanded="false" data-nav-modified="true">
          Statistiques <span class="caret"></span>
        </a>
        <ul class="dropdown-menu" role="menu">
          <li><a href="communaute/stats">Communautés</a></li>
          <li><a href="monde/citoyens">Citoyens</a></li>
        </ul>
      `;
      
      communauteItem.parentElement.insertBefore(statsLi, communauteItem.nextSibling);
      
      // Ajouter le comportement de navigation directe pour le menu Statistiques
      const statsLink = statsLi.querySelector('a.dropdown-toggle');
      if (statsLink) {
        statsLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = this.href;
          return false;
        });
      }
    }
  }

  function markActiveIcons() {
    const markers = [
      { text: 'Membres actifs', cls: 'kr-icon-members' },
      { text: 'Personnages actifs', cls: 'kr-icon-characters' },
      { text: 'Personnes en ligne', cls: 'kr-icon-online' },
      { text: 'Présentation', cls: 'kr-icon-presentation' },
      { text: 'Médailles', cls: 'kr-icon-medals' }
    ];

    markers.forEach(m => 
      document.querySelectorAll('.' + m.cls).forEach(n => n.classList.remove(m.cls))
    );

    const all = Array.from(document.querySelectorAll('*'));
    markers.forEach(m => {
      let best = null;
      for (const el of all) {
        const txt = (el.textContent || '').trim();
        if (!txt.includes(m.text)) continue;
        const hasIcon = !!el.querySelector('i.fa, i.falarge, .glyphicon, svg');
        const score = (hasIcon ? 100 : 0) + Math.max(0, 200 - Math.min(txt.length, 200));
        if (!best || score > best.score) best = { el, score };
      }
      if (best?.el) best.el.classList.add(m.cls);
    });
  }

  function replaceMcAnchors() {
    Array.from(document.querySelectorAll('a'))
      .filter(a => (a.textContent || '').trim() === 'MC')
      .forEach(a => {
        a.classList.add('kr-mc-icon');
        const title = a.getAttribute('data-original-title') || a.getAttribute('title') || 
                      (a.classList.contains('open') ? 'ouvrir le mini-chat' : 'fermer le mini-chat');
        if (title) a.setAttribute('aria-label', title);
        a.removeAttribute('aria-hidden');
      });
  }

  function replaceNavbarBrand() {
    const brand = document.querySelector('.navbar-brand');
    if (!brand) return;

    const variant = getVariant();
    const idx = CONFIG.LOGO_MAP[variant] || 1;
    const url = `http://img7.kraland.org/2/world/logo${idx}.gif`;
    
    const existing = brand.querySelector('img.kr-logo');
    if (existing?.src?.includes(`logo${idx}.gif`)) return;

    brand.innerHTML = '';
    const img = document.createElement('img');
    img.className = 'kr-logo';
    img.src = url;
    img.alt = 'Kraland';
    img.style.height = '28px';
    img.style.verticalAlign = 'middle';
    brand.appendChild(img);
  }

  function replaceSImages() {
    const map = { 's1.gif': '♂', 's2.gif': '♀', 's3.gif': '⚧' };
    const imgs = Array.from(document.querySelectorAll('img'))
      .filter(i => /img7\.kraland\.org\/.+\/(s[123]\.gif)$/.test(i.src));

    imgs.forEach(img => {
      const m = img.src.match(/(s[123]\.gif)$/);
      const key = m?.[1];
      const ch = map[key] || '';

      const span = document.createElement('span');
      span.className = 'kr-symbol kr-symbol-' + (key || 's');
      span.setAttribute('aria-hidden', 'true');
      span.textContent = ch;

      if (img.alt) {
        const sr = document.createElement('span');
        sr.className = 'kr-sr-only';
        sr.textContent = img.alt;
        span.appendChild(sr);
      }

      const sexAncestor = img.closest('[id*="sex"]');
      if (sexAncestor) {
        const strong = document.createElement('strong');
        strong.appendChild(span);
        img.replaceWith(strong);
      } else {
        img.replaceWith(span);
      }
    });
  }

  function reorderBtnGroupXs() {
    document.querySelectorAll('span.btn-group-xs').forEach(btn => {
      const parent = btn.parentElement;
      if (!parent) return;

      const strong = parent.querySelector('strong');
      if (strong && strong.parentElement === parent && btn.nextElementSibling !== strong) {
        parent.insertBefore(btn, strong);
        return;
      }

      const textNode = Array.from(parent.childNodes)
        .find(n => n.nodeType === 3 && n.textContent?.trim().length > 0);
      if (textNode && btn.nextSibling !== textNode) {
        parent.insertBefore(btn, textNode);
      }
    });
  }

  function ensureSexStrong() {
    document.querySelectorAll('[id*="ajax-sex"]').forEach(el => {
      if (el.querySelector('strong')) return;

      const sym = el.querySelector('.kr-symbol');
      if (sym) {
        const strong = document.createElement('strong');
        sym.parentElement.replaceChild(strong, sym);
        strong.appendChild(sym);
        return;
      }

      const tn = Array.from(el.childNodes)
        .find(n => n.nodeType === 3 && n.textContent?.trim().length > 0);
      if (tn) {
        const txt = tn.textContent.trim();
        const strong = document.createElement('strong');
        strong.textContent = txt;
        tn.textContent = tn.textContent.replace(txt, '');
        tn.parentElement.insertBefore(strong, tn.nextSibling);
      }
    });
  }

  function ensureFooterSticky() {
    const footer = document.querySelector('footer, .footer, .contentinfo');
    if (!footer) return;
    
    // Déplacer le footer à la fin du body pour que le flexbox fonctionne correctement
    if (footer.nextSibling !== null) {
      document.body.appendChild(footer);
    }

    const selectors = ['a[href="#top"]', 'a.to-top', '.back-to-top', '.scroll-top', 'a.well.well-sm'];
    let back = null;
    for (const s of selectors) {
      back = document.querySelector(s);
      if (back) break;
    }

    if (back) {
      back.classList.add('kraland-back-to-top');
      if (!back.getAttribute('aria-label')) back.setAttribute('aria-label', 'Remonter en haut');
      const whiteContainer = footer.querySelector('.container.white');
      if (whiteContainer) {
        whiteContainer.appendChild(back);
      } else if (back.parentElement !== footer) {
        footer.appendChild(back);
      }
    }

    // Bootstrap 3.3 sticky footer: use margin-bottom on body
    if (!document.body.style.marginBottom) {
      document.body.style.marginBottom = '60px';
    }
  }

  function relocateKramailToLeft() {
    const colT = document.getElementById('col-t');
    const colLeft = document.getElementById('col-left');
    if (!colT || !colLeft) return;

    // Supprimer les blocs Kramail
    colT.querySelectorAll('a[href*="kramail"]').forEach(a => {
      const container = a.closest('div,section,li,article');
      if (container && container !== colT && container.id !== 'col-t') {
        container.remove();
      } else {
        a.remove();
      }
    });

    // Sélectionner les éléments à déplacer
    const selectors = ['.ds_users', '.ds_characters', '.ds_online'].map(c => `a${c}`);
    let toMove = [];
    selectors.forEach(sel => toMove.push(...colT.querySelectorAll(sel)));

    if (toMove.length < 3) {
      const texts = ['Membres actifs', 'Personnages actifs', 'Personnes en ligne'];
      texts.forEach(txt => {
        const el = Array.from(colT.querySelectorAll('a, li, div, p'))
          .find(n => n.textContent?.includes(txt));
        if (el && !toMove.includes(el)) toMove.push(el);
      });
    }

    toMove = toMove.filter(el => el && !colLeft.contains(el));
    if (!toMove.length) return;

    let container = colLeft.querySelector('.kraland-metrics');
    if (!container) {
      container = document.createElement('div');
      container.className = 'kraland-metrics list-group';
      colLeft.appendChild(container);
    }

    toMove.forEach(el => container.appendChild(el));
  }

  function restructurePlatoColumns() {
    if (!isPlatoPage()) return;

    const colLeft = document.getElementById('col-left');
    const colRight = document.getElementById('col-right');
    if (!colLeft || !colRight) return;

    const parent = colLeft.parentElement;
    if (!parent?.classList.contains('row')) return;

    let colLeftest = document.getElementById('col-leftest');
    if (!colLeftest) {
      colLeftest = document.createElement('div');
      colLeftest.id = 'col-leftest';
      colLeftest.className = 'col-md-1';
      parent.insertBefore(colLeftest, colLeft);
    }

    if (colRight.classList.contains('col-md-9')) {
      colRight.classList.remove('col-md-9');
      colRight.classList.add('col-md-8');
    }
  }

  function moveBtnGroupToCols() {
    if (!isPlatoPage()) return;

    const btnGroupXs = document.querySelector('.btn-group-xs.center');
    const colLeftest = document.getElementById('col-leftest');
    if (!btnGroupXs || !colLeftest || colLeftest.contains(btnGroupXs)) return;

    let wrapper = document.getElementById('col-leftest-stats');
    if (!wrapper) {
      wrapper = document.createElement('div');
      wrapper.id = 'col-leftest-stats';
      wrapper.className = 'panel panel-body';
      colLeftest.appendChild(wrapper);
    }

    if (!wrapper.contains(btnGroupXs)) {
      wrapper.appendChild(btnGroupXs);
    }
  }

  function transformToBootstrapGrid() {
    const colLeftestStats = document.getElementById('col-leftest-stats');
    const skillsPanel = document.getElementById('skills-panel');

    if (colLeftestStats && !colLeftestStats.classList.contains('grid-transformed')) {
      const btnGroup = colLeftestStats.querySelector('.btn-group-xs');
      if (btnGroup) {
        const buttons = Array.from(btnGroup.querySelectorAll('a.btn'));
        if (buttons.length > 0) {
          colLeftestStats.innerHTML = '';
          const row = document.createElement('div');
          row.className = 'row';
          buttons.forEach(btn => {
            const col = document.createElement('div');
            col.className = 'col-md-6';
            col.style.display = 'flex';
            col.style.justifyContent = 'center';
            col.style.alignItems = 'center';
            col.style.marginBottom = '8px';
            col.appendChild(btn);
            row.appendChild(col);
          });
          colLeftestStats.appendChild(row);
          colLeftestStats.classList.add('grid-transformed');
        }
      }
    }

    if (skillsPanel && !skillsPanel.classList.contains('grid-transformed')) {
      const items = Array.from(skillsPanel.querySelectorAll('a.list-group-item'));
      if (items.length > 0) {
        skillsPanel.innerHTML = '';
        const row = document.createElement('div');
        row.className = 'row';
        items.forEach(item => {
          const col = document.createElement('div');
          col.className = 'col-md-6';
          col.style.display = 'flex';
          col.style.justifyContent = 'center';
          col.style.alignItems = 'center';
          col.style.marginBottom = '8px';
          col.appendChild(item);
          row.appendChild(col);
        });
        skillsPanel.appendChild(row);
        skillsPanel.classList.add('grid-transformed');
      }
    }
  }

  function moveSkillsPanelToCols() {
    const colLeft = document.getElementById('col-left');
    const colLeftest = document.getElementById('col-leftest');
    if (!colLeft || !colLeftest) return;

    const skillsPanelOld = colLeft.querySelector('.panel.panel-default');
    if (!skillsPanelOld) return;

    const panelBody = skillsPanelOld.querySelector('.panel-body');
    if (!panelBody || panelBody.id) return;

    panelBody.id = 'skills-panel';
    colLeftest.appendChild(panelBody);
    skillsPanelOld.remove();
  }

  function nameLeftSidebarDivs() {
    const colLeft = document.getElementById('col-left');
    if (!colLeft) return;

    const mainPanel = colLeft.querySelector('.panel.panel-body');
    if (mainPanel && !mainPanel.id) mainPanel.id = 'player-main-panel';

    const headerSection = colLeft.querySelector('.list-group');
    if (headerSection && !headerSection.id) headerSection.id = 'player-header-section';

    const vitalsSection = colLeft.querySelector('div.t.row');
    if (vitalsSection && !vitalsSection.id) vitalsSection.id = 'player-vitals-section';

    const allTDivs = Array.from(colLeft.querySelectorAll('div.t'));
    if (allTDivs.length > 0) {
      const actionsSection = allTDivs[allTDivs.length - 1];
      if (!actionsSection.id && actionsSection.querySelector('a.btn-primary')) {
        actionsSection.id = 'player-actions-section';
      }
    }
  }

  function transformSkillsToIcons() {
    const skillsPanel = document.getElementById('skills-panel');
    if (!skillsPanel || skillsPanel.dataset.iconsTransformed) return;

    skillsPanel.querySelectorAll('.list-group-item').forEach(item => {
      const heading = item.querySelector('.list-group-item-heading');
      const skillName = heading?.querySelector('.mini')?.textContent || '';
      const level = item.querySelector('.mention')?.textContent || '0';
      const iconCode = CONFIG.SKILL_ICONS[skillName];
      if (!iconCode) return;

      const iconUrl = `http://img7.kraland.org/2/mat/94/${iconCode}.gif`;
      const originalClasses = item.className;
      item.className = originalClasses + ' btn btn-default mini';
      item.innerHTML = '';

      const iconContainer = createIconContainer(iconUrl, skillName, level);
      Object.assign(item.style, {
        display: 'flex', alignItems: 'center',
        justifyContent: 'center', padding: '8px',
        width: '40px', height: '40px',
        minWidth: '40px', minHeight: '40px'
      });
      item.appendChild(iconContainer);
    });

    skillsPanel.dataset.iconsTransformed = '1';
  }

  function transformStatsToNotifications() {
    const colLeftestStats = document.getElementById('col-leftest-stats');
    if (!colLeftestStats || colLeftestStats.dataset.badgesTransformed) return;

    colLeftestStats.querySelectorAll('.col-md-6 > a.btn').forEach(statBtn => {
      const text = statBtn.textContent.trim();
      const match = text.match(/^([A-Z]+)/);
      const cleanStatName = match ? match[1] : text;
      const levelMatch = text.match(/(\d+)$/);
      const number = levelMatch ? levelMatch[1] : '0';

      while (statBtn.firstChild) statBtn.removeChild(statBtn.firstChild);

      const originalClasses = statBtn.className;
      statBtn.className = originalClasses + ' list-group-item ds_game';
      Object.assign(statBtn.style, {
        padding: '8px', display: 'flex',
        alignItems: 'center', justifyContent: 'center',
        width: '40px', height: '40px',
        minWidth: '40px', minHeight: '40px'
      });
      statBtn.title = cleanStatName;

      const displayMode = getStatsDisplayMode();

      // Créer le conteneur principal (toujours avec badge)
      const container = document.createElement('div');
      Object.assign(container.style, {
        position: 'relative', display: 'inline-block',
        width: '32px', height: '32px'
      });

      if (displayMode === 'text') {
        // Mode texte : afficher uniquement l'abréviation (3 lettres)
        const textSpan = document.createElement('span');
        textSpan.textContent = cleanStatName.substring(0, 3).toUpperCase();
        Object.assign(textSpan.style, {
          fontWeight: 'bold',
          fontSize: '14px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          width: '32px',
          height: '32px'
        });
        container.appendChild(textSpan);
      } else {
        // Mode icône (par défaut)
        const iconCode = CONFIG.STAT_ICONS[cleanStatName];
        if (iconCode) {
          const iconUrl = `http://img7.kraland.org/2/mat/94/${iconCode}.gif`;
          const img = document.createElement('img');
          img.src = iconUrl;
          img.alt = cleanStatName;
          img.title = cleanStatName;
          Object.assign(img.style, {
            display: 'block', width: '32px', height: '32px'
          });
          container.appendChild(img);
        } else {
          // Fallback SVG
          const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
          svg.setAttribute('width', '32');
          svg.setAttribute('height', '32');
          svg.setAttribute('viewBox', '0 0 32 32');
          svg.style.display = 'block';

          const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
          rect.setAttribute('width', '32');
          rect.setAttribute('height', '32');
          rect.setAttribute('fill', '#f0f0f0');
          rect.setAttribute('stroke', '#ccc');
          svg.appendChild(rect);

          const svgText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
          svgText.setAttribute('x', '16');
          svgText.setAttribute('y', '20');
          svgText.setAttribute('text-anchor', 'middle');
          svgText.setAttribute('font-size', '14');
          svgText.setAttribute('font-weight', 'bold');
          svgText.setAttribute('fill', '#333');
          svgText.textContent = cleanStatName.substring(0, 2).toUpperCase();
          svg.appendChild(svgText);

          container.appendChild(svg);
        }
      }

      // Toujours ajouter le badge de notification
      container.appendChild(createStatBadge(number));
      statBtn.appendChild(container);
    });

    colLeftestStats.dataset.badgesTransformed = '1';
  }

  function ensureEditorClasses() {
    const selectors = [
      '[id^="ajax-"] form#msg', '[id^="ajax-"] textarea',
      '.col-sm-10 form#msg', '.col-sm-10 textarea#message',
      'form[name="post_msg"]', 'textarea#message'
    ];
    
    document.querySelectorAll(selectors.join(',')).forEach(el => {
      const root = el.tagName?.toLowerCase() === 'form' ? el : (el.closest('form') || el.parentElement);
      if (root && !root.classList.contains('editeur-text')) {
        root.classList.add('editeur-text');
      }
    });
  }

  function ensurePageScoping() {
    const isMembers = location?.pathname?.indexOf('/communaute/membres') === 0;
    document.documentElement.classList.toggle('kr-page-members', isMembers);
  }

  function ensurePlayerMainPanelRows() {
    const panel = document.getElementById('player-main-panel');
    if (!panel) return;

    Array.from(panel.children)
      .filter(child => child.tagName?.toLowerCase() === 'div')
      .filter(div => !div.classList.contains('kr-quick-access-buttons'))
      .forEach(div => {
        if (!div.classList.contains('row')) div.classList.add('row');
      });
  }

  function addQuickAccessButtons() {
    const panel = document.getElementById('player-main-panel');
    if (!panel) return;
    
    // Vérifier si les boutons ont déjà été ajoutés
    if (panel.querySelector('.kr-quick-access-buttons')) return;
    
    // Définir les boutons
    const buttons = [
      { label: 'Agir', url: '/jouer/plateau', icon: 'fa-map' },
      { label: 'Matériel', url: '/jouer/materiel', icon: 'fa-box' },
      { label: 'Personnage', url: '/jouer/perso', icon: 'fa-user' },
      { label: 'Bâtiments', url: '/jouer/bat', icon: 'fa-building' },
      { label: 'Employés', url: '/jouer/pnj', icon: 'fa-users' }
    ];
    
    // Créer le conteneur principal avec le système de grille Bootstrap
    const container = document.createElement('div');
    container.className = 'kr-quick-access-buttons';
    container.style.marginTop = '10px';
    
    const row = document.createElement('div');
    row.className = 'row';
    
    // Créer chaque bouton avec une colonne Bootstrap (2 par ligne)
    buttons.forEach(btn => {
      const col = document.createElement('div');
      col.className = 'col-xs-6 col-sm-6';
      
      const link = document.createElement('a');
      link.href = btn.url;
      link.className = 'btn btn-default btn-block mini';
      
      const icon = document.createElement('i');
      icon.className = `fa ${btn.icon}`;
      
      link.appendChild(icon);
      link.appendChild(document.createTextNode(' ' + btn.label));
      
      col.appendChild(link);
      row.appendChild(col);
    });
    
    container.appendChild(row);
    
    // Ajouter les boutons à la fin du panneau
    panel.appendChild(container);
  }

  // ============================================================================
  // UI CONTROLS
  // ============================================================================

  function insertToggleCSSButton() {
    if (document.getElementById('kr-toggle-css-btn')) return;

    const mapBtn = Array.from(document.querySelectorAll('a'))
      .find(a => a.getAttribute('onclick')?.includes('openMap'));
    if (!mapBtn) return;

    const mapLi = mapBtn.closest('li');
    if (!mapLi?.parentElement) return;

    const newLi = document.createElement('li');
    const toggleBtn = document.createElement('a');
    toggleBtn.href = '';
    toggleBtn.id = 'kr-toggle-css-btn';
    toggleBtn.innerHTML = '<i class="fa fa-palette"></i>';

    function updateTitle() {
      toggleBtn.title = isThemeEnabled() 
        ? 'Désactiver la surcharge CSS' 
        : 'Activer la surcharge CSS';
    }
    updateTitle();

    toggleBtn.addEventListener('click', e => {
      e.preventDefault();
      if (isThemeEnabled()) {
        applyThemeVariant('disable');
      } else {
        applyThemeVariant(getVariant());
      }
      return false;
    });

    newLi.appendChild(toggleBtn);
    mapLi.parentElement.insertBefore(newLi, mapLi);
  }

  function insertTampermonkeyThemeUI() {
    if (!location?.href?.includes('/profil/interface')) return;

    function tryInsert() {
      const headings = Array.from(document.querySelectorAll('h4, h3, h2'));
      const target = headings.find(h => 
        h.textContent?.trim().toLowerCase().includes('thème de base')
      );
      if (!target) return false;
      if (document.getElementById('kr-tamper-theme')) return true;

      const themeOptions = [
        { value: 'disable', flag: 'f0', label: 'Désactiver la surcharge CSS' },
        { value: 'kraland', flag: 'f1', label: 'République de Kraland' },
        { value: 'empire-brun', flag: 'f2', label: 'Empire Brun' },
        { value: 'empire-brun-dark', flag: 'f2', label: 'Empire Brun (Dark Mode)' },
        { value: 'paladium', flag: 'f3', label: 'Paladium Corporation' },
        { value: 'paladium-dark', flag: 'f3', label: 'Paladium Corporation (Dark Mode)' },
        { value: 'theocratie-seelienne', flag: 'f4', label: 'Théocratie Seelienne' },
        { value: 'theocratie-seelienne-dark', flag: 'f4', label: 'Théocratie Seelienne (Dark Mode)' },
        { value: 'paradigme-vert', flag: 'f5', label: 'Paradigme Vert' },
        { value: 'paradigme-vert-dark', flag: 'f5', label: 'Paradigme Vert (Dark Mode)' },
        { value: 'khanat-elmerien', flag: 'f6', label: 'Khanat Elmérien' },
        { value: 'khanat-elmerien-dark', flag: 'f6', label: 'Khanat Elmérien (Dark Mode)' },
        { value: 'confederation-libre', flag: 'f7', label: 'Confédération Libre' },
        { value: 'confederation-libre-dark', flag: 'f7', label: 'Confédération Libre (Dark Mode)' },
        { value: 'royaume-ruthvenie', flag: 'f8', label: 'Royaume de Ruthvénie' },
        { value: 'royaume-ruthvenie-dark', flag: 'f8', label: 'Royaume de Ruthvénie (Dark Mode)' }
      ];

      const radios = themeOptions.map(opt => `
        <div class="radio">
          <span class="lefticon"><img src="http://img7.kraland.org/2/world/${opt.flag}.png" width="15" height="10"></span>
          <label><input type="radio" name="kr-theme" value="${opt.value}"> ${opt.label}</label>
        </div>
      `).join('');

      const statsDisplayRadios = `
        <div class="radio">
          <label><input type="radio" name="kr-stats-display" value="icon"> Icônes</label>
        </div>
        <div class="radio">
          <label><input type="radio" name="kr-stats-display" value="text"> Texte</label>
        </div>
      `;

      const hideQuoteCheckbox = `
        <div class="checkbox">
          <label><input type="checkbox" name="kr-hide-quote" id="kr-hide-quote"> Masquer la citation du footer</label>
        </div>
      `;

      const container = document.createElement('div');
      container.id = 'kr-tamper-theme';
      container.className = 'well kr-tamper-theme';
      container.innerHTML = `
        <h4>Thème Tampermonkey (Activez le thème de base officiel pour éviter les conflits)</h4>
        <form id="kr-tamper-theme-form" class="form-horizontal">
          <div class="form-group">
            <label class="col-sm-3 control-label">Choix du thème</label>
            <div class="col-sm-9">${radios}</div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label">Affichage des caractéristiques</label>
            <div class="col-sm-9">${statsDisplayRadios}</div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label">Options du footer</label>
            <div class="col-sm-9">${hideQuoteCheckbox}</div>
          </div>
        </form>
      `;

      target.parentElement.insertBefore(container, target);

      const form = container.querySelector('#kr-tamper-theme-form');
      
      function syncUI() {
        if (!isThemeEnabled()) {
          const d = form.querySelector('input[value="disable"]');
          if (d) d.checked = true;
        } else {
          const v = getVariant();
          const el = form.querySelector(`input[value="${v}"]`);
          if (el) el.checked = true;
        }
        
        // Synchroniser l'affichage des caractéristiques
        const statsMode = getStatsDisplayMode();
        const statsEl = form.querySelector(`input[name="kr-stats-display"][value="${statsMode}"]`);
        if (statsEl) statsEl.checked = true;
        
        // Synchroniser l'option de masquage de la citation
        const hideQuote = localStorage.getItem('kr-hide-footer-quote') === 'true';
        const hideQuoteEl = form.querySelector('#kr-hide-quote');
        if (hideQuoteEl) hideQuoteEl.checked = hideQuote;
      }

      form.addEventListener('change', (e) => {
        // Gestion du changement de thème
        if (e.target.name === 'kr-theme') {
          const sel = form.querySelector('input[name="kr-theme"]:checked');
          if (!sel) return;
          const val = sel.value;

          const feedback = document.createElement('div');
          feedback.className = 'alert alert-success';
          feedback.textContent = val === 'disable' 
            ? 'Désactivation du thème...' 
            : 'Application du thème: ' + val;
          container.appendChild(feedback);

          setTimeout(() => applyThemeVariant(val), 300);
        }
        
        // Gestion du changement d'affichage des caractéristiques
        if (e.target.name === 'kr-stats-display') {
          const sel = form.querySelector('input[name="kr-stats-display"]:checked');
          if (!sel) return;
          const val = sel.value;

          localStorage.setItem(CONFIG.STATS_DISPLAY_KEY, val);

          const feedback = document.createElement('div');
          feedback.className = 'alert alert-success';
          feedback.textContent = val === 'icon' 
            ? 'Affichage en icônes activé. Rechargez la page pour voir les changements.' 
            : 'Affichage en texte activé. Rechargez la page pour voir les changements.';
          container.appendChild(feedback);

          setTimeout(() => {
            feedback.remove();
          }, 5000);
        }
        
        // Gestion du masquage de la citation
        if (e.target.name === 'kr-hide-quote') {
          const isChecked = e.target.checked;
          localStorage.setItem('kr-hide-footer-quote', isChecked.toString());
          
          // Appliquer immédiatement le changement
          if (isChecked) {
            document.documentElement.classList.add('kr-hide-footer-quote');
          } else {
            document.documentElement.classList.remove('kr-hide-footer-quote');
          }

          const feedback = document.createElement('div');
          feedback.className = 'alert alert-success';
          feedback.textContent = isChecked 
            ? 'Citation du footer masquée.' 
            : 'Citation du footer affichée.';
          container.appendChild(feedback);

          setTimeout(() => {
            feedback.remove();
          }, 3000);
        }
      });

      syncUI();
      return true;
    }

    if (!tryInsert()) {
      let attempts = 0;
      const id = setInterval(() => {
        attempts++;
        if (tryInsert() || attempts > 25) clearInterval(id);
      }, 200);
    }
  }

  // ============================================================================
  // OBSERVERS
  // ============================================================================

  function startObservers() {
    let domTransformationsApplied = false;

    const mo = new MutationObserver(() => {
      if (isThemeEnabled()) {
        if (!document.getElementById(CONFIG.STYLE_ID)) {
          applyThemeInline(CONFIG.BUNDLED_CSS).catch(() => {});
        }
        if (!domTransformationsApplied) {
          applyDOMTransformations();
          domTransformationsApplied = true;
        }
      }
      safeCall(insertToggleCSSButton);
    });

    mo.observe(document.documentElement || document, { childList: true, subtree: true });

    // SPA navigation
    const wrap = orig => function() {
      const ret = orig.apply(this, arguments);
      setTimeout(() => ensureTheme(), 250);
      return ret;
    };
    history.pushState = wrap(history.pushState);
    history.replaceState = wrap(history.replaceState);
    window.addEventListener('popstate', () => setTimeout(() => ensureTheme(), 250));
  }

  // ============================================================================
  // MODAL BACKDROP CLICK TO CLOSE
  // ============================================================================

  /** 
   * Active la fermeture des modals Bootbox en cliquant à l'extérieur
   * Par défaut, Kraland configure Bootbox avec backdrop: "static" 
   * qui empêche la fermeture par clic extérieur
   * 
   * Empêche également le scroll automatique de la page lors de l'ouverture
   */
  function enableModalBackdropClick() {
    // Sauvegarder la position avant chaque modal
    let scrollBeforeModal = { x: 0, y: 0 };
    
    const modalObserver = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        mutation.addedNodes.forEach((node) => {
          // Vérifier si c'est une modal Bootbox
          if (node.nodeType === 1 && node.classList?.contains('bootbox')) {
            // Sauvegarder immédiatement la position actuelle
            scrollBeforeModal.x = window.scrollX;
            scrollBeforeModal.y = window.scrollY;
            
            setTimeout(() => {
              // Récupérer les données Bootstrap de la modal
              const modalData = $(node).data('bs.modal');
              if (modalData && modalData.options.backdrop === 'static') {
                // Changer backdrop de "static" à true pour permettre fermeture par clic
                modalData.options.backdrop = true;
                
                // Réattacher le handler de clic sur backdrop
                $(node).off('click.dismiss.bs.modal').on('click.dismiss.bs.modal', function(e) {
                  if (e.target === this) {
                    $(this).modal('hide');
                  }
                });
              }
              
              // Restaurer la position de scroll
              window.scrollTo(scrollBeforeModal.x, scrollBeforeModal.y);
            }, 100); // Augmenter le délai à 100ms pour laisser Bootstrap terminer
            
            // Ajouter aussi un handler sur l'événement 'shown.bs.modal' pour être sûr
            $(node).one('shown.bs.modal', function() {
              window.scrollTo(scrollBeforeModal.x, scrollBeforeModal.y);
            });
          }
        });
      });
    });

    // Observer le body pour détecter l'ajout de modals
    modalObserver.observe(document.body, { childList: true, subtree: false });
  }

  // ============================================================================
  // HORLOGE À DOUBLE TOUR
  // ============================================================================

  /**
   * Gère l'affichage de l'horloge à double tour (0-48h)
   * Le HTML contient une classe .c100 avec .pXX (pourcentage 0-100) et <span>HH:MM</span>
   * Pour les heures >24h, on ajoute data-second-lap="true" et on ajuste la classe
   * Applique également un code couleur selon les paliers d'heures (comme les PV)
   */
  function handleDualLapClock() {
    const clockEl = document.querySelector('.c100');
    if (!clockEl) return;

    const timeSpan = clockEl.querySelector('span');
    if (!timeSpan) return;

    // Extraire l'heure du format "HH:MM"
    const timeText = timeSpan.textContent.trim();
    const match = timeText.match(/^(\d{1,2}):(\d{2})$/);
    if (!match) return;

    const hours = parseInt(match[1], 10);
    const minutes = parseInt(match[2], 10);

    // Calculer le total en minutes depuis le début de la journée Kraland
    const totalMinutes = hours * 60 + minutes;
    
    // Système de couleurs par palier d'heures (inspiré des PV)
    // 0-6h   → Rouge foncé (#8B0000) - "Critique"
    // 6-12h  → Orange (#FF8C00) - "Attention"
    // 12-18h → Jaune/or (#FFD700) - "Moyen"
    // 18-24h → Vert clair (#90EE90) - "Bon"
    // 24-48h → Vert lime (#32CD32) - "Excellent" (second tour)
    let clockColor;
    if (hours >= 24) {
      clockColor = '#32CD32'; // Vert lime - Second tour
    } else if (hours >= 18) {
      clockColor = '#90EE90'; // Vert clair
    } else if (hours >= 12) {
      clockColor = '#FFD700'; // Jaune/or
    } else if (hours >= 6) {
      clockColor = '#FF8C00'; // Orange
    } else {
      clockColor = '#8B0000'; // Rouge foncé
    }
    
    // Appliquer la couleur via CSS custom property
    clockEl.style.setProperty('--clock-color', clockColor);
    
    // Une journée Kraland = 24h = 1440 minutes
    // Si on dépasse 24h, on est sur le deuxième tour
    if (hours >= 24) {
      clockEl.setAttribute('data-second-lap', 'true');
      
      // Calculer le nouveau pourcentage pour 24-48h
      // On mappe 24-48h sur 0-100% du deuxième tour
      const hoursInSecondLap = hours - 24;
      const percentInSecondLap = Math.floor(((hoursInSecondLap * 60 + minutes) / 1440) * 100);
      
      // Retirer l'ancienne classe pXX
      clockEl.className = clockEl.className.replace(/\bp\d{1,3}\b/g, '');
      // Ajouter la nouvelle classe
      clockEl.className += ' p' + percentInSecondLap;
    } else {
      // Premier tour (0-24h) - rien à changer, le serveur fournit déjà le bon pourcentage
      clockEl.removeAttribute('data-second-lap');
    }
  }

  // ============================================================================
  // MOBILE FEATURES
  // Fonctionnalités spécifiques au mobile (Phase 6)
  // ============================================================================

  /**
   * Initialise les fonctionnalités mobiles
   * - Overlay pour fermer les panneaux latéraux
   * - Bouton pour ouvrir le panneau de compétences
   * - Gestion du mini-chat mobile
   */
  function initMobileFeatures() {
    const isMobile = window.innerWidth < 768;
    if (!isMobile) return;

    // Créer l'overlay pour fermer les panneaux
    createMobileOverlay();

    // Initialiser le panneau de compétences mobile
    initMobileSkillsPanel();

    // Initialiser le mini-chat mobile
    initMobileMiniChat();

    // Gérer le redimensionnement de la fenêtre
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        const nowMobile = window.innerWidth < 768;
        if (nowMobile !== isMobile) {
          location.reload(); // Recharger si on passe desktop <-> mobile
        }
      }, 250);
    });
  }

  /**
   * Crée l'overlay mobile pour fermer les panneaux latéraux
   */
  function createMobileOverlay() {
    if (document.querySelector('.kr-mobile-overlay')) return;

    const overlay = document.createElement('div');
    overlay.className = 'kr-mobile-overlay';
    overlay.addEventListener('click', () => {
      // Fermer le panneau de compétences
      const skillsPanel = document.getElementById('skills-panel');
      if (skillsPanel) {
        skillsPanel.classList.remove('mobile-open');
      }

      // Fermer le mini-chat
      const miniChat = document.getElementById('flap');
      if (miniChat) {
        miniChat.classList.remove('mobile-open');
      }

      // Masquer l'overlay
      overlay.classList.remove('active');
    });

    document.body.appendChild(overlay);
  }

  /**
   * Initialise le panneau de compétences pour mobile
   */
  function initMobileSkillsPanel() {
    if (!isPlatoPage()) return;

    const skillsPanel = document.getElementById('skills-panel');
    if (!skillsPanel) return;

    // Créer le bouton pour ouvrir le panneau de compétences
    const skillsToggle = document.createElement('button');
    skillsToggle.className = 'kr-mobile-skills-toggle btn btn-primary';
    skillsToggle.innerHTML = '<i class="fa fa-chart-bar"></i>';
    skillsToggle.setAttribute('aria-label', 'Afficher les compétences');
    skillsToggle.onclick = () => {
      skillsPanel.classList.toggle('mobile-open');
      const overlay = document.querySelector('.kr-mobile-overlay');
      if (overlay) {
        overlay.classList.toggle('active');
      }
    };

    document.body.appendChild(skillsToggle);

    // Créer le bouton de fermeture dans le panneau
    const closeBtn = document.createElement('button');
    closeBtn.className = 'kr-mobile-close';
    closeBtn.innerHTML = '×';
    closeBtn.setAttribute('aria-label', 'Fermer');
    closeBtn.onclick = () => {
      skillsPanel.classList.remove('mobile-open');
      const overlay = document.querySelector('.kr-mobile-overlay');
      if (overlay) {
        overlay.classList.remove('active');
      }
    };

    skillsPanel.insertBefore(closeBtn, skillsPanel.firstChild);
  }

  /**
   * Initialise le mini-chat pour mobile
   */
  function initMobileMiniChat() {
    const miniChat = document.getElementById('flap');
    if (!miniChat) return;

    // Bouton pour ouvrir le mini-chat
    const chatButton = document.querySelector('a[href*="#flap"]');
    if (chatButton) {
      chatButton.addEventListener('click', (e) => {
        e.preventDefault();
        miniChat.classList.toggle('mobile-open');
        const overlay = document.querySelector('.kr-mobile-overlay');
        if (overlay) {
          overlay.classList.toggle('active');
        }
      });
    }

    // Créer le bouton de fermeture dans le mini-chat
    if (!miniChat.querySelector('.kr-mobile-close')) {
      const closeBtn = document.createElement('button');
      closeBtn.className = 'kr-mobile-close';
      closeBtn.innerHTML = '×';
      closeBtn.setAttribute('aria-label', 'Fermer le mini-chat');
      closeBtn.onclick = () => {
        miniChat.classList.remove('mobile-open');
        const overlay = document.querySelector('.kr-mobile-overlay');
        if (overlay) {
          overlay.classList.remove('active');
        }
      };

      // Trouver le header du mini-chat pour y insérer le bouton
      const chatHeader = miniChat.querySelector('.panel-heading') || 
                        miniChat.querySelector('.modal-header') ||
                        miniChat.firstElementChild;

      if (chatHeader) {
        chatHeader.style.position = 'relative';
        chatHeader.appendChild(closeBtn);
      } else {
        miniChat.insertBefore(closeBtn, miniChat.firstChild);
      }
    }
  }

  // ============================================================================
  // INITIALISATION
  // ============================================================================

  (async function init() {
    try {
      const themeEnabled = getThemeState();

      // Nettoyage CSS orphelin
      const existingStyle = document.getElementById(CONFIG.STYLE_ID);
      if (!themeEnabled && existingStyle?.parentElement) {
        existingStyle.parentElement.removeChild(existingStyle);
      }

      // UI Controls (toujours)
      safeCall(insertToggleCSSButton);
      safeCall(insertTampermonkeyThemeUI);

      // Theme setup (si activé)
      if (themeEnabled) {
        await ensureTheme();

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', applyDOMTransformations, { once: true });
        } else {
          applyDOMTransformations();
        }
      }

      startObservers();

      // Activer le clic sur backdrop pour fermer les modals
      enableModalBackdropClick();

      // Gestion mobile : détection et fonctionnalités spécifiques
      initMobileFeatures();

      // Déplacer le style à la fin du head pour la priorité
      setTimeout(() => {
        const st = document.getElementById(CONFIG.STYLE_ID);
        if (isThemeEnabled() && st?.parentElement) {
          st.parentElement.appendChild(st);
        } else if (!isThemeEnabled() && st?.parentElement) {
          st.parentElement.removeChild(st);
        }
      }, 1000);

      // Désactiver les tooltips périodiquement
      setInterval(disableTooltips, 2000);

    } catch(e) { 
      console.error('Kraland theme init failed', e); 
    }
  })();
})();
